!function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}}()({1:[function(require,module,exports){module.exports=[{city:"Adana",code:1,districts:["Aladağ","Ceyhan","Çukurova","Feke","İmamoğlu","Karaisalı","Karataş","Kozan","Pozantı","Saimbeyli","Sarıçam","Seyhan","Tufanbeyli","Yumurtalık","Yüreğir"]},{city:"Adıyaman",code:2,districts:["Besni","Çelikhan","Gerger","Gölbaşı","Kahta","Merkez","Samsat","Sincik","Tut"]},{city:"Afyonkarahisar",code:3,districts:["Başmakçı","Bayat","Bolvadin","Çay","Çobanlar","Dazkırı","Dinar","Emirdağ","Evciler","Hocalar","İhsaniye","İscehisar","Kızılören","Merkez","Sandıklı","Sinanpaşa","Sultandağı","Şuhut"]},{city:"Ağrı",code:4,districts:["Diyadin","Doğubayazıt","Eleşkirt","Hamur","Merkez","Patnos","Taşlıçay","Tutak"]},{city:"Amasya",code:5,districts:["Göynücek","Gümüşhacıköy","Hamamözü","Merkez","Merzifon","Suluova","Taşova"]},{city:"Ankara",code:6,districts:["Altındağ","Ayaş","Bala","Beypazarı","Çamlıdere","Çankaya","Çubuk","Elmadağ","Güdül","Haymana","Kalecik","Kızılcahamam","Nallıhan","Polatlı","Şereflikoçhisar","Yenimahalle","Gölbaşı","Keçiören","Mamak","Sincan","Kazan","Akyurt","Etimesgut","Evren","Pursaklar"]},{city:"Antalya",code:7,districts:["Akseki","Alanya","Elmalı","Finike","Gazipaşa","Gündoğmuş","Kaş","Korkuteli","Kumluca","Manavgat","Serik","Demre","İbradı","Kemer","Aksu","Döşemealtı","Kepez","Konyaaltı","Muratpaşa"]},{city:"Artvin",code:8,districts:["Ardanuç","Arhavi","Merkez","Borçka","Hopa","Şavşat","Yusufeli","Murgul"]},{city:"Aydın",code:9,districts:["Merkez","Bozdoğan","Efeler","Çine","Germencik","Karacasu","Koçarlı","Kuşadası","Kuyucak","Nazilli","Söke","Sultanhisar","Yenipazar","Buharkent","İncirliova","Karpuzlu","Köşk","Didim"]},{city:"Balıkesir",code:10,districts:["Altıeylül","Ayvalık","Merkez","Balya","Bandırma","Bigadiç","Burhaniye","Dursunbey","Edremit","Erdek","Gönen","Havran","İvrindi","Karesi","Kepsut","Manyas","Savaştepe","Sındırgı","Gömeç","Susurluk","Marmara"]},{city:"Bilecik",code:11,districts:["Merkez","Bozüyük","Gölpazarı","Osmaneli","Pazaryeri","Söğüt","Yenipazar","İnhisar"]},{city:"Bingöl",code:12,districts:["Merkez","Genç","Karlıova","Kiğı","Solhan","Adaklı","Yayladere","Yedisu"]},{city:"Bitlis",code:13,districts:["Adilcevaz","Ahlat","Merkez","Hizan","Mutki","Tatvan","Güroymak"]},{city:"Bolu",code:14,districts:["Merkez","Gerede","Göynük","Kıbrıscık","Mengen","Mudurnu","Seben","Dörtdivan","Yeniçağa"]},{city:"Burdur",code:15,districts:["Ağlasun","Bucak","Merkez","Gölhisar","Tefenni","Yeşilova","Karamanlı","Kemer","Altınyayla","Çavdır","Çeltikçi"]},{city:"Bursa",code:16,districts:["Gemlik","İnegöl","İznik","Karacabey","Keles","Mudanya","Mustafakemalpaşa","Orhaneli","Orhangazi","Yenişehir","Büyükorhan","Harmancık","Nilüfer","Osmangazi","Yıldırım","Gürsu","Kestel"]},{city:"Çanakkale",code:17,districts:["Ayvacık","Bayramiç","Biga","Bozcaada","Çan","Merkez","Eceabat","Ezine","Gelibolu","Gökçeada","Lapseki","Yenice"]},{city:"Çankırı",code:18,districts:["Merkez","Çerkeş","Eldivan","Ilgaz","Kurşunlu","Orta","Şabanözü","Yapraklı","Atkaracalar","Kızılırmak","Bayramören","Korgun"]},{city:"Çorum",code:19,districts:["Alaca","Bayat","Merkez","İskilip","Kargı","Mecitözü","Ortaköy","Osmancık","Sungurlu","Boğazkale","Uğurludağ","Dodurga","Laçin","Oğuzlar"]},{city:"Denizli",code:20,districts:["Acıpayam","Buldan","Çal","Çameli","Çardak","Çivril","Merkez","Merkezefendi","Pamukkale","Güney","Kale","Sarayköy","Tavas","Babadağ","Bekilli","Honaz","Serinhisar","Baklan","Beyağaç","Bozkurt"]},{city:"Diyarbakır",code:21,districts:["Kocaköy","Çermik","Çınar","Çüngüş","Dicle","Ergani","Hani","Hazro","Kulp","Lice","Silvan","Eğcity","Bağlar","Kayapınar","Sur","Yenişehir","Bismil"]},{city:"Edirne",code:22,districts:["Merkez","Enez","Havsa","İpsala","Keşan","Lalapaşa","Meriç","Uzunköprü","Süloğlu"]},{city:"Elazığ",code:23,districts:["Ağın","Baskil","Merkez","Karakoçan","Keban","Maden","Palu","Sivrice","Arıcak","Kovancılar","Alacakaya"]},{city:"Erzincan",code:24,districts:["Çayırlı","Merkez","İliç","Kemah","Kemaliye","Refahiye","Tercan","Üzümlü","Otlukbeli"]},{city:"Erzurum",code:25,districts:["Aşkale","Çat","Hınıs","Horasan","İspir","Karayazı","Narman","Oltu","Olur","Pasinler","Şenkaya","Tekman","Tortum","Karaçoban","Uzundere","Pazaryolu","Köprüköy","Palandöken","Yakutiye","Aziziye"]},{city:"Eskişehir",code:26,districts:["Çifteler","Mahmudiye","Mihalıççık","Sarıcakaya","Seyitgazi","Sivrihisar","Alpu","Beylikova","İnönü","Günyüzü","Han","Mihalgazi","Odunpazarı","Tepebaşı"]},{city:"Gaziantep",code:27,districts:["Araban","İslahiye","Nizip","Oğuzeli","Yavuzeli","Şahinbey","Şehitkamil","Karkamış","Nurdağı"]},{city:"Giresun",code:28,districts:["Alucra","Bulancak","Dereli","Espiye","Eynesil","Merkez","Görele","Keşap","Şebinkarahisar","Tirebolu","Piraziz","Yağlıdere","Çamoluk","Çanakçı","Doğankent","Güce"]},{city:"Gümüşhane",code:29,districts:["Merkez","Kelkit","Şiran","Torul","Köse","Kürtün"]},{city:"Hakkari",code:30,districts:["Çukurca","Merkez","Şemdinli","Yüksekova"]},{city:"Hatay",code:31,districts:["Altınözü","Arsuz","Defne","Dörtyol","Hassa","Antakya","İskenderun","Kırıkhan","Payas","Reyhanlı","Samandağ","Yayladağı","Erzin","Belen","Kumlu"]},{city:"Isparta",code:32,districts:["Atabey","Eğirdir","Gelendost","Merkez","Keçiborlu","Senirkent","Sütçüler","Şarkikaraağaç","Uluborlu","Yalvaç","Aksu","Gönen","Yenişarbademli"]},{city:"Mersin",code:33,districts:["Anamur","Erdemli","Gülnar","Mut","Silifke","Tarsus","Aydıncık","Bozyazı","Çamlıyayla","Akdeniz","Mezitli","Toroslar","Yenişehir"]},{city:"İstanbul",code:34,districts:["Adalar","Bakırköy","Beşiktaş","Beykoz","Beyoğlu","Çatalca","Eyüp","Fatih","Gaziosmanpaşa","Kadıköy","Kartal","Sarıyer","Silivri","Şile","Şişli","Üsküdar","Zeytinburnu","Büyükçekmece","Kağıthane","Küçükçekmece","Pendik","Ümraniye","Bayrampaşa","Avcılar","Bağcılar","Bahçelievler","Güngören","Maltepe","Sultanbeyli","Tuzla","Esenler","Arnavutköy","Ataşehir","Başakşehir","Beylikdüzü","Çekmeköy","Esenyurt","Sancaktepe","Sultangazi"]},{city:"İzmir",code:35,districts:["Aliağa","Bayındır","Bergama","Bornova","Çeşme","Dikili","Foça","Karaburun","Karşıyaka","Kemalpaşa","Kınık","Kiraz","Menemen","Ödemiş","Seferihisar","Selçuk","Tire","Torbalı","Urla","Beydağ","Buca","Konak","Menderes","Balçova","Çiğli","Gaziemir","Narlıdere","Güzelbahçe","Bayraklı","Karabağlar"]},{city:"Kars",code:36,districts:["Arpaçay","Digor","Kağızman","Merkez","Sarıkamış","Selim","Susuz","Akyaka"]},{city:"Kastamonu",code:37,districts:["Abana","Araç","Azdavay","Bozkurt","Cide","Çatalzeytin","Daday","Devrekani","İnebolu","Merkez","Küre","Taşköprü","Tosya","İhsangazi","Pınarbaşı","Şenpazar","Ağlı","Doğanyurt","Hanönü","Seydiler"]},{city:"Kayseri",code:38,districts:["Bünyan","Develi","Felahiye","İncesu","Pınarbaşı","Sarıoğlan","Sarız","Tomarza","Yahyalı","Yeşilhisar","Akkışla","Talas","Kocasinan","Melikgazi","Hacılar","Özvatan"]},{city:"Kırklareli",code:39,districts:["Babaeski","Demirköy","Merkez","Kofçaz","Lüleburgaz","Pehlivanköy","Pınarhisar","Vize"]},{city:"Kırşehir",code:40,districts:["Çiçekdağı","Kaman","Merkez","Mucur","Akpınar","Akçakent","Boztepe"]},{city:"Kocaeli",code:41,districts:["Gebze","Gölcük","Kandıra","Karamürsel","Körfez","Derince","Başiskele","Çayırova","Darıca","Dilovası","İzmit","Kartepe"]},{city:"Konya",code:42,districts:["Akşehir","Beyşehir","Bozkır","Cihanbeyli","Çumra","Doğanhisar","Ereğli","Hadim","Ilgın","Kadınhanı","Karapınar","Kulu","Sarayönü","Seydişehir","Yunak","Akören","Altınekin","Derebucak","Hüyük","Karatay","Meram","Selçuklu","Taşkent","Ahırlı","Çeltik","Derbent","Emirgazi","Güneysınır","Halkapınar","Tuzlukçu","Yalıhüyük"]},{city:"Kütahya",code:43,districts:["Altıntaş","Domaniç","Emet","Gediz","Merkez","Simav","Tavşanlı","Aslanapa","Dumlupınar","Hisarcık","Şaphane","Çavdarhisar","Pazarlar"]},{city:"Malatya",code:44,districts:["Akçadağ","Arapgir","Arguvan","Darende","Doğanşehir","Hekimhan","Merkez","Pütürge","Yeşilyurt","Battalgazi","Doğanyol","Kale","Kuluncak","Yazıhan"]},{city:"Manisa",code:45,districts:["Akhisar","Alaşehir","Demirci","Gördes","Kırkağaç","Kula","Merkez","Salihli","Sarıgöl","Saruhanlı","Selendi","Soma","Şehzadeler","Yunusemre","Turgutlu","Ahmetli","Gölmarmara","Köprübaşı"]},{city:"Kahramanmaraş",code:46,districts:["Afşin","Andırın","Dulkadiroğlu","Onikişubat","Elbistan","Göksun","Merkez","Pazarcık","Türkoğlu","Çağlayancerit","Ekinözü","Nurhak"]},{city:"Mardin",code:47,districts:["Derik","Kızıltepe","Artuklu","Merkez","Mazıdağı","Midyat","Nusaybin","Ömerli","Savur","Dargeçit","Yeşilli"]},{city:"Muğla",code:48,districts:["Bodrum","Datça","Fethiye","Köyceğiz","Marmaris","Menteşe","Milas","Ula","Yatağan","Dalaman","Seydikemer","Ortaca","Kavaklıdere"]},{city:"Muş",code:49,districts:["Bulanık","Malazgirt","Merkez","Varto","Hasköy","Korkut"]},{city:"Nevşehir",code:50,districts:["Avanos","Derinkuyu","Gülşehir","Hacıbektaş","Kozaklı","Merkez","Ürgüp","Acıgöl"]},{city:"Niğde",code:51,districts:["Bor","Çamardı","Merkez","Ulukışla","Altunhisar","Çiftlik"]},{city:"Ordu",code:52,districts:["Akkuş","Altınordu","Aybastı","Fatsa","Gölköy","Korgan","Kumru","Mesudiye","Perşembe","Ulubey","Ünye","Gülyalı","Gürgentepe","Çamaş","Çatalpınar","Çaybaşı","İkizce","Kabadüz","Kabataş"]},{city:"Rize",code:53,districts:["Ardeşen","Çamlıhemşin","Çayeli","Fındıklı","İkizdere","Kalkandere","Pazar","Merkez","Güneysu","Derepazarı","Hemşin","İyidere"]},{city:"Sakarya",code:54,districts:["Akyazı","Geyve","Hendek","Karasu","Kaynarca","Sapanca","Kocaali","Pamukova","Taraklı","Ferizli","Karapürçek","Söğütlü","Adapazarı","Arifiye","Erenler","Serdivan"]},{city:"Samsun",code:55,districts:["Alaçam","Bafra","Çarşamba","Havza","Kavak","Ladik","Terme","Vezirköprü","Asarcık","Ondokuzmayıs","Salıpazarı","Tekkeköy","Ayvacık","Yakakent","Atakum","Canik","İlkadım"]},{city:"Siirt",code:56,districts:["Baykan","Eruh","Kurtalan","Pervari","Merkez","Şirvan","Tillo"]},{city:"Sinop",code:57,districts:["Ayancık","Boyabat","Durağan","Erfelek","Gerze","Merkez","Türkeli","Dikmen","Saraydüzü"]},{city:"Sivas",code:58,districts:["Divriği","Gemerek","Gürün","Hafik","İmranlı","Kangal","Koyulhisar","Merkez","Suşehri","Şarkışla","Yıldızeli","Zara","Akıncılar","Altınyayla","Doğanşar","Gölova","Ulaş"]},{city:"Tekirdağ",code:59,districts:["Çerkezköy","Çorlu","Ergene","Hayrabolu","Malkara","Muratlı","Saray","Süleymanpaşa","Kapaklı","Şarköy","Marmaraereğlisi"]},{city:"Tokat",code:60,districts:["Almus","Artova","Erbaa","Niksar","Reşadiye","Merkez","Turhal","Zile","Pazar","Yeşilyurt","Başçiftlik","Sulusaray"]},{city:"Trabzon",code:61,districts:["Akçaabat","Araklı","Arsin","Çaykara","Maçka","Of","Ortahisar","Sürmene","Tonya","Vakfıkebir","Yomra","Beşikdüzü","Şalpazarı","Çarşıbaşı","Dernekpazarı","Düzköy","Hayrat","Köprübaşı"]},{city:"Tunceli",code:62,districts:["Çemişgezek","Hozat","Mazgirt","Nazımiye","Ovacık","Pertek","Pülümür","Merkez"]},{city:"Şanlıurfa",code:63,districts:["Akçakale","Birecik","Bozova","Ceylanpınar","Eyyübiye","Halfeti","Haliliye","Hilvan","Karaköprü","Siverek","Suruç","Viranşehir","Harran"]},{city:"Uşak",code:64,districts:["Banaz","Eşme","Karahallı","Sivaslı","Ulubey","Merkez"]},{city:"Van",code:65,districts:["Başkale","Çatak","Erciş","Gevaş","Gürpınar","İpekyolu","Muradiye","Özalp","Tuşba","Bahçesaray","Çaldıran","Edremit","Saray"]},{city:"Yozgat",code:66,districts:["Akdağmadeni","Boğazlıyan","Çayıralan","Çekerek","Sarıkaya","Sorgun","Şefaatli","Yerköy","Merkez","Aydıncık","Çandır","Kadışehri","Saraykent","Yenifakılı"]},{city:"Zonguldak",code:67,districts:["Çaycuma","Devrek","Ereğli","Merkez","Alaplı","Gökçebey"]},{city:"Aksaray",code:68,districts:["Ağaçören","Eskil","Gülağaç","Güzelyurt","Merkez","Ortaköy","Sarıyahşi"]},{city:"Bayburt",code:69,districts:["Merkez","Aydıntepe","Demirözü"]},{city:"Karaman",code:70,districts:["Ermenek","Merkez","Ayrancı","Kazımkarabekir","Başyayla","Sarıveliler"]},{city:"Kırıkkale",code:71,districts:["Delice","Keskin","Merkez","Sulakyurt","Bahşili","Balışeyh","Çelebi","Karakeçili","Yahşihan"]},{city:"Batman",code:72,districts:["Merkez","Beşiri","Gercüş","Kozluk","Sason","Hasankeyf"]},{city:"Şırnak",code:73,districts:["Beytüşşebap","Cizre","İdil","Silopi","Merkez","Uludere","Güçlükonak"]},{city:"Bartın",code:74,districts:["Merkez","Kurucaşile","Ulus","Amasra"]},{city:"Ardahan",code:75,districts:["Merkez","Çıldır","Göle","Hanak","Posof","Damal"]},{city:"Iğdır",code:76,districts:["Aralık","Merkez","Tuzluca","Karakoyunlu"]},{city:"Yalova",code:77,districts:["Merkez","Altınova","Armutlu","Çınarcık","Çiftlikköy","Termal"]},{city:"Karabük",code:78,districts:["Eflani","Eskipazar","Merkez","Ovacık","Safranbolu","Yenice"]},{city:"Kilis",code:79,districts:["Merkez","Elbeyli","Musabeyli","Polateli"]},{city:"Osmaniye",code:80,districts:["Bahçe","Kadirli","Merkez","Düziçi","Hasanbeyli","Sumbas","Toprakkale"]},{city:"Düzce",code:81,districts:["Akçakoca","Merkez","Yığılca","Cumayeri","Gölyaka","Çilimli","Gümüşova","Kaynaşlı"]}]},{}],2:[function(require,module,exports){Ractive.components["ace-editorLOADING"]=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui message yellow",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui p",g:1}],f:[{t:7,e:"i",f:["You can use a simple textarea while ",{t:7,e:"code",f:["ace-editor"]}," is being fetched..."]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui form",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[{t:7,e:"textarea",m:[{n:"value",f:[{t:2,r:"code"}],t:13}]}]}]}]}]}}),Ractive.partials["ace-editor"]=getSynchronizer("ace-editorLOADING")},{}],3:[function(require,module,exports){var sleep,VLogger,Signal,RactiveActor;require("aea/packing").merge,sleep=require("aea/sleep").sleep,VLogger=require("aea/vlogger").VLogger,Signal=require("dcs/src/signal").Signal,RactiveActor=require("actors/ractive-actor").RactiveActor,Ractive.components["ack-button"]=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{n:"class",f:["ui button ",{t:2,r:"class"}," ack-button ",{t:4,f:[{t:4,f:["labeled icon"],n:51,r:"custom"}],n:50,x:{r:["state"],s:'_0==="doing"||_0==="done"||_0==="error"'}}," ",{t:4,f:["disabled"],n:50,x:{r:["disabled","selfDisabled","enabled"],s:"_0||_1||!_2"}}," ",{t:4,f:["disabled"],n:50,x:{r:["state"],s:'_0==="doing"'}}," ",{t:4,f:["active"],r:"active"}," "],t:13},{n:["click"],t:70,f:"_click"},{n:"title",f:[{t:2,r:"tooltip"}],t:13},{n:"type",f:[{t:2,r:"type"}],t:13},{n:"style",f:[{t:2,r:"style"}," ",{t:4,f:["background-color: transparent;"],n:50,r:"transparen"}],t:13}],f:[{t:4,f:[{t:4,f:[{t:4,f:[{t:7,e:"i",m:[{t:13,n:"class",f:"icon heart",g:1}]}],n:50,r:"heartbeat"},{t:4,f:[{t:7,e:"i",m:[{t:13,n:"style",f:"z-index: 99999;",g:1},{t:13,n:"class",f:"icon",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui active mini inverted loader",g:1}]}]}],n:51,l:1}],n:50,x:{r:["state"],s:'_0==="doing"'}},{t:4,f:[{t:7,e:"i",m:[{t:13,n:"class",f:"icon checkmark",g:1}]}],n:50,x:{r:["state"],s:'_0==="done"'},l:1},{t:4,f:[{t:7,e:"i",m:[{t:13,n:"class",f:"warning sign icon",g:1}]}],n:50,x:{r:["state"],s:'_0==="error"'},l:1}],n:51,r:"custom"},{t:16}]}],e:{}},isolated:!0,oninit:function(){var that;return(that=this.get("class"))&&that.indexOf("transparent")>-1&&this.set("transparent",!0),this.actor=new RactiveActor(this,"ack-button"),this.doingWatchdog=new Signal},onrender:function(){var logger,that,setButton,this$=this;if(logger=new VLogger(this,"ack-button"),this.buttonTimeout=(that=this.get("timeout"))?that:6e3,setButton=function(mode,message){if(this$.set("state",mode),this$.set("tooltip",message),"doing"!==mode)return this$.doingWatchdog.go()},this.actor.defaultTopic&&this.actor.cLog("here is default route: ",this.actor.defaultRoute),this.on({_click:function(ctx){var c;if("doing"!==this.get("state"))return(c=ctx.getParent(!0)).refire=!0,c.actor=this.actor,this.get("value"),this.doingWatchdog.reset(),this.set("tooltip",""),this.fire("click",c),!1;logger.cwarn("ack-button prevents multiple click.We shouldn't see this message as 'disabled' stateshould have taken care of this problem.")},state:function(ctx,state){return this.state(state)}}),this.state=function(state){switch(state){case"done":return setButton("done");case"done...":return setButton("done"),sleep(3e3,function(){return setButton("normal")});case"normal":return setButton("normal");case"doing":return setButton("doing"),this$.set("selfDisabled",!0),this$.doingWatchdog.wait(this$.buttonTimeout,function(timeout){if(this$.set("selfDisabled",!1),timeout)return setButton("error","Button is timed out.")})}},this.error=function(msg,callback){return logger.error(msg,callback),setButton("error",msg.message||msg)},this.warn=function(msg,callback){var e;try{return console.warn(msg.message),setButton("error",msg.message)}catch(e$){return e=e$,console.error(e)}},this.info=function(msg,callback){return PNotify.info({title:msg.title||"Info",text:msg.message||msg}),setButton("normal")},this.yesno=function(msg,callback){return logger.yesno(msg,callback),setButton("normal")},this.heartbeat=function(duration){var that;return logger.clog("ack-button received a heartbeat"+((that=duration)?": "+that:".")),this$.doingWatchdog.heartbeat(duration),this$.set("heartbeat",!0),sleep(200,function(){return this$.set("heartbeat",!1)})},this.get("auto"))return logger.clog("auto firing ack-button!"),this.fire("click")},onteardown:function(){return this.doingWatchdog.go()},data:function(){return{tooltip:"",type:"default",value:"",class:"",style:"",disabled:!1,selfDisabled:!1,enabled:!0,state:"",transparent:!1,heartbeat:!1}}})},{"actors/ractive-actor":66,"aea/packing":78,"aea/sleep":80,"aea/vlogger":81,"dcs/src/signal":194}],4:[function(require,module,exports){var sleep;sleep=require("aea").sleep,Ractive.components.activity=Ractive.extend({template:{v:4,t:[{t:4,f:[{t:4,f:[{t:7,e:"a",m:[{n:"class",f:["ui empty orange circular label ",{t:2,r:"class"}],t:13}]}],n:50,r:"active"},{t:4,f:[{t:7,e:"a",m:[{n:"class",f:["ui empty green circular label ",{t:2,r:"class"}],t:13}]}],n:51,l:1}],n:50,r:"started"},{t:4,f:[{t:7,e:"a",m:[{n:"class",f:["ui empty gray circular label ",{t:2,r:"class"}],t:13}]}],n:51,l:1}]},isolated:!0,oninit:function(){return this.observe("value",function(curr,prev){var this$=this;if(null!=curr&&curr!==prev)return this.set("started",!0),this.set("active",!0),sleep(100,function(){return this$.set("active",!1)})})},data:function(){return{value:null,active:!1,started:!1}}})},{aea:75}],5:[function(require,module,exports){var DcsSocketIOBrowser,BrowserStorage,ref$,join,split,topicMatch,currUrl,slice$=[].slice;DcsSocketIOBrowser=require("dcs/services/dcs-proxy/socket-io/browser").DcsSocketIOBrowser,BrowserStorage=require("actors/browser-storage").BrowserStorage,(ref$=require("prelude-ls")).initial,ref$.drop,join=ref$.join,split=ref$.split,topicMatch=require("dcs/src/topic-match").topicMatch,Ractive.defaults.able=function(permission){var permissions;return permissions=function(){try{return this.get("@global.session.permissions")}catch(e$){return e$,null}}.call(this),topicMatch(permission,permissions)},Ractive.defaults.hasRoute=function(route){var routes;return routes=function(){try{return this.get("@global.session.routes")}catch(e$){return e$,null}}.call(this),topicMatch(routes,route)},Ractive.defaults.unable=function(){var args;return args=slice$.call(arguments),!Ractive.defaults.able.apply(this,args)},Ractive.defaults.loggedIn=function(){return!(!this.get("@global.session.token")||"public"===this.get("@global.session.user"))},currUrl=function(_url){var ref$,fullAddr,hash,protocol,addrWithPath,host,pathArr,path;return _url&&(_url+="/"),fullAddr=(ref$=split("#",_url||String(window.location)))[0],hash=ref$[1],protocol=(ref$=split("://",fullAddr))[0],addrWithPath=ref$[1],host=(ref$=split("/",addrWithPath))[0],pathArr=slice$.call(ref$,1),"/"===(path=join("/",pathArr))[0]&&console.error("Check address. Path part can not be started with double slashes."),{host:host,hostUrl:protocol+"://"+host,path:"/"+path,port:split(":",host)[1]||("https"===protocol?443:80),hash:hash,protocol:protocol,root:document.location.hostname,appId:addrWithPath}},Ractive.components["aktos-dcs"]=Ractive.extend({template:"",isolated:!0,oninit:function(){var url,proxy,emptySession,this$=this;return"file"===(url=currUrl(this.get("url"))).protocol&&(url.hostUrl="http://localhost:4008",url.path="/"),proxy=new DcsSocketIOBrowser({address:url.hostUrl,path:url.path,db:new BrowserStorage(url.appId+"dcs")}),emptySession={user:"",password:"",loggedin:!1,token:null,permissions:{}},this.set("@global.session",emptySession),proxy.on("logged-in",function(session){return proxy.log.log("...seems logged in."),this$.set("@global.session",session)}),proxy.once("logged-in",function(session){return console.warn("Logged in for the first time."),this$.fire("live")}),proxy.on("logged-out",function(){return proxy.log.log("seems logged out."),this$.set("@global.session",emptySession)}),proxy.on("kicked-out",function(){return proxy.log.log("seems kicked out."),this$.set("@global.session",emptySession)})}})},{"actors/browser-storage":64,"dcs/services/dcs-proxy/socket-io/browser":145,"dcs/src/topic-match":197,"prelude-ls":330}],6:[function(require,module,exports){var ref$;(ref$=require("aea")).pack,ref$.unpack,Ractive.components["assign-if-null"]=Ractive.extend({isolated:!0,template:"",onrender:function(){var left;if(!(left=this.get("left")))return left=this.get("right"),this.set("left",left)}})},{aea:75}],7:[function(require,module,exports){Ractive.components.assign=Ractive.extend({template:"",onrender:function(){var this$=this;return this.observe("right",function(value){return this$.set("left",value)})},data:function(){return{left:null,right:null}}}),Ractive.components["assign-if-null"]=Ractive.extend({template:"",onrender:function(){var this$=this;return this.observe("right",function(value){if(!this$.get("left"))return this$.set("left",value)})},data:function(){return{left:null,right:null}}})},{}],8:[function(require,module,exports){Ractive.components.async=Ractive.extend({template:"{{#if (name && @shared.deps[name]) || ready || @shared.deps._all}}\n    {{yield}}\n{{elseif @this.partials.loading}}\n    {{yield loading}}\n{{else}}\n    <div class=\"ui yellow message\">\n        We are fetching {{name || 'the'}} component...\n    </div>\n{{/if}}",data:function(){return{ready:!1,name:null}}})},{}],9:[function(require,module,exports){var Logger,BrowserStorage;Logger=require("aea").Logger,BrowserStorage=require("actors").BrowserStorage,Ractive.components["browser-storage"]=Ractive.extend({isolated:!0,template:"",oninit:function(){var that,db,ref$,fullAddr,storage,key,e;if(this.log=new Logger("BrowserStorage"),that=this.get("db"))return db=that,fullAddr=(ref$=String(window.location).split("#"))[0],ref$[1],storage=new BrowserStorage(fullAddr+"."+db),key=this.get("key"),this.set("value",function(){try{return storage.get(key)}catch(e$){return e=e$,console.error("error while getting key "+key+" from browser-storage: ",e),null}}()),this.observe("value",function(_new){return storage.set(key,_new)});this.log.err("db parameter is required!")}})},{actors:65,aea:75}],10:[function(require,module,exports){Ractive.components.btn=Ractive.extend({template:{v:4,t:[{t:4,f:[{t:7,e:"a",m:[{n:"class",f:["ui button ",{t:4,f:["disabled"],r:"disabled"}," ",{t:4,f:["active"],r:"active"}," ",{t:2,r:"class"}],t:13},{t:4,f:[{n:"onclick",f:["window.open('",{t:2,r:"href"},"')"],t:13}],n:50,r:"newtab"},{t:4,f:[{n:"href",f:[{t:2,r:"href"}],t:13}],n:51,l:1},{n:"style",f:[{t:2,r:"style"}],t:13},{n:"popup",t:71,f:{r:["tooltip"],s:"[_0]"}}],f:[{t:16}," ",{t:2,x:{r:["extra","attributes"],s:"_0-_1"}}]}],n:50,r:"href"},{t:4,f:[{t:7,e:"div",m:[{n:"class",f:["ui button ",{t:4,f:["disabled"],n:50,r:"disabled"}," ",{t:4,f:["active"],n:50,r:"active"}," ",{t:2,r:"class"}],t:13},{t:4,f:[{n:["click"],t:70,f:"_click"}],n:50,x:{r:["disabled"],s:"!_0"}},{n:"style",f:[{t:2,r:"style"}],t:13},{n:"title",f:[{t:2,r:"tooltip"}],t:13}],f:[{t:16}]}],n:51,l:1}],e:{}},isolated:!0,on:{_click:function(ctx){var c;return(c=ctx.getParent(!0)).refire=!0,this.fire("click",c),!1}},data:function(){return{type:"default",value:"",class:"",style:"",disabled:!1}}})},{}],11:[function(require,module,exports){Ractive.components["cache-asset"]=Ractive.extend({template:'<div style="display: none; background-img: url({{src}})"></div>'})},{}],12:[function(require,module,exports){var VLogger,RactiveIoProxyClient,toString$={}.toString;VLogger=require("aea/vlogger").VLogger,require("dcs/src/signal").Signal,RactiveIoProxyClient=require("actors/ractive-io-proxy-actor").RactiveIoProxyClient,Ractive.components.checkbox=Ractive.extend({template:{v:4,t:[{t:7,e:"ack-button",m:[{n:"class",f:["aea-checkbox ",{t:2,r:"class"}," ",{t:4,f:["basic"],n:50,r:"transparent"}," ",{t:4,f:["labeled"],n:50,x:{r:["~/"],s:'_0["check-state"]==="doing"'}}," icon "],t:13},{n:["click"],t:70,f:"_statechange"},{n:"style",f:[{t:2,r:"style"}," ",{t:4,f:["background-color: transparent;"],n:50,r:"transparent"}," text-align: left; "],t:13},{n:"type",f:[{t:2,r:"type"}],t:13},{n:"custom",f:0,t:13},{n:"disabled",f:[{t:2,r:"disabled"}],t:13}],f:[{t:19,f:[{t:4,f:[{t:7,e:"i",m:[{t:13,n:"class",f:"icon checkmark box",g:1}]}],n:50,x:{r:["state"],s:'_0==="checked"'}},{t:4,f:[{t:7,e:"i",m:[{t:13,n:"class",f:"icon square outline",g:1}]}],n:50,x:{r:["state"],s:'_0==="unchecked"'},l:1},{t:4,f:[{t:7,e:"i",m:[{t:13,n:"class",f:"icon minus square outline",g:1}]}],n:50,x:{r:["state"],s:'_0==="indetermined"'},l:1},{t:4,f:[{t:7,e:"i",m:[{t:13,n:"class",f:"icon",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui active mini inverted loader",g:1}]}]}],n:50,x:{r:["state"],s:'_0==="doing"'},l:1},{t:4,f:[{t:7,e:"i",m:[{t:13,n:"class",f:"icon warning sign",g:1}]}],n:50,x:{r:["state"],s:'_0==="error"'},l:1}],n:54,z:[{n:"state",x:{rx:{r:"~/",m:[{r:[],s:'"check-state"'}]}}}]},{t:16}]},{t:4,f:[{t:7,e:"div",m:[{n:"class",f:["ui button icon ",{t:2,r:"class"}],t:13},{n:["click"],t:70,f:{r:["@this"],s:'[_0.set("checked",null)]'}}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"eraser",g:1}]}]}],n:50,r:"tristate"}],e:{}},isolated:!0,oninit:function(){var that;if((that=this.get("class"))&&that.indexOf("transparent")>-1&&this.set("transparent",!0),this.debug=this.get("debug"),this.getContext().hasListener("select",!0))return this.set("async",!0)},onrender:function(){var logger,ackButton,setVisual,setState,that,ref$,x$,ioClient,this$=this;return logger=new VLogger(this,"checkbox"),ackButton=this.findComponent("ack-button"),setVisual=function(state){var ref$;return!this$.get("tristate")||"Null"!==(ref$=toString$.call(state).slice(8,-1))&&"Undefined"!==ref$?this$.set("check-state",state?"checked":"unchecked"):this$.set("check-state","indetermined")},setState=function(state){return this$.set("checked",state),setVisual(state),ackButton.fire("state","done")},(that=this.get("topic"))&&(ackButton.actor.subscribe(that),ackButton.actor.on("data",function(msg){if(that===msg.to)return setState(msg.data.curr)}),ackButton.actor.requestUpdate(that)),this.get("tristate")||"Null"!==(ref$=toString$.call(this.get("checked")).slice(8,-1))&&"Undefined"!==ref$||"Null"!==toString$.call(this.get("initial")).slice(8,-1)&&setState(this.get("initial")),this.get("route")?(this.set("check-state","doing"),(x$=ioClient=new RactiveIoProxyClient(this,{timeout:1e3,route:this.get("route"),fps:this.get("fps")})).on("error",function(err){return ackButton.warn(err),console.error("Checkbox says: ",err),this$.set("check-state","error"),this$.set("checked",null)}),x$.on("read",function(res){return setState(res.curr)})):(this.observe("checked",function(val){return setState(val)},{init:!1}),setVisual(this.get("checked"))),this.on({_statechange:function(ctx){var nextState,doneWriting,x,currCheckState,currChecked,checked,c,currState,this$=this;if(this.get("route")&&(nextState=!this.get("checked"),doneWriting=!1,x=sleep(200,function(){if(!doneWriting)return this$.set("check-state","doing")}),ioClient.write(nextState,function(err){if(doneWriting=!0,!err)try{return clearTimeout(x)}catch(e$){}})),(ctx.hasListener("statechange")||this.get("async"))&&(currCheckState=this.get("check-state"),currChecked=this.get("checked"),this.set("check-state","doing"),checked=!(checked=this.get("checked")),(c=ctx.getParent(!0)).refire=!0,c.actor=ackButton.actor,this.fire("statechange",c,checked,function(err,callback){return callback&&console.warn("DEPRECATED: callback won't be supported anymore."),err?(this$.set("check-state",currCheckState),this$.set("checked",currChecked),"TIMEOUT"!==err?logger.error(err):(ctx.component.warn({message:"Async checkbox is timed out."}),void this$.set("check-state","error"))):setState(checked)})),!(this.get("route")||ctx.hasListener("statechange")||this.get("async")))return currState=this.get("checked"),setState(!currState)}})},data:function(){return{checked:void 0,"check-state":"unchecked",transparent:!1,initial:null,fps:20}}})},{"actors/ractive-io-proxy-actor":67,"aea/vlogger":81,"dcs/src/signal":194}],13:[function(require,module,exports){Ractive.components["checklist-button"]=Ractive.extend({template:{v:4,t:[{t:7,e:"checklist",m:[{n:"items",f:[{t:2,r:"items"}],t:13},{n:"completed",f:[{t:2,r:"completed"}],t:13}]},{t:7,e:"ack-button",m:[{n:["click"],t:70,f:"success"},{n:"state",f:[{t:2,r:"@this.successState"}],t:13},{n:"type",f:[{t:4,f:["warning"],n:50,x:{r:["@this.successState"],s:'_0==="error"'}},{t:4,f:["success"],n:51,l:1}],t:13},{n:"value",f:[{t:2,x:{r:["@this"],s:'_0.get("success-value")'}}],t:13},{n:"disabled",f:[{t:2,x:{r:["completed","disabled"],s:"!_0||_1"}}],t:13}],f:[{t:2,x:{r:["@this"],s:'_0.get("success-text")'}}]},{t:7,e:"ack-button",m:[{n:["click"],t:70,f:"fail"},{n:"state",f:[{t:2,r:"@this.failState"}],t:13},{n:"type",f:"danger",t:13,g:1},{n:"value",f:[{t:2,x:{r:["@this"],s:'_0.get("fail-value")'}}],t:13},{n:"disabled",f:[{t:2,x:{r:["completed","disabled"],s:"_0||_1"}}],t:13}],f:[{t:2,x:{r:["@this"],s:'_0.get("fail-text")'}}]}],e:{}},isolated:!0,data:function(){return{completed:!1,disabled:!1}}})},{}],14:[function(require,module,exports){var andList;andList=require("prelude-ls").andList,Ractive.components.checklist=Ractive.extend({template:{v:4,t:[{t:7,e:"ul",m:[{t:13,n:"class",f:"list-group",g:1}],f:[{t:4,f:[{t:19,f:[{t:7,e:"li",m:[{t:13,n:"class",f:"list-group-item",g:1}],f:[{t:7,e:"checkbox",m:[{t:13,n:"style",f:"width: 100%;",g:1},{n:"checked",f:[{t:2,r:".checked"}],t:13}],f:[{t:2,r:".name"}]}]}],n:54,z:[{n:"_tmp",x:{r:"@local"}}]}],n:52,r:"items"}]}]},isolated:!0,oninit:function(){var __;return __=this,this.observe("items",function(items){var completed;if(items&&(completed=andList(function(){var i$,x$,ref$,len$,results$=[];for(i$=0,len$=(ref$=items).length;i$<len$;++i$)x$=ref$[i$],results$.push(x$.checked);return results$}()),__.set("completed",completed),completed))return __.fire("complete")})},data:function(){return{items:[{id:null,name:"NO CHECKLIST SPECIFIED",checked:!1}],completed:!1}}})},{"prelude-ls":330}],15:[function(require,module,exports){Ractive.components["coll-panel"]=Ractive.extend({template:{v:4,t:[{t:7,e:"style",f:[".clickable\n{\n    cursor: pointer;\n}\n\n\n"]},{t:7,e:"div",m:[{n:"class",f:["panel ",{t:4,f:["panel-",{t:2,r:"type"}],n:50,r:"type"}],t:13},{n:"style",f:[{t:2,r:"style"}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"panel-heading",g:1}],f:[{t:16,r:"heading"}]},{t:4,f:[{t:7,e:"btn",m:[{t:13,n:"style",f:"margin-top: 0; padding-top: 0;",g:1},{t:13,n:"class",f:"clickable",g:1},{n:"type",f:[{t:2,r:"type"}," sm block"],t:13}],f:[{t:7,e:"caret"}]}],n:50,x:{r:["showBody"],s:"_0===true"}},{t:4,f:[{t:7,e:"div",m:[{t:13,n:"class",f:"panel-body",g:1}],f:[{t:16,r:"body"}]}],n:51,r:"collapsed"}]}],e:{}},isolated:!0,onrender:function(){var __;return __=this,$(this.find(".clickable")).on("click",function(e){return __.get("collapsed")?__.set("collapsed",!1):__.set("collapsed",!0)})},data:function(){return{collapsed:!0,type:"default",showBody:!0,style:""}}})},{}],16:[function(require,module,exports){(function(setImmediate){var ref$,find,findIndex,sleep,clone,unixToReadable,pack,VLogger,RactiveActor,Sifter,asciifold,toString$={}.toString,slice$=[].slice;(ref$=require("prelude-ls")).split,ref$.take,ref$.join,ref$.listsToObj,ref$.sum,ref$.filter,ref$.camelize,find=ref$.find,ref$.reject,findIndex=ref$.findIndex,ref$.compact,ref$=require("aea"),sleep=ref$.sleep,ref$.merge,clone=ref$.clone,unixToReadable=ref$.unixToReadable,pack=ref$.pack,VLogger=ref$.VLogger,RactiveActor=require("actors").RactiveActor,Sifter=require("sifter"),asciifold=require("dcs/lib/asciifold"),Ractive.components["data-table"]=Ractive.extend({template:{v:4,t:[{t:4,f:[{t:4,f:[{t:4,f:[{t:8,r:"editForm"}],n:50,r:"addingNew"}],n:50,x:{r:["mode"],s:'_0==="add-new"'}},{t:4,f:[{t:7,e:"r-table",m:[{n:"class",f:["data-table ",{t:4,f:[],n:50,r:"openedRow"},{t:4,f:["selectable"],n:51,l:1}," ",{t:2,r:"class"}],t:13}],f:[{t:7,e:"r-head",f:[{t:7,e:"r-row",f:[{t:7,e:"th",m:[{n:"colspan",f:[{t:2,r:"colNames.length"}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui stackable two column grid",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"column",g:1}],f:[{t:8,r:"header"}]},{t:7,e:"div",m:[{t:13,n:"class",f:"right floated right aligned column",g:1}],f:[" ",{t:4,f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui large label orange circular",g:1}],f:[{t:2,r:"tableview_visible.length"}]}],n:50,r:"searchText"},{t:7,e:"div",m:[{n:"class",f:["ui left icon input large action ",{t:4,f:["loading"],r:"searching"}],t:13}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"search",g:1}]},{t:7,e:"input",m:[{n:["escape"],t:70,f:{r:["@this"],s:'[_0.set("searchText","")]'}},{n:"value",f:[{t:2,r:"searchText"}],t:13}]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui button icon",g:1},{n:["click"],t:70,f:{r:["@this"],s:'[_0.set("searchText","")]'}}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"remove",g:1}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui button icon",g:1},{n:["click"],t:70,f:"doSearchText"}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"search",g:1}]}]}]}]}]}]}]},{t:4,f:[{t:7,e:"r-row",f:[{t:7,e:"th",m:[{n:"colspan",f:[{t:2,r:"colNames.length"}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui warning message",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"header",g:1}],f:[{t:7,e:"i",m:[{t:13,n:"class",f:"warning icon",g:1}],f:[]},"Filtered Content "]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui p",g:1}],f:["You are seeing a filtered content. ",{t:7,e:"btn",m:[{t:13,n:"class",f:"blue mini",g:1},{n:["click"],t:70,f:{r:[],s:'[["setFilter","all"]]'}}],f:[{t:7,e:"i",m:[{t:13,n:"class",f:"remove icon",g:1}]}," Clear Filter"]}]}]}]}]}],n:50,x:{r:["selectedFilter"],s:'_0!=="all"'}},{t:4,f:[{t:7,e:"r-row",m:[{t:13,n:"class",f:"active",g:1}],f:[{t:7,e:"th",m:[{n:"colspan",f:[{t:2,r:"colNames.length"}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"data-table-opened-row",g:1},{n:"slide",t:72,f:{r:[],s:"[true]"},v:"t1"},{n:"slide",t:72,f:{r:[],s:"[true]"},v:"t2"}],f:[{t:8,r:"editForm"}]}]}]}],n:50,r:"addingNew"},{t:7,e:"r-row",f:[" ",{t:4,f:[{t:19,f:[{t:4,f:[{t:7,e:"r-head-col",f:[{t:8,r:"renderMarkup"}]}],n:50,r:"."}],n:54,z:[{n:"_tmp",x:{r:"@local"}}]}],n:52,r:"colNames"}]}]},{t:7,e:"r-body",f:[{t:4,f:[{t:19,f:[{t:4,f:[{t:7,e:"tr",m:[{n:"class",f:[{t:4,f:["disabled"],n:50,x:{r:["isDisabled",".id"],s:"_0(_1)"}},{t:4,f:[{t:4,f:["data-table-clickable-row"],n:50,x:{r:["isEditingRow","isViewingRow",".id","@this.partials.row"],s:"!_0(_2)&&!_1(_2)&&!_3"}}],n:51,l:1}," "],t:13},{n:"data-anchor",f:[{t:2,r:".id"}],t:13},{t:4,f:[{n:["click"],t:70,f:"clicked"}],n:51,r:"@this.partials.row"},{n:"style",f:[" ",{t:4,f:["display: none;"],n:50,x:{r:["@index","currPage","settings.pageSize","clickedIndex",".id"],s:"_2>0&&(_0>=(_1+1)*_2||_0<(_1)*_2)&&(_3!==_4)"}}," ",{t:4,f:["background-color: ",{t:2,r:".bgcolor"},";"],n:50,r:".bgcolor"}],t:13}],f:[{t:4,f:[{t:7,e:"td",m:[{n:"colspan",f:[{t:2,r:"colNames.length"}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"dimmable",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui inverted dimmer",g:1},{n:"class-active",t:13,f:[{t:2,r:"openingRow"}]},{n:"fade",t:72,v:"t1"}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui active large text loader",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui p",g:1}],f:[{t:2,r:"openingRowMsg"}]},{t:7,e:"btn",m:[{t:13,n:"class",f:"small inverted red icon",g:1},{n:["click"],t:70,f:"closeRow"},{n:"tooltip",f:"Kapat",t:13,g:1}],f:[{t:7,e:"i",m:[{t:13,n:"class",f:"remove icon",g:1}]}," Cancel"]}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"data-table-opened-row",g:1},{n:"fade",t:72,v:"t1"}],f:[{t:8,r:"viewForm"}]}]}]}],n:50,x:{r:["isOpeningOrViewingRow",".id"],s:"_0(_1)"}},{t:4,f:[{t:7,e:"td",m:[{n:"colspan",f:[{t:2,r:"colNames.length"}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"data-table-opened-row",g:1}],f:[{t:8,r:"editForm"}]}]}],n:50,x:{r:["isEditingRow",".id"],s:"_0(_1)"},l:1},{t:4,f:[{t:8,r:"row"}],n:51,l:1}]}],n:51,x:{r:["@index","currPage","settings.pageSize","clickedIndex",".id"],s:"_2>0&&(_0>=(_1+1)*_2||_0<(_1)*_2)&&(_3!==_4)"}}],n:54,z:[{n:"_tmp",x:{r:"@local"}}]}],n:52,i:"i",r:"tableview_visible"}]},{t:7,e:"r-foot",f:[{t:4,f:[{t:4,f:[{t:7,e:"tr",f:[{t:7,e:"th",m:[{n:"colspan",f:[{t:2,r:"colNames.length"}],t:13}],f:[{t:7,e:"scroll-x",f:[{t:7,e:"div",m:[{t:13,n:"style",f:"margin-right: 2em;",g:1},{t:13,n:"class",f:"ui label circular teal",g:1},{n:["click"],t:70,f:{r:["@this"],s:'[_0.toggle("showPageSize")]'}}],f:[{t:7,e:"b",f:[{t:2,x:{r:["currPage"],s:"_0+1"}}]}]},{t:4,f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"ui input small",g:1}],f:[{t:7,e:"input",m:[{n:"value",f:[{t:2,r:"settings.pageSize"}],t:13},{n:"type",f:"number",t:13}]}]}],n:50,r:"showPageSize"},{t:7,e:"div",m:[{t:13,n:"class",f:"ui pagination menu",g:1}],f:[{t:4,f:[{t:19,f:[{t:7,e:"a",m:[{n:"class",f:["item ",{t:4,f:["active"],n:50,x:{r:["currPage","i"],s:"_0===_1"}}],t:13},{n:["click"],t:70,f:{r:["@this","i"],s:'[_0.fire("selectPage",_1)]'}}],f:[{t:2,r:"."}]}],n:54,z:[{n:"_tmp",x:{r:"@local"}}]}],n:52,i:"i",x:{r:["range","tableview_visible.length","settings.pageSize"],s:"_0(1,Math.ceil(_1/_2))"}}]}]}]}]}],n:50,x:{r:["tableview_visible.length","settings.pageSize"],s:"(_0/_1)>1"}}],n:50,x:{r:["settings.pageSize"],s:"_0>0"}},{t:4,f:[{t:7,e:"r-row",f:[{t:7,e:"th",m:[{n:"colspan",f:[{t:2,r:"colNames.length"}],t:13}],f:[{t:8,r:"footer"}]}]}],n:50,r:"@this.partials.footer"}]}]}],n:51,l:1}],n:50,r:"firstRunDone"},{t:4,f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui icon message",g:1}],f:[{t:7,e:"i",m:[{t:13,n:"class",f:"notched circle loading icon",g:1}],f:[]},{t:7,e:"div",m:[{t:13,n:"class",f:"content",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"header",g:1}],f:["Just one second"]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui p",g:1}],f:["We're fetching table content for you."]}]}],n:51,l:1}],p:{controls:[{t:7,e:"div",m:[{n:"class",f:["ui buttons ",{t:2,r:"cls"}],t:13},{n:"style",f:[{t:2,r:"style"}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui button icon",g:1},{n:["click"],t:70,f:{r:["@this"],s:'[_0.set("editable",false)]'}},{n:"class-orange",t:13,f:[{t:2,x:{r:["editable"],s:"!_0"}}]}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"tv",g:1}],f:[]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui button icon",g:1},{n:["click"],t:70,f:{r:["@this"],s:'[_0.set("editable",true)]'}},{n:"class-orange",t:13,f:[{t:2,r:"editable"}]}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"write",g:1}]}]}]}],renderMarkup:[{t:4,f:[{t:8,x:{r:["."],s:"{template:_0}"}}],n:50,x:{r:["."],s:'typeof _0==="string"'}},{t:4,f:[{t:3,r:"."}],n:51,l:1}]},e:{}},isolated:!0,onrender:function(){var settings,colnames,e,openingDimmer,dataFilters,name,ref$,func,openItemPage,searchRateLimit,searchTextGlobal,events,data,value,this$=this;this.set("readonly",!this.partials.editForm),settings=this.get("settings"),this.actor=new RactiveActor(this,{name:"data-table",debug:settings.debug}),this.logger=new VLogger(this,settings.name||"data-table");try{if("Object"!==toString$.call(settings).slice(8,-1))throw"No settings found!";if(!settings.name)throw"data-table name is required";if("Function"===toString$.call(settings.save).slice(8,-1)&&(settings.save=settings.save.bind(this)),"Function"===toString$.call(settings.onCreateView).slice(8,-1)&&(settings.onCreateView=settings.onCreateView.bind(this)),null!=settings.data){if("Function"!==toString$.call(settings.data).slice(8,-1))throw"data must be a function.";settings.data=settings.data.bind(this)}if("Function"!==toString$.call(settings.colNames).slice(8,-1)?(colnames=settings.colNames,settings.colNames=function(){return colnames}):settings.colNames=settings.colNames.bind(this),!settings.onInit)throw"on-init is required";settings.onInit=settings.onInit.bind(this)}catch(e$){return e=e$,void this.actor.send("app.log.err",{title:"data-table component",message:e})}for(name in openingDimmer=$(this.find(".table-section-of-data-table")),settings.save||(settings.save=function(ctx,curr,proceed){return proceed("No save function is defined!")}),dataFilters={},ref$=settings.filters)func=ref$[name],dataFilters[name]=func.bind(this);for(data in dataFilters.all=function(x){return x},this.set("dataFilters",dataFilters),this.refresh=function(){var filterFunc,tableview_filtered,that,index;return filterFunc=this$.get("dataFilters")[this$.get("selectedFilter")],"Function"!==toString$.call(filterFunc).slice(8,-1)&&this$.logger.cerr("Filter function is not a function"),tableview_filtered=filterFunc(this$.get("tableview")),this$.set("tableview_filtered",tableview_filtered),this$.set("sifter",new Sifter(tableview_filtered)),(that=this$.get("clickedIndex"))?(index=that,find(function(it){return it.id===index},this$.get("tableview"))?this$.get("openedRow")?void 0:(this$.logger.clog("Open previously clicked index"),this$.fire("openRow",{},index)):(console.warn("I think that row '"+index+"' is deleted, closing."),this$.fire("closeRow"))):this$.fire("doSearchText")},openItemPage=function(id){var index;if(null!=(index=findIndex(function(it){return it.id===id},this$.get("tableview_filtered"))))return this$.set("currPage",index/settings.pageSize),this$.refresh()},this.observe("tableview",function(_new){return this$.get("debug")&&this$.logger.clog("DEBUG MODE: tableview changed, refreshing..."),this$.refresh()}),searchRateLimit=null,searchTextGlobal=null,this.observe("searchText",function(text){return searchTextGlobal=text,this$.fire("doSearchText")}),sleep(100,function(){return this$.observe("opened-row",function(index){var that;return(that=index)?this$.fire("openRow",{},that):this$.fire("closeRow")})}),events={openRow:function(ctx){var this$=this;if(!this.get("openingRow")&&!this.get("openedRow"))return sleep(0,function(){var index,that,row,rowClone;if(index=ctx.get(".id"),this$.logger.clog("Setting index to ",index),this$.set("clickedIndex",index),that=find(function(it){return it.id===index},this$.get("tableview")))return row=that,this$.get("addingNew")?this$.logger.cwarn("adding new, not opening any rows"):(this$.logger.clog("Clicked to open "+index),this$.set("openingRow",!0),this$.set("openedRow",!1),this$.set("openingRowMsg","Opening "+index+"..."),openingDimmer.dimmer("show"),rowClone=clone(row),this$.set("_tmp",{}),this$.set("curr",{}),sleep(100,function(){var offset;return offset=$("tr[data-anchor='"+index+"']").offset(),$("html, body").animate({scrollTop:((null!=offset?offset.top:void 0)||0)-(window.topOffset||0)},200),settings.onCreateView(rowClone,function(err,curr){var that;return err&&(console.error("error while creating view: ",err),this$.logger.error("Error while opening row: "+pack(err),function(){this$.fire("closeRow")})),(that=curr)&&this$.set("curr",that),sleep(100,function(){return this$.set("origCurr",clone(this$.get("curr")))}),this$.set("row",rowClone),openingDimmer.dimmer("hide"),this$.set("openingRow",!1),this$.set("openedRow",!0),this$.set("openingRowMsg",""),this$.set("lastIndex",index)})}));this$.logger.clog("No such index can be found: "+index)});this.logger.cwarn("do not allow multiple clicks")},delete:function(){return this.set("curr._deleted",!0)},toggleEditing:function(){var editable;return editable=this.get("editable"),this.set("editable",!editable)},setFilter:function(event,filterName){return this.logger.clog("DATA_TABLE: filter is set to "+filterName),filterName&&this.set("selectedFilter",filterName),this.set("currPage",0),this.refresh()},selectPage:function(event,pageNum){return this.set("currPage",pageNum)},goToOpened:function(ctx){var itemId;return itemId=this.get("lastIndex"),openItemPage(itemId)},closeRow:function(){var op,this$=this;return op=function(){return this$.set("addingNew",!1),this$.fire("endEditing"),this$.set("openedRow",!1),this$.set("openingRow",!1),openingDimmer.dimmer("hide")},this$.get("curr")&&pack(this$.get("origCurr"))!==pack(this$.get("curr"))?(this$.logger.cwarn("Not closing row because there are unsaved changes."),this$.logger.clog("orig: ",this$.get("origCurr")),this$.logger.clog("curr: ",this$.get("curr")),this$.logger.yesno({title:"Discard changes?",message:"If you select 'Drop Changes' all changes will be lost.",buttons:{drop:{color:"red",text:"Drop Changes",icon:"trash"},cancel:{color:"green",text:"Cancel",icon:"undo"}}},function(answer){return"drop"===answer?op():this$.logger.cwarn("Cancelled discarding changes.")})):op()},endEditing:function(){return this.set("clickedIndex",null),this.set("editable",!1),this.set("editingDoc",null)},addNew:function(ctx){var this$=this;return this.get("openedRow")?this.logger.info({closable:!0,message:"a row is opened, not adding new."}):(this.set("prepareAddingNew",!0),this.set("row",{}),this.set("editable",!0),settings.onCreateView(null,function(err,template){return err?this$.logger.error({closable:!0,message:err}):(this$.set("curr",template),sleep(100,function(){return this$.set("origCurr",clone(this$.get("curr")))}),this$.set("prepareAddingNew",!1),this$.set("addingNew",!0))}))},save:function(ctx){var btn,this$=this;btn=ctx.component;try{btn.state("doing")}catch(e$){}return settings.save(ctx,this.get("curr"),function(err){if(err)try{return btn.error(err)}catch(e$){}else{this$.set("origCurr",this$.get("curr")),this$.update("curr");try{return btn.state("done...")}catch(e$){}}})},doSearchText:function(ctx){var text,this$=this;text=searchTextGlobal;try{clearTimeout(searchRateLimit)}catch(e$){}this.set("searching",!0),searchRateLimit=sleep(500,function(){var tableview_filtered,that,searchFields,result,x,_filter;return tableview_filtered=(that=text)?(searchFields=["id"].concat(settings.searchFields||["value.description"]),result=this$.get("sifter").search(asciifold(that),{fields:searchFields,sort:[{field:"name",direction:"asc"}],nesting:!0,conjunction:"and"}),x=[],function(){var i$,x$,ref$,len$,results$=[];for(i$=0,len$=(ref$=result.items).length;i$<len$;++i$)x$=ref$[i$],results$.push(x.push(this.get("tableview_filtered")[x$.id]));return results$}.call(this$),(that=this$.get("clickedIndex"))&&x.push(find(function(it){return it.id===that},this$.get("tableview"))),x):(_filter=this$.get("selectedFilter"),this$.get("dataFilters")[_filter](this$.get("tableview"))),setImmediate(function(){return this$.set("currPage",0),this$.set("tableview_visible",tableview_filtered),this$.set("searching",!1)})})}},this.on(function(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}(events,settings.handlers)),ref$=settings.data())value=ref$[data],this.set(data,"Function"===toString$.call(value).slice(8,-1)?value.bind(this):value);return this.observe("@global.session.token",function(){return this$.set("tableview",[]),this$.set("colNames",settings.colNames()),this$.refresh()}),settings.onInit(function(){return this$.set("firstRunDone",!0)})},data:function(){var this$=this;return{firstRunDone:!1,curr:null,handlers:{},readonly:!1,tableview:[],tableview_visible:[],editable:!1,clickedIndex:null,lastIndex:null,cols:null,colNames:null,addingNew:!1,viewFunc:null,selectedFilter:"all",currPage:0,openingRow:!1,openingRowMsg:"",_tmp:{},new_attachments:{},searchText:"",sifter:null,searching:!1,isEditingRow:function(index){var state;return state=!1,this.get("editable")&&(state=index===this.get("clickedIndex")),state},isViewingRow:function(index){var state;return state=!1,this.get("openedRow")&&(state=index===this.get("clickedIndex")),state},isOpeningOrViewingRow:function(index){return index===this.get("clickedIndex")&&!this.get("editable")},isOpeningNow:function(rowIndex){var opening,opened;return opening=this.get("openingRow"),opened=this.get("openedRow"),!(this.get("clickedIndex")!==rowIndex||!opening||opened)},isLastClicked:function(index){return index===this.get("lastIndex")},isDisabled:function(index){var clickedIndex;return null!==(clickedIndex=this.get("clickedIndex"))&&clickedIndex!==index},runHandler:function(){var params,handlers,handler;return params=slice$.call(arguments),"function"==typeof(handlers=this$.get("settings.handlers"))[handler=params.shift()]?handlers[handler].apply(this$,params):this$.logger.clog("no handler found with the name: ",handler)},range:function(_from,_to){var res$,i$,to$,i;try{for(res$=[],i$=parseInt(_from),to$=parseInt(_to);i$<=to$;++i$)i=i$,res$.push(i);return res$}catch(e$){return e$,this.logger.clog("error in range generator: from: "+_from+", to: "+_to)}},unixToReadable:unixToReadable,lookup:function(objArray,keyField,keyValue){var x;return x=find(function(it){return it[keyField]===keyValue},objArray),this.logger.clog("lookup input: ",objArray,keyField,keyValue),this.logger.clog("lookup result: ",x),x}}}})}).call(this,require("timers").setImmediate)},{actors:65,aea:75,"dcs/lib/asciifold":83,"prelude-ls":330,sifter:364,timers:367}],17:[function(require,module,exports){var unixToReadable;unixToReadable=require("aea/formatting").unixToReadable,Ractive.components["date-picker"]=Ractive.extend({isolated:!0,template:{v:4,t:[{t:4,f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui calendar date-picker",g:1},{n:"style",f:[{t:4,f:["display: inline;"],n:50,r:"inline"}],t:13}],f:[{t:7,e:"div",m:[{n:"class",f:["ui button ",{t:2,r:"class"}],t:13}],f:[{t:2,r:"buttonText"}," ",{t:16}]}]}],n:50,r:"button"},{t:4,f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui calendar date-picker",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui input left icon",g:1}],f:[{t:7,e:"i",m:[{t:13,n:"class",f:"calendar icon",g:1}],f:[]},{t:7,e:"input",m:[{n:"type",f:"text",t:13},{n:"placeholder",f:"Date/Time",t:13}]}]}]}],n:51,l:1}]},onrender:function(){var j,conv,this$=this;return j=$(this.find(".date-picker")),conv=this.get("ms")?1:1e3,j.calendar({ampm:!1,minDate:new Date(this.get("min-date")),text:{days:["Pz","Pt","Sa","Ça","Pe","Cu","Cts"],firstDayOfWeek:1,months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],monthsShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Ekm","Ksm","Arl"],today:"Bugün",now:"Şimdi",am:"ÖÖ",pm:"ÖS"},onChange:function(date,text,mode){var unixMs,unix;return unix=(unixMs=date.getTime())/conv,this$.set("unix",unix),this$.set("buttonText",unixToReadable(unixMs))}}),this.observe("unix",function(unix){var unixMs,date,e;try{return unixMs=unix*conv,date=new Date(unixMs),j.calendar("set date",date,!0,!1),this.set("buttonText",unixToReadable(unixMs))}catch(e$){e=e$,console.warn("date-picker: ",e)}})},data:function(){return{buttonText:"Select Date","min-date":null}}})},{"aea/formatting":74}],18:[function(require,module,exports){require("aea").merge,Ractive.components["db-img"]=Ractive.extend({isolated:!0,template:{v:4,t:[{t:7,e:"img"},{t:7,e:"span"}]},onrender:function(){var __,img,db,errBox,getImg;if(__=this,img=$(this.find("img")),db=this.get("db"),errBox=$(this.find("span")),this.get("src"),void 0!==db)return(getImg=function(){var src,ref$,docName,attName;if((src=__.get("src"))&&src!==__.get("lastSrc")){__.set("lastSrc",src);try{if(docName=(ref$=src.split("/"))[0],attName=ref$[1],!docName||!attName)throw null}catch(e$){return e$,void img.attr("alt","no src specified!")}return db.getAttachment(docName,attName,function(err,res){return err?(img.attr("alt","IMG NOT FOUND"),errBox.text("IMAGE NOT FOUND")):img.attr("src",URL.createObjectURL(new Blob([res],{type:"image/png"})))})}})(),this.observe("db.lastChange",function(n){return getImg()}),this.observe("src",function(){return getImg()});img.attr("alt","IMG ERR: DB NOT FOUND (1)")},data:function(){return{lastSrc:null,db:"",error:!1,src:""}}})},{aea:75}],19:[function(require,module,exports){Ractive.partials["ddoc-editor"]=getSynchronizer()},{}],20:[function(require,module,exports){Ractive.components["debug-obj"]=Ractive.extend({template:{v:4,t:[{t:4,f:[{t:7,e:"button",m:[{t:13,n:"class",f:"ui button circular icon pink mini",g:1},{n:["click"],t:70,f:{r:["@this"],s:'[_0.toggle("mymodal1")]'}},{n:"title",f:[{t:2,r:"title"}],t:13}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"bug",g:1}]}]},{t:7,e:"modal",m:[{n:"title",f:[{t:2,r:"title"}],t:13},{n:"basedon",f:[{t:2,r:"mymodal1"}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"style",f:"width: 800px;",g:1},{t:13,n:"class",f:"ui segment",g:1}],f:[{t:7,e:"json-edit",m:[{t:13,n:"style",f:"width: 100%; height: 100em;",g:1},{n:"value",f:[{t:2,r:"obj"}],t:13}]}]}]}],n:50,x:{r:["able","public"],s:'_0("scene.admin.debug")||_1'}}],e:{}},data:function(){return{obj:void 0,title:null,public:!1}}})},{}],21:[function(require,module,exports){Ractive.decorators.accordion=function(node,openIndex){var accordion;return accordion=$(node).accordion(),null!=openIndex&&accordion.accordion("open",openIndex),{teardown:function(){}}}},{}],22:[function(require,module,exports){Ractive.decorators.dropdown=function(node,opts){return $(node).dropdown(opts),{teardown:function(){}}}},{}],23:[function(require,module,exports){Ractive.decorators["inline-popup"]=function(node,content){return $(node).popup({inline:!0,on:"click",lastResort:!0}),{teardown:function(){return $(node).popup("destroy")}}}},{}],24:[function(require,module,exports){Ractive.decorators.popup=function(node,content){return $(node).popup({content:content}),{teardown:function(){return $(node).popup("destroy")}}}},{}],25:[function(require,module,exports){Ractive.decorators.sidebar=function(node,opts){return opts||(opts={}),opts.transition||(opts.transition="overlay"),$(node).sidebar(opts),{teardown:function(){}}}},{}],26:[function(require,module,exports){var tooltipDecorator=function(node,content){var tooltip,handlers,eventName;for(eventName in handlers={mouseover:function(){(tooltip=document.createElement(tooltipDecorator.elementName)).className=tooltipDecorator.className,tooltip.textContent=content,node.parentNode.insertBefore(tooltip,node)},mousemove:function(event){tooltip.style.left=event.clientX+tooltipDecorator.offsetX+"px",tooltip.style.top=event.clientY-tooltip.clientHeight+tooltipDecorator.offsetY+"px"},mouseleave:function(){tooltip.parentNode.removeChild(tooltip)}})handlers.hasOwnProperty(eventName)&&node.addEventListener(eventName,handlers[eventName],!1);return{teardown:function(){for(eventName in handlers)handlers.hasOwnProperty(eventName)&&node.removeEventListener(eventName,handlers[eventName],!1)}}};tooltipDecorator.className="ractive-tooltip",tooltipDecorator.element="p",tooltipDecorator.offsetX=0,tooltipDecorator.offsetY=-20,Ractive.decorators.tooltip=tooltipDecorator},{}],27:[function(require,module,exports){var sleep;sleep=require("aea").sleep,Ractive.components["drawing-area"]=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{n:"class",f:["scada-drawing-area ",{t:2,r:"class"}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"drawing-area-container",g:1}],f:[{t:16}]}]}]},isolated:!1,onrender:function(){var this$=this;return sleep(10,function(){var drawingArea,drawingContainer,parent,maxHeight,children,i$,len$,c,height,total,myPadding,that;if(drawingArea=$(this$.find(".scada-drawing-area")),drawingContainer=$(this$.find(".drawing-area-container")),parent=drawingArea.parent(),this$.get("ignore-parent-padding")&&(drawingArea.css("margin-left","-"+parent.css("padding-left")),drawingArea.css("margin-top","-"+parent.css("padding-top")),drawingArea.css("width",parent.css("width")),drawingContainer.css("width",parent.css("width"))),this$.get("auto-height")){for(maxHeight=0,i$=0,len$=(children=drawingContainer.children()).length;i$<len$;++i$)c=children[i$],height=$(c).height(),(total=$(c).offset().top+height)>maxHeight&&(maxHeight=total);maxHeight-=drawingArea.offset().top,myPadding=40,drawingContainer.css("height",maxHeight),drawingArea.css("height",maxHeight+myPadding)}if(that=this$.get("height"))return drawingArea.css("height",that)})}})},{aea:75}],28:[function(require,module,exports){require("./drawing-area"),require("./widget")},{"./drawing-area":27,"./widget":29}],29:[function(require,module,exports){Ractive.components.widget=Ractive.extend({template:'<div class="widget"style="{{#if x}}left: {{x}};{{/if}}{{#if y}}top: {{y}};{{/if}}{{#if width}}width: {{width}};{{/if}}{{#if height}}height: {{height}};{{/if}}">{{yield}}</div>',isolated:!1,data:function(){return{x:0,y:0}}})},{}],30:[function(require,module,exports){(function(setImmediate){var ref$,find,empty,take,compact,RactiveActor,sleep,Sifter,asciifold,copyContext,toString$={}.toString;ref$=require("prelude-ls"),find=ref$.find,empty=ref$.empty,take=ref$.take,compact=ref$.compact,RactiveActor=require("actors").RactiveActor,sleep=require("aea").sleep,Sifter=require("sifter"),asciifold=require("dcs/lib/asciifold"),copyContext=function(ctx){var c;return(c=ctx.getParent(!0)).refire=!0,c},Ractive.components.dropdown=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{n:"style",f:[{t:4,f:["display: none;"],n:50,x:{r:["readonly"],s:"!(_0)"}},{t:4,f:["display: inline"],n:51,l:1}],t:13}],f:[{t:7,e:"div",m:[{n:"class",f:["ui basic label ",{t:4,f:["red"],r:"emptyReduced"}],t:13}],f:[{t:4,f:[{t:4,f:[{t:2,rx:{r:"item",m:[{t:30,n:"nameField"}]}}],n:50,rx:{r:"item",m:[{t:30,n:"nameField"}]}},{t:4,f:[{t:7,e:"span",m:[{t:13,n:"style",f:"font-style: italic;",g:1},{t:13,n:"class",f:"text red",g:1}],f:[{t:2,rx:{r:"~/",m:[{r:[],s:'"selected-key"'}]}}]}],n:51,l:1}],n:50,rx:{r:"~/",m:[{r:[],s:'"selected-key"'}]}},{t:4,f:[{t:2,r:"nothingSelected"}],n:51,l:1}]}]},{t:7,e:"div",m:[{n:"style",f:[{t:4,f:["display: none;"],n:50,r:"readonly"},{t:4,f:["display: inline"],n:51,l:1}],t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:["ui inline dropdown ",{t:2,r:"class"}," ",{t:4,f:["loading"],r:"loading"}," ",{t:4,f:["error"],r:"emptyReduced"}," ",{t:4,f:["warn"],r:"nomatch"}],t:13}],f:[{t:7,e:"i",m:[{t:13,n:"style",f:"display: inline;",g:1},{t:13,n:"class",f:"dropdown icon",g:1}]},{t:4,f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"exclamation triangle",g:1}],f:[{t:7,e:"span",m:[{t:13,n:"style",f:"font-style: italic;",g:1},{t:13,n:"class",f:"text red",g:1}],f:[{t:2,rx:{r:"~/",m:[{r:[],s:'"selected-key"'}]}}]}]}],n:50,r:"nomatch"},{t:4,f:[{t:7,e:"span",m:[{t:13,n:"class",f:"text",g:1}],f:["-------"]}],n:51,l:1},{t:7,e:"div",m:[{t:13,n:"class",f:"menu",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui icon search input",g:1}],f:[{t:7,e:"i",m:[{t:13,n:"class",f:"search icon",g:1}]},{t:7,e:"input",m:[{n:"type",f:"text",t:13},{n:"placeholder",f:"Search...",t:13}]}]},{t:4,f:[{t:19,f:[{t:7,e:"div",m:[{t:13,n:"class",f:"item",g:1},{n:"data-value",f:[{t:2,rx:{r:"item",m:[{t:30,n:"keyField"}]}}],t:13},{n:"class-disabled",t:13,f:[{t:2,x:{r:["blacklist","keyField","item"],s:"_0==_2[_1]"}}]}],f:[{t:2,rx:{r:"item",m:[{t:30,n:"nameField"}]}}]}],n:54,z:[{n:"_tmp",x:{r:"@local"}}]}],n:52,z:[{n:"item",x:{r:"."}}],r:"dataReduced"},{t:4,f:[{t:7,e:"ack-button",m:[{t:13,n:"class",f:"green fluid bottom attached",g:1},{n:["click"],t:70,f:"_add"}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"plus",g:1}],f:[{t:2,rx:{r:"~/",m:[{r:[],s:'"search-term"'}]}}]}]}],n:50,x:{r:["emptyReduced","~/"],s:'_0&&_1["allow-addition"]'}}]}]}],n:50,r:"inline"},{t:4,f:[{t:8,r:"custom"}],n:50,r:"@this.partials.custom",l:1},{t:4,f:[{t:7,e:"div",m:[{n:"class",f:["ui search selection dropdown ",{t:2,r:"class"}," ",{t:4,f:["loading"],r:"loading"}," ",{t:4,f:["error"],r:"emptyReduced"}],t:13}],f:[{t:7,e:"input",m:[{n:"type",f:"hidden",t:13},{n:"name",f:[{t:2,r:"_guid"}],t:13}]},{t:7,e:"i",m:[{t:13,n:"class",f:"dropdown icon",g:1}]},{t:4,f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"exclamation triangle",g:1}],f:[{t:7,e:"span",m:[{t:13,n:"style",f:"font-style: italic;",g:1},{t:13,n:"class",f:"text red",g:1}],f:[{t:2,rx:{r:"~/",m:[{r:[],s:'"selected-key"'}]}}]}]}],n:50,r:"nomatch"},{t:7,e:"div",m:[{t:13,n:"class",f:"default text",g:1}],f:[{t:2,r:"placeholder"}]},{t:7,e:"div",m:[{t:13,n:"class",f:"menu",g:1}],f:[{t:4,f:[{t:19,f:[{t:7,e:"div",m:[{t:13,n:"class",f:"item",g:1},{n:"data-value",f:[{t:2,rx:{r:".",m:[{t:30,n:"keyField"}]}}],t:13}],f:[{t:2,rx:{r:".",m:[{t:30,n:"nameField"}]}}]}],n:54,z:[{n:"_tmp",x:{r:"@local"}}]}],n:52,r:"dataReduced"},{t:4,f:[{t:4,f:[{t:8,r:"addNew"}],n:50,r:"@this.partials.addNew"},{t:4,f:[{t:7,e:"ack-button",m:[{t:13,n:"class",f:"green fluid bottom attached",g:1},{n:["click"],t:70,f:"_add"}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"plus",g:1}],f:[{t:2,rx:{r:"~/",m:[{r:[],s:'"search-term"'}]}}]}]}],n:51,l:1}],n:50,x:{r:["@this","~/"],s:'_0.getContext().hasListener("add",true)&&_1["search-term"]'}}]}]}],n:51,l:1}]},{t:4,f:[{t:7,e:"p",f:["guid: ",{t:2,r:"_guid"}]},{t:7,e:"debug-obj",m:[{n:"obj",f:[{t:2,rx:{r:"~/",m:[{r:[],s:'"selected-key"'}]}}],t:13},{n:"title",f:"'selected-key'",t:13,g:1}]},{t:7,e:"debug-obj",m:[{n:"obj",f:[{t:2,r:"item"}],t:13},{n:"title",f:"Selected 'item'",t:13,g:1}]},{t:7,e:"debug-obj",m:[{n:"obj",f:[{t:2,r:"data"}],t:13},{n:"title",f:"data",t:13,g:1}]}],n:50,r:"debug"}],e:{}},isolated:!0,oninit:function(ctx){var attr,ref$,cls,that;for(attr in this.actor=new RactiveActor(this,{name:"dropdown."+this._guid,debug:!0}),ref$={multiple:"multiple",inline:"inline",disabled:"disabled","fit-width":"fluid"})cls=ref$[attr],this.get(attr)&&this.set("class",this.get("class")+" "+cls);if((that=this.get("key"))&&this.set("keyField",that),(that=this.get("name"))&&this.set("nameField",that),this.get("start-with-loading")&&this.set("loading",!0),this.getContext().hasListener("select",!0))return this.get("debug")&&this.actor.log.debug("Found 'select' listener."),this.set("async",!0)},onrender:function(ctx){var c,dd,keyField,nameField,externalChange,smallPartOf,updateDropdown,setItem,selectedHandler,this$=this;return c=copyContext(ctx),dd=$(this.find(".ui.dropdown")),keyField=this.get("keyField"),nameField=this.get("nameField"),externalChange=!1,this.push("search-fields",keyField),this.push("search-fields",nameField),smallPartOf=function(data){return null==data||empty(data)?[]:take(this$.get("load-first"),data)},updateDropdown=function(_new){return this$.get("debug")&&this$.actor.log.log(this$._guid+": selected key is changed to: ",_new),setImmediate(function(){return externalChange=!0,function(op){var item,e,ref$;try{if(!_new)throw{code:"keyempty"};if(this$.get("multiple"))return dd.dropdown("set exactly",_new),dd.dropdown("refresh"),op();if(this$.get("debug")&&this$.actor.log.debug("Setting new visual to "+_new),empty(this$.get("data")||[]))return void(this$.get("debug")&&this$.actor.log.debug("No data yet, not updating dropdown."));if(!(item=find(function(it){return it[keyField].toString()===_new},compact(this$.get("dataReduced"))))){if(!(item=find(function(it){return it[keyField].toString()===_new},this$.get("data"))))throw this$.set("nomatch",!0),{code:"nomatch"};this$.push("dataReduced",item)}return item&&this$.set("nomatch",!1),this$.set("item",item),this$.get("selected-key")!==_new&&this$.set("selected-key",_new),setImmediate(function(){return dd.dropdown("set selected",_new),dd.dropdown("refresh"),op()})}catch(e$){if("nomatch"===(ref$=(e=e$).code)||"keyempty"===ref$)return dd.dropdown("restore defaults"),this$.set("item",{}),op();throw e}}(function(){return externalChange=!1})})},setItem=function(valueOfKey){var that,data,items,selectedKeys,selectedNames,i$,len$,val,selected;if(that=this$.get("data")){if(data=that,this$.get("multiple")){for(items=[],selectedKeys=[],selectedNames=[],i$=0,len$=valueOfKey.length;i$<len$;++i$)(val=valueOfKey[i$])&&(that=find(fn$,data))&&(items.push(that),selectedKeys.push(that[keyField]),selectedNames.push(that[nameField]),(that=this$.get("debug"))&&this$.actor.cLog("Found "+val+" in .["+keyField+"]",that[keyField]));return this$.set("item",empty(items)?[{}]:items),this$.set("selected-name",selectedNames),this$.set("selected-key",selectedKeys),this$.fire("select",{},empty(items)?[{}]:items)}if((that=find(function(it){return it[keyField].toString()===valueOfKey},data))&&(selected=that,this$.get("selected-key")!==that[keyField]&&(this$.get("debug")&&this$.actor.cLog("selected key is changed to:",selected[keyField]),this$.get("debug")&&this$.actor.cLog("Found "+valueOfKey+" in .["+keyField+"]",selected,selected[keyField]),this$.get("async")?this$.fire("select",c,selected,function(err){var curr;return err?(curr=this$.get("selected-key"),this$.actor.vErr(err),this$.actor.cWarn("Error reported for dropdown callback: ",err,"falling back to "+curr),this$.set("emptyReduced",!0),updateDropdown(curr)):(this$.set("emptyReduced",!1),updateDropdown(selected[keyField]))}):this$.set("selected-key",selected[keyField])),!this$.get("async")))return this$.set("item",selected),this$.set("selected-name",selected[nameField])}function fn$(it){return it[keyField].toString()===val}},dd.dropdown("restore defaults").dropdown("setting",{forceSelection:!1,fullTextSearch:function(text){var data,result,reduced,res$,i$,x$,ref$,len$;if(this$.set("search-term",text),data=this$.get("data"),text){for(result=this$.get("sifter").search(asciifold(text),{fields:this$.get("search-fields"),sort:[{field:nameField,direction:"asc"}],nesting:!1,conjunction:"and"}),res$=[],i$=0,len$=(ref$=smallPartOf(result.items)).length;i$<len$;++i$)x$=ref$[i$],res$.push(data[x$.id]);return reduced=res$,this$.get("debug")&&(this$.actor.cLog("Dropdown ("+this$._guid+") : searching for "+text+"..."),this$.actor.log.debug("Search fields: ",this$.get("search-fields")),this$.actor.log.debug("reduced ids: ",smallPartOf(result.items)),this$.actor.cLog("reduced data:",reduced)),this$.set("dataReduced",reduced),empty(reduced)&&this$.actor.log.err("No such item found: "+text),this$.set("emptyReduced",empty(reduced))}return this$.set("dataReduced",smallPartOf(data))},onChange:function(value,text,selected){if(!externalChange)return this$.get("debug")&&this$.actor.cLog("Dropdown: "+this$._guid+": dropdown is changed: ",value),this$.get("multiple")?setItem(null==value?[]:value.split(",")):setItem(value),this$.set("dataReduced",smallPartOf(this$.get("data")))}}),this.observe("data",function(data){return this$.get("debug")&&this$.actor.cLog("Dropdown ("+this$._guid+"): data is changed: ",data),setImmediate(function(){return this$.set("sifter",new Sifter(data||[])),data&&!empty(data)?(this$.set("loading",!1),this$.set("dataReduced",smallPartOf(data)),selectedHandler(this$.get("selected-key")),this$.set("emptyReduced",!1)):this$.set("emptyReduced",!0)})}),selectedHandler=function(_new,old){if(!this$.get("multiple")){if(this$.get("debug")&&this$.actor.cLog("Observe: selected key set to:",_new),!this$.get("data"))return;return updateDropdown(_new)}if("Array"===toString$.call(_new).slice(8,-1)&&JSON.stringify(_new||[])!==JSON.stringify(old||[]))return updateDropdown(_new)},this.observe("selected-key",selectedHandler),this.on({teardown:function(){return dd.dropdown("destroy")},_add:function(ctx){var this$=this;return c.button=ctx.component,sleep(10,function(){return dd.dropdown("show")}),this.fire("add",c,this.get("search-term"),function(err){if(!err)return dd.dropdown("hide"),this$.set("emptyReduced",!1),this$.set("search-term",""),$(".ui.dropdown").find(".search").val("")})}})},data:function(){return{"search-fields":["description"],"search-term":"",async:!1,data:void 0,dataReduced:[],debug:!1,keyField:"id",nameField:"name",nothingSelected:"---",item:{},loading:!1,"start-with-loading":!1,sifter:null,nomatch:!1,"selected-key":null,"selected-name":null,"load-first":100}}})}).call(this,require("timers").setImmediate)},{actors:65,aea:75,"dcs/lib/asciifold":83,"prelude-ls":330,sifter:364,timers:367}],31:[function(require,module,exports){Ractive.components["example-component"]=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui raised segment",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui input",g:1}],f:[{t:7,e:"input",m:[{n:"type",f:"text",t:13},{n:"value",f:[{t:2,r:"birth"}],t:13},{n:"placeholder",f:"Enter your birth year (eg. 1984)",t:13}]}]},{t:7,e:"p",f:["You are ",{t:2,r:"age"}," years old."]}]}]},isolated:!0,oninit:function(){return this.observe("birth",function(){return this.set("age",2016-this.get("birth"))})},data:function(){return{age:0,birth:0}}})},{}],32:[function(require,module,exports){var copyToClipboard,base64;require("prelude-ls").map,copyToClipboard=require("aea").copyToClipboard,base64=function(s){return window.btoa(unescape(encodeURIComponent(s)))},Ractive.components["export-to-csv"]=Ractive.extend({template:{v:4,t:[{t:7,e:"a",m:[{n:["click"],t:70,f:"__prepareDownload"}],f:[{t:16}]}]},isolated:!0,onrender:function(){return $(this.find(".download-link")),this.on({__prepareDownload:function(){var __;return(__=this).set("state","doing"),this.fire("prepareDownload",function(err,res){var colNames,x,content,i$,ref$,len$,row,j,col,result,filename,filecontent,a;for(content="",""!==(colNames=function(){try{if(!(x=__.get("col-names")))throw null;return x}catch(e$){e$;try{if(!res.colNames)throw null;return"string"==typeof res.colNames?res.colNames:res.colNames.join(",")}catch(e$){return e$,""}}}())&&(content=colNames+"\r\n"),i$=0,len$=(ref$=res.content).length;i$<len$;++i$){for(j in row=ref$[i$])(result=(null!=(col=row[j])?col.toString():void 0).replace(/"/g,'""')).search(/("|,|\n)/g)>=0&&(result='"'+result+'"'),j>0&&(content+=","),content+=result;content+="\n"}return __.get("clipboard")?(copyToClipboard(content),console.log("copied to clipboard???")):(filename=res.filename||"file-"+Date.now()+".csv",filecontent="data:attachment/csv;base64,77u/"+base64(content),a=document.createElement("a"),document.body.appendChild(a),a.download=filename,a.href=filecontent,a.click()),__.set("state","done...")})}})},data:function(){return{data:[],filename:null,"col-names":null,filecontent:null,downloadLinkReady:!1,state:"normal"}}})},{aea:75,"prelude-ls":330}],33:[function(require,module,exports){var Signal,VLogger,parseCsv;Signal=require("dcs/browser").Signal,VLogger=require("aea").VLogger,parseCsv=require("aea/csv-utils").parseCsv,Ractive.components["file-button"]=Ractive.extend({isolated:!0,template:{v:4,t:[{t:7,e:"div",m:[{n:"class",f:["file-button ui button ",{t:2,r:"class"}," ack-button ",{t:4,f:[{t:4,f:["labeled icon"],n:51,r:"custom"}],n:50,x:{r:["state"],s:'_0==="doing"||_0==="done"||_0==="error"'}}," ",{t:4,f:["disabled"],r:"disabled"}," ",{t:4,f:["disabled"],n:50,x:{r:["state"],s:'_0==="doing"'}}," ",{t:4,f:["active"],r:"active"}," "],t:13},{n:"disabled",f:[{t:2,x:{r:["disabled","selfDisabled","enabled"],s:"(_0||_1)||!(_2)"}}],t:13},{n:"style",f:[{t:2,r:"style"}," ",{t:4,f:["background-color: transparent;"],n:50,r:"transparen"}],t:13}],f:[{t:4,f:[{t:4,f:[{t:4,f:[{t:7,e:"i",m:[{t:13,n:"class",f:"icon heart",g:1}]}],n:50,r:"heartbeat"},{t:4,f:[{t:7,e:"i",m:[{t:13,n:"style",f:"z-index: 99999;",g:1},{t:13,n:"class",f:"icon",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui active mini inverted loader",g:1}]}]}],n:51,l:1}],n:50,x:{r:["state"],s:'_0==="doing"'}},{t:4,f:[{t:7,e:"i",m:[{t:13,n:"class",f:"icon checkmark",g:1}]}],n:50,x:{r:["state"],s:'_0==="done"'},l:1},{t:4,f:[{t:7,e:"i",m:[{t:13,n:"class",f:"warning sign icon",g:1}]}],n:50,x:{r:["state"],s:'_0==="error"'},l:1}],n:51,r:"custom"},{t:16},{t:4,f:[{t:4,f:[{t:7,e:"input",m:[{n:"class",f:"upload",t:13},{n:"type",f:"file",t:13},{n:"title",f:[{t:4,f:[{t:2,r:"errMessage"}],n:50,x:{r:["state"],s:'_0==="error"'}},{t:4,f:[{t:2,r:"tooltip"}],n:51,l:1}],t:13},{n:["change"],t:70,f:"fileSelect"},{n:"capture",f:"camera",t:13},{n:"accept",f:"image/*",t:13}]}],n:50,r:"camera"},{t:4,f:[{t:7,e:"input",m:[{n:"class",f:"upload",t:13},{n:"type",f:"file",t:13},{n:"title",f:[{t:4,f:[{t:2,r:"errMessage"}],n:50,x:{r:["state"],s:'_0==="error"'}},{t:4,f:[{t:2,r:"tooltip"}],n:51,l:1}],t:13},{n:["change"],t:70,f:"fileSelect"}]}],n:51,l:1}],n:50,r:"show"}]}],e:{}},onrender:function(){var dataUrlSignal,logger,resetInput,this$=this;return dataUrlSignal=new Signal,logger=new VLogger(this),resetInput=function(){return this$.toggle("show"),this$.toggle("show")},this.on({fileSelect:function(ctx){var file,showErr,timeout,c,reader,file_type,this$=this;switch(ctx.resolve(),file=ctx.node.files[0],this.set("state","doing"),this.set("errMessage",null),showErr=function(err){return this$.set("state","error"),this$.set("errMessage",err.message),resetInput()},timeout=sleep(6e3,function(){return showErr({message:"Timeout!"})}),(c=ctx.getParent(!0)).refire=!0,c.logger=logger,c.heartbeat=function(_timeout){var secs;secs=_timeout/1e3,console.log("Upload button has heartbeat for "+secs+" seconds.");try{clearTimeout(timeout)}catch(e$){}return this$.set("state","doing"),timeout=sleep(_timeout,function(){return showErr({message:"Timeout for "+secs+" seconds."})})},(reader=new FileReader).onload=function(e){return dataUrlSignal.go(null,e.target.result)},file_type=this.get("type")){case"binary":reader.readAsDataURL(file);break;case"text":case"csv":reader.readAsText(file);break;default:throw Error("unimplemented")}return dataUrlSignal.wait(function(reason,fileData){var csv,op;return csv=null,op=function(){var value;return value={blob:file,base64:fileData.split(",")[1],raw:fileData,name:file.name,type:file.type,file_type:file_type,previewUrl:window.URL.createObjectURL(file)},csv&&(value.csv={data:csv.rows,columns:csv.columns}),this$.fire("read",c,value,function(err){try{clearTimeout(timeout)}catch(e$){}return err?(this$.set("state","error"),this$.set("errMessage",function(){try{return err.message}catch(e$){}}()||err)):(this$.set("file-name",file.name),this$.set("state","done"),sleep(3e3,function(){return this$.set("state",null)})),resetInput()})},"csv"===file_type?parseCsv(fileData,{columns:this$.get("columns"),delimiter:this$.get("delimiter")},function(err,res){return err?showErr(err):(csv=res,op())}):op()})}})},data:function(){return{show:!0,tooltip:null,type:"binary",state:"",errMessage:null,doingTimer:null}}})},{aea:75,"aea/csv-utils":69,"dcs/browser":82}],34:[function(require,module,exports){var ref$,pack,unpack,difference,keys;ref$=require("aea"),pack=ref$.pack,unpack=ref$.unpack,ref$.merge,(ref$=require("prelude-ls")).find,difference=ref$.difference,keys=ref$.keys,Ractive.components["formal-field"]=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{t:13,n:"style",f:"display:inline-block;",g:1},{t:13,n:"class",f:"formal-field",g:1}],f:[{t:7,e:"dropdown-panel",p:{body:[{t:8,r:"viewForm"}," ",{t:4,f:[" ",{t:7,e:"ack-button",m:[{t:13,n:"style",f:"position: relative;bottom: 10px;padding: 3px 6px;",g:1},{n:["click"],t:70,f:"showPopup"},{n:"type",f:[{t:4,f:["primary xs"],n:50,x:{r:["changelog.0.curr","changelog.length","changelog"],s:"JSON.stringify(_0)==JSON.stringify(_2[_1-1].curr)"}},{t:4,f:["danger xs"],n:51,l:1}],t:13},{n:"value",f:[{t:2,r:"changelog"}],t:13}],f:[{t:2,x:{r:["changelog.length"],s:"_0-1"}}]}," "],n:50,x:{r:["changelog.length"],s:"_0>0"}}],dropdown:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui form",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[{t:8,r:"editForm"}]},{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[{t:7,e:"label",f:["Açıklama..."]},{t:7,e:"textarea",m:[{n:"value",f:[{t:2,r:"message"}],t:13}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"ui buttons",g:1}],f:[{t:7,e:"ack-button",m:[{t:13,n:"class",f:"green",g:1},{n:["click"],t:70,f:"accept"}],f:["Accept"]},{t:7,e:"div",m:[{t:13,n:"class",f:"or",g:1}]},{t:7,e:"ack-button",m:[{t:13,n:"class",f:"red",g:1},{n:["click"],t:70,f:"cancel"}],f:["Cancel"]}]}]}]}]}}]}],e:{}},isolated:!1,oninit:function(){var componentAttributes,requiredAttr,readonly,i$,len$,name;for(this,{},componentAttributes=keys(this.component.attributeByName),requiredAttr=["changelog","value"],readonly=!!this.partials.editForm,this.set("readonly",readonly),i$=0,len$=componentAttributes.length;i$<len$;++i$)"_"===(name=componentAttributes[i$])[0]&&requiredAttr.push(name);return this.set("extraAttributes",difference(componentAttributes,requiredAttr))},onrender:function(){var __,extraAttr,i$,len$;for(__=this,i$=0,len$=(extraAttr=this.get("extraAttributes")).length;i$<len$;++i$)fn$.call(this,extraAttr[i$]);return this.on({edit:function(){return this.get("readonly")?(this.set("prev",unpack(pack(this.get("curr")))),this.set("editable",!0)):this.set("editable",!1)},accept:function(event,ev){var addToChangelog,curr,prev,message,logItem;return addToChangelog=function(logItem){var changelog;return 0===(changelog=unpack(pack(__.get("changelog")))).length&&changelog.unshift({curr:__.get("prev"),message:"initial",date:"(initial)"}),delete logItem.prev,delete logItem.value,changelog.unshift(logItem),changelog},curr=unpack(pack(__.get("curr"))),prev=__.get("prev"),pack(curr)===pack(prev)?(__.set("editable",!1),void __.set("message","")):""===(message=__.get("message"))?ev.component.error("Açıklama kısmı boş geçilemez!"):(logItem={curr:curr,message:message,date:Date.now(),prev:prev,value:__.get("value")},__.fire("valuechange",{component:ev,addToChangelog:addToChangelog},logItem,function(){return __.set("message",""),__.set("curr",curr),__.set("changelog",unpack(pack(__.get("changelog")))),__.set("editable",!1)}))},cancel:function(event,ev){return __.set("curr",__.get("prev")),__.set("editable",!1),__.set("message","")},showPopup:function(event,ev,value){return __.fire("displaylog",ev,value,function(){})}});function fn$(attr){this.observe(attr,function(_new){var curr;return(curr=__.get("curr"))[attr]=_new,__.set("curr",curr)})}},data:function(){return{prev:"",editable:!1,curr:{},changelog:[],message:"",value:null,readonly:!0}}})},{aea:75,"prelude-ls":330}],35:[function(require,module,exports){var ref$;(ref$=require("aea/formatting")).displayFormat,ref$.parseFormat,Ractive.components.formatter=Ractive.extend({template:{v:4,t:[{t:4,f:[{t:2,r:"formattedValue"}],n:50,r:"format"},{t:4,f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui message red",g:1}],f:["ERROR: format is required!"]}],n:51,l:1}]},isolated:!0,onrender:function(){var format,parseFormat,formatObj,displayFormat;if(format=this.get("format"))return parseFormat=this.get("parseFormat"),formatObj=parseFormat(format),displayFormat=this.get("displayFormat"),this.observe("value",function(_new){var f;return f=displayFormat(formatObj,_new),this.set("formattedValue",f.fullText)});console.error("Format is required to use a label!")},data:function(){return{formattedValue:""}}})},{"aea/formatting":74}],36:[function(require,module,exports){Ractive.components.icon=Ractive.extend({template:'<i class="icon {{class}}" on-click="click"></i> {{yield}}'}),Ractive.components.icons=Ractive.extend({template:'<i class="icons {{class}}" on-click="click">{{yield}}</i>'})},{}],37:[function(require,module,exports){require("./ace-editor/sync"),require("./time-series/sync"),require("./ddoc-editor/sync"),require("./aktos-dcs"),require("./checkbox"),require("./ack-button"),require("./sync"),require("./led"),require("./print-button"),require("./async"),require("./overlap"),require("./io-label"),require("./seven-segment"),require("./drawing-area"),require("./cache-asset"),require("./activity"),require("./terminal"),require("./pushbutton"),require("./assign-if-null"),require("./scroll-x"),require("./browser-storage"),require("./formatter"),require("./vertical-divider"),require("./radio-buttons"),require("./p"),require("./assign"),require("./checklist-button"),require("./checklist"),require("./coll-panel"),require("./data-table"),require("./date-picker"),require("./db-img"),require("./debug-obj"),require("./example-component"),require("./export-to-csv"),require("./file-button"),require("./formal-field"),require("./key-value-grid"),require("./router"),require("./r-table"),require("./text-button"),require("./input-field"),require("./dropdown"),require("./logger"),require("./todo"),require("./ui-progress"),require("./progress"),require("./slider"),require("./login"),require("./icon"),require("./btn"),require("./decorators/tooltip"),require("./decorators/semantic-ui/popup"),require("./decorators/semantic-ui/inline-popup"),require("./decorators/semantic-ui/accordion"),require("./decorators/semantic-ui/dropdown"),require("./decorators/semantic-ui/sidebar")},{"./ace-editor/sync":2,"./ack-button":3,"./activity":4,"./aktos-dcs":5,"./assign":7,"./assign-if-null":6,"./async":8,"./browser-storage":9,"./btn":10,"./cache-asset":11,"./checkbox":12,"./checklist":14,"./checklist-button":13,"./coll-panel":15,"./data-table":16,"./date-picker":17,"./db-img":18,"./ddoc-editor/sync":19,"./debug-obj":20,"./decorators/semantic-ui/accordion":21,"./decorators/semantic-ui/dropdown":22,"./decorators/semantic-ui/inline-popup":23,"./decorators/semantic-ui/popup":24,"./decorators/semantic-ui/sidebar":25,"./decorators/tooltip":26,"./drawing-area":28,"./dropdown":30,"./example-component":31,"./export-to-csv":32,"./file-button":33,"./formal-field":34,"./formatter":35,"./icon":36,"./input-field":38,"./io-label":39,"./key-value-grid":40,"./led":41,"./logger":42,"./login":43,"./overlap":46,"./p":47,"./print-button":48,"./progress":49,"./pushbutton":50,"./r-table":51,"./radio-buttons":52,"./router":53,"./scroll-x":54,"./seven-segment":55,"./slider":56,"./sync":57,"./terminal":58,"./text-button":59,"./time-series/sync":60,"./todo":61,"./ui-progress":62,"./vertical-divider":63}],38:[function(require,module,exports){Ractive.components["input-field"]=Ractive.extend({template:{v:4,t:[{t:4,f:[{t:7,e:"div",m:[{t:13,n:"class",f:"input-field ui right labeled transparent input",g:1}],f:[{t:7,e:"input",m:[{n:"value",f:[{t:2,r:"value"}],t:13},{n:"placeholder",f:[{t:2,r:"placeholder"}],t:13},{n:"type",f:[{t:2,r:"type"}],t:13}]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui basic label",g:1}],f:[{t:2,r:"unit"}]}]}],n:50,r:"unit"},{t:4,f:[{t:7,e:"div",m:[{n:"class",f:["input-field ",{t:2,r:"class"}],t:13},{n:"style",f:[{t:2,r:"style"}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"style",f:"padding: 5px;",g:1},{t:13,n:"class",f:"ui transparent input",g:1}],f:[{t:7,e:"input",m:[{n:"value",f:[{t:2,r:"value"}],t:13},{n:"placeholder",f:[{t:2,r:"placeholder"}],t:13},{n:"type",f:[{t:2,r:"type"}],t:13}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"input-field-inner",g:1}],f:[{t:16}]}]}],n:51,l:1}]},isolated:!0,onrender:function(){var unit;if("dakika saniye saat\nkg gr",(unit=this.get("unit"))&&function(x,xs){var i=-1,l=xs.length>>>0;for(;++i<l;)if(x===xs[i])return!0;return!1}(unit.toLowerCase(),"dakika saniye saat\nkg gr".split(" "))&&this.set("type","number"),"number"===this.get("type"))return $(this.find("input")).on("focus",function(ev){return $(this).on("mousewheel.disableScroll",function(ev){return $(this).blur()})})},data:function(){return{type:"number",unit:null,value:null,placeholder:""}}})},{}],39:[function(require,module,exports){var ref$,displayFormat,parseFormat;ref$=require("aea/formatting"),displayFormat=ref$.displayFormat,parseFormat=ref$.parseFormat,Ractive.defaults.data.displayFormat=displayFormat,Ractive.defaults.data.parseFormat=parseFormat,Ractive.defaults.data.formatter=function(format,value){return displayFormat(parseFormat(format),value).fullText},Ractive.components["io-label"]=Ractive.extend({template:{v:4,t:[{t:4,f:[{t:7,e:"span",m:[{n:"class",f:[{t:2,r:"class"}," text"],t:13}],f:[{t:2,r:"formattedValue"}]}],n:50,r:"format"},{t:4,f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui message red",g:1}],f:["ERROR: format is required!"]}],n:51,l:1}]},isolated:!0,onrender:function(){var format,parseFormat,formatObj,displayFormat;if(format=this.get("format"))return parseFormat=this.get("parseFormat"),formatObj=parseFormat(format),displayFormat=this.get("displayFormat"),this.observe("value",function(_new){var f;return f=displayFormat(formatObj,_new),this.set("formattedValue",f.fullText)});console.error("Format is required to use a label!")},data:function(){return{formattedValue:""}}})},{"aea/formatting":74}],40:[function(require,module,exports){Ractive.components["key-value-grid"]=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui stackable two column grid",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"column",g:1}],f:[{t:7,e:"b",f:[{t:2,r:"key"}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"column",g:1}],f:[" ",{t:16}]}]}]},isolated:!1})},{}],41:[function(require,module,exports){require("dcs/browser").Actor,Ractive.components.led=Ractive.extend({template:{v:4,t:[{t:7,e:"img",m:[{n:"class",f:["ui image led ",{t:2,r:"class"}],t:13},{n:"src",f:[{t:2,r:"type"},"/on.svg"],t:13},{n:"style",f:[{t:2,r:"style"},"; display: ",{t:4,f:["inline"],n:50,x:{r:["innerState"],s:'_0==="on"'}},{t:4,f:["none"],n:51,l:1}],t:13}]},{t:7,e:"img",m:[{n:"class",f:["ui image led ",{t:2,r:"class"}],t:13},{n:"src",f:[{t:2,r:"type"},"/off.svg"],t:13},{n:"style",f:[{t:2,r:"style"},"; display: ",{t:4,f:["inline"],n:50,x:{r:["innerState"],s:'_0==="off"'}},{t:4,f:["none"],n:51,l:1}],t:13}]},{t:7,e:"img",m:[{n:"class",f:["ui image led ",{t:2,r:"class"}],t:13},{n:"src",f:[{t:2,r:"type"},"/init.gif"],t:13},{n:"style",f:[{t:2,r:"style"},"; display: ",{t:4,f:["inline"],n:50,x:{r:["innerState"],s:'_0==="init"'}},{t:4,f:["none"],n:51,l:1}],t:13}]},{t:7,e:"img",m:[{n:"class",f:["ui image led ",{t:2,r:"class"}],t:13},{n:"src",f:[{t:2,r:"type"},"/unknown.svg"],t:13},{n:"style",f:[{t:2,r:"style"},"; display: ",{t:4,f:["inline"],n:50,x:{r:["innerState"],s:'_0==="unknown"'}},{t:4,f:["none"],n:51,l:1}],t:13}]}],e:{}},isolated:!0,onrender:function(){return this.observe("state",function(_new){return null!=_new?_new?this.set("innerState","on"):this.set("innerState","off"):this.set("innerState","unknown")})},data:function(){return{type:"lightbulb",state:void 0,innerState:"unknown"}}})},{"dcs/browser":82}],42:[function(require,module,exports){var ref$,Logger,pack,sleep,Signal,topicMatch,RactiveActor,slice$=[].slice,toString$={}.toString;(ref$=require("aea")).merge,Logger=ref$.Logger,pack=ref$.pack,sleep=ref$.sleep,ref$=require("dcs/browser"),Signal=ref$.Signal,topicMatch=ref$.topicMatch,RactiveActor=require("actors").RactiveActor,Ractive.components.logger=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui basic modal",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui icon header",g:1}],f:[{t:7,e:"i",m:[{n:"class",f:["icon ",{t:2,r:"icon"}],t:13}]},{t:2,r:"dimmedTitle"}," "]},{t:7,e:"div",m:[{t:13,n:"class",f:"content",g:1}],f:[{t:2,r:"dimmedMessage"}]},{t:7,e:"div",m:[{t:13,n:"class",f:"actions",g:1}],f:[" ",{t:4,f:[{t:19,f:[{t:7,e:"div",m:[{n:"class",f:["ui inverted button ",{t:2,r:".color"}],t:13},{n:["click"],t:70,f:{r:[".action"],s:'[["selectionMade",_0]]'}}],f:[{t:4,f:[{t:7,e:"i",m:[{n:"class",f:["icon ",{t:2,r:".icon"}],t:13}]}],n:50,r:".icon"},{t:2,r:".text"}]}],n:54,z:[{n:"_tmp",x:{r:"@local"}}]}],n:52,r:"buttons"}]}]},{t:4,f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui message red",g:1}],f:[{t:7,e:"h2",f:[{t:7,e:"code",f:["Logger"]}," Debug Output"]},{t:7,e:"textarea",f:[{t:4,f:[{t:19,f:[{t:2,r:"."}],n:54,z:[{n:"_tmp",x:{r:"@local"}}]}],n:52,r:"debugErrorMessages"}]}]}],n:50,r:"debug"}],e:{}},isolated:!0,onrender:function(){var modal,selectionSignal,this$=this;return modal=$(this.find(".ui.basic.modal")),this.logger=new Logger("Global Modal"),(this.actor=new RactiveActor(this,{name:"Global Modal"})).subscribe("app.log.**"),this.actor.on("data",function(msg){if(topicMatch(msg.to,"app.log.**"))return this$.fire("showDimmed",{},msg.data,function(action){return this$.actor.sendResponse(msg,{action:action})})}),this.get("debug")&&this.logger.mgr.on("err",function(){var args;return args=slice$.call(arguments),this$.push("debugErrorMessages",pack(args))}),selectionSignal=new Signal,this.on({showDimmed:function(ev,msg,callback){var defaultOpts,ref$,name,this$=this;if(this.logger.log(msg),selectionSignal.reset(),"Object"===toString$.call(callback).slice(8,-1))throw null;switch("Function"!==toString$.call(callback).slice(8,-1)&&(callback=function(){}),defaultOpts={closable:!0,title:"Modal",buttons:{ok:{color:"green",text:"Okay",icon:"check"}}},toString$.call(msg).slice(8,-1)){case"String":msg={message:msg};break;case"Object":"Object"!==(ref$=toString$.call(msg.message).slice(8,-1))&&"Array"!==ref$||(msg.message=JSON.stringify(msg.message,null,2))}return msg=function(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}(defaultOpts,msg),this.set("buttons",function(){var results$=[];for(name in msg.buttons)msg.buttons[name].action=name,results$.push(msg.buttons[name]);return results$}()),this.set({dimmedMessage:msg.message,icon:msg.icon,dimmedTitle:msg.title}),modal.modal({closable:msg.closable,onHide:function(){return selectionSignal.go(null,"hidden"),!0}}),modal.modal("show"),selectionSignal.wait(function(timeout,action){return this$.logger.log("selection made. action: ",action),modal.modal("hide"),sleep(0,function(){return callback(action)})})},selectionMade:function(ctx,action){return selectionSignal.go(null,action)}})},data:function(){return{debugErrorMessages:[]}}})},{actors:65,aea:75,"dcs/browser":82}],43:[function(require,module,exports){require("./login-button"),require("./logout-button")},{"./login-button":44,"./logout-button":45}],44:[function(require,module,exports){Ractive.components["login-button"]=Ractive.extend({isolated:!0,template:{v:4,t:[{t:7,e:"ack-button",m:[{n:"class",f:[{t:2,r:"class"}],t:13},{n:"style",f:[{t:2,r:"style"}],t:13},{n:["click"],t:70,f:"doLogin"},{n:"disabled",f:[{t:2,r:"disabled"}],t:13},{n:"enabled",f:[{t:2,r:"enabled"}],t:13}],f:[{t:16}]}]},onrender:function(){return this.on({click:function(ctx){return this.findComponent("ack-button").fire("click")},doLogin:function(ctx){var actor,user,password,this$=this;return actor=ctx.component.actor,user=this.get("user"),password=this.get("password"),user?(ctx.component.fire("state","doing"),actor.sendRequest({to:"app.dcs.do-login"},{user:user,password:password},function(err,msg){var error;return(error=err||msg.data.err)?ctx.component.error({message:error}):function(){var ref$;try{return null!=(ref$=msg.data)?ref$.res.auth.session.token:void 0}catch(e$){}}()?(this$.set("user",""),this$.set("password",""),this$.fire("success"),ctx.component.fire("state","done...")):void 0})):ctx.component.error({message:"User name is required."})}})},data:function(){return{disabled:!1,enabled:!0}}})},{}],45:[function(require,module,exports){Ractive.components["logout-button"]=Ractive.extend({isolated:!0,template:{v:4,t:[{t:7,e:"ack-button",m:[{n:"class",f:[{t:2,r:"class"}],t:13},{n:"style",f:[{t:2,r:"style"}],t:13},{n:["click"],t:70,f:"doLogout"},{n:"disabled",f:[{t:2,r:"disabled"}],t:13},{n:"enabled",f:[{t:2,r:"enabled"}],t:13}],f:[{t:16}]}]},onrender:function(){return this.on({click:function(ctx){return this.findComponent("ack-button").fire("click")},doLogout:function(ctx){return ctx.component.fire("state","doing"),3e3,ctx.actor.sendRequest({route:"app.dcs.do-logout",timeout:3e3},function(err,msg){if(!err)return ctx.component.fire("state","done...");console.warn("Something went wrong on logout: ",err)})}})},data:function(){return{disabled:!1,enabled:!0}}})},{}],46:[function(require,module,exports){var sleep;sleep=function(ms,f){return setTimeout(f,ms)},Ractive.components.overlap=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{n:"class",f:["overlap-container ",{t:2,r:"class"}],t:13},{n:"style",f:[{t:4,f:["width: ",{t:2,r:"width"},";"],r:"width"}," ",{t:4,f:["height: ",{t:2,r:"height"},";"],r:"height"}," ",{t:2,r:"style"}," display: inline-block;"],t:13}],f:[{t:16}]}]},onrender:function(){var this$=this;return sleep(10,function(){var root,maxHeight,children,i$,len$,c,height;for(maxHeight=0,i$=0,len$=(children=(root=$(this$.find(".overlap-container"))).children()).length;i$<len$;++i$)c=children[i$],(height=$(c).height())>maxHeight&&(maxHeight=height);return root.height(maxHeight)})}})},{}],47:[function(require,module,exports){Ractive.components.p=Ractive.extend({template:"<div class='ui p {{class}}' style='{{style}}'>{{yield}}</div>",onrender:function(ctx){0},components:{p:!1}})},{}],48:[function(require,module,exports){var RactiveActor;require("aea").sleep,RactiveActor=require("actors").RactiveActor,Ractive.components["print-button"]=Ractive.extend({template:{v:4,t:[{t:7,e:"ack-button",m:[{n:"class",f:[{t:2,r:"class"}],t:13},{n:["click"],t:70,f:"_preparePrint"},{n:"tooltip",f:[{t:2,r:"tooltip"}],t:13},{n:"custom",f:0,t:13}],f:[{t:16}]}]},isolated:!0,onrender:function(){return this.actor=new RactiveActor(this,{name:"print button"}),this.on({_preparePrint:function(ctx){var c,printWindow,this$=this;return(c=ctx.getParent(!0)).refire=!0,c.button=ctx.component,c.proxy=ctx,(printWindow=window.open("","","scrollbars=yes, resizable=yes, width=800, height=500"))?(printWindow.document.writeln("<h2>Preparing content...</h2>"),printWindow.document.close(),this.fire("print",c,function(res){var that,doc,body,printCss;try{(that=res.html)?doc=that:body=(that=res.body)?that:new Ractive({template:res.template,data:res.data}).toHTML(),(that=this$.get("title"))&&(res.title=that)}catch(e$){e$}return printCss="/* in order to disable page header and footer */\n@page {\n    margin: 0;\n}\n\n/* Re-create A4 sized div */\n#page-container {\n    border: 1px dashed red; /* for debugging purposes */\n    padding: 1cm;\n    width: 210mm;\n    height: 297mm;\n}\n\n/* to be able to use absolute css */\n#page-inner {\n    position: relative;\n    height: 100%;\n    /*border: 1px dotted green;*/\n    display:flex;\n    flex-flow: column nowrap;\n}\n\n.fit-image {\n  flex: 1;\n  /*border: 1px solid yellow;*/\n  background-size: contain !important;\n  background-repeat: no-repeat;\n  background-size: auto 100%;\n  background-position: center center;\n}\n\n\n\n/* Defining all page breaks */\na {\n    page-break-inside:avoid\n}\nblockquote {\n    page-break-inside: avoid;\n}\nh1, h2, h3, h4, h5, h6 { page-break-after:avoid;\n     page-break-inside:avoid }\nimg { page-break-inside:avoid;\n     page-break-after:avoid; }\ntable, pre { page-break-inside:avoid }\nul, ol, dl  { page-break-before:avoid }\n",doc='<html  moznomarginboxes mozdisallowselectionprint>\n    <head>\n        <link rel="stylesheet" href="css/vendor.css">\n        <script src="js/vendor.js"><\/script>\n        <title>'+(res.title||res.data.title)+"</title>\n        <style>\n            @media all{\n                "+printCss+"\n                "+res.style+' /* additional styles */\n            }\n        </style>\n    </head>\n    <body>\n        <div id="page-container">\n            <div id="page-inner">\n                '+body+"\n            </div>\n        </div>\n        \x3c!-- <script>window.print(); window.close()<\/script> --\x3e\n    </body>\n</html>",printWindow.document.writeln(doc),printWindow.document.close()})):c.button.error({title:"Error",icon:"warning sign",message:"Your browser does not let me open a window!"})}})}})},{actors:65,aea:75}],49:[function(require,module,exports){function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}Ractive.components.progress=Ractive.extend({template:'<div class="ldBar {{class}}"style="{{style}};{{#if height}}height: {{height}};{{/if}}{{#if width}}width: {{width}};{{/if}}"></div>',isolated:!0,oninit:function(){var type,that;return type=function(){switch(that=this.get("type")){case"circle":case"buble":case"vertical":case"fan":return that;default:return"line"}}.call(this),(this.partials.path||this.get("img"))&&(type="custom",this.set("type")),this.set("_type",type)},onrender:function(){var max,min,elem,scadaDefaults,that,opts,cfg,bar,paddingBottom,paddingTop;return max=this.get("max"),min=this.get("min"),elem=this.find("div"),scadaDefaults={type:this.get("fill")?"fill":"stroke"},(that=this.get("fill"))&&"fill"!==that&&(console.log("fill is: ",this.get("fill")),scadaDefaults.fill=that),import$(opts=import$(scadaDefaults,$(elem).data()),function(){switch(that=this.get("_type")){case"custom":return(that=this.get("img"))?(cfg={img:that,type:"fill"},(that=this.get("background"))&&(cfg.img2=that),cfg):{path:this.partials.path[0]};case"vertical":return{preset:"buble",type:"fill",path:"M20 20L90 20L90 90L20 90Z",fill:"data:ldbar/res,bubble(#248,#fff,50,1)"};default:return{preset:that}}}.call(this)),bar=new ldBar(elem,opts),paddingBottom=this.get("padding-bottom"),paddingTop=this.get("padding-top"),this.observe("value",function(_new){var barPercent;return null!=_new?(barPercent=_new*(100-paddingBottom-paddingTop)/(max-min)+paddingBottom,this.set("percent",100*_new/(max-min)),bar.set(barPercent,!1)):(console.warn("TODO: this should indicate an error: ",_new),this.set("percent",void 0),bar.set(void 0,!1))})},data:function(){return{max:100,min:0,value:null,_type:"line","padding-top":0,"padding-bottom":0}}})},{}],50:[function(require,module,exports){var RactiveActor,toString$={}.toString;RactiveActor=require("actors").RactiveActor,Ractive.components.pushbutton=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{n:"class",f:["ui button ",{t:4,f:["disabled"],r:"disabled"}," ",{t:4,f:["active"],r:"active"}," ",{t:2,r:"class"}," ",{t:4,f:[{t:2,rx:{r:"~/",m:[{r:[],s:'"pressed-color"'}]}}],n:50,x:{r:["state"],s:'_0==="pressed"'}},{t:4,f:[{t:2,rx:{r:"~/",m:[{r:[],s:'"released-color"'}]}}," "],n:50,x:{r:["state"],s:'_0=="released"'},l:1},{t:4,f:[" shadowed-button"],n:50,x:{r:["state"],s:'_0==="doing"'},l:1}," "],t:13},{n:"style",f:[{t:2,r:"style"}],t:13},{n:"popup",t:71,f:{r:["tooltip"],s:"[_0]"}}],f:[{t:16}]}],e:{}},isolated:!1,oninit:function(){return this.actor=new RactiveActor(this,{name:"pushbutton"})},onrender:function(){var button,nameState,turn,that,this$=this;if(button=$(this.find(".ui.button")),nameState=function(state){return this$.set("state",state?"pressed":"released")},turn=function(state){return this$.set("state","doing"),this$.fire("toggle",{actor:this$.actor},state,function(err){return err?(this$.actor.send("app.log.error",{title:"Pushbutton Error",message:err}),this$.actor.log.err(err)):nameState(state)})},this.observe("pressed",function(_new){if("Undefined"!==toString$.call(_new).slice(8,-1))return nameState(_new)}),button.on("mousedown",function(){return turn(!0),button.on("mouseleave",function(){return turn(!1)})}),button.on("mouseup",function(){return turn(!1),button.off("mouseleave")}),button.on("touchstart",function(e){return turn(!0),button.on("touchleave",function(){return turn(!1)}),e.stopPropagation()}),button.on("touchend",function(e){return turn(!1)}),this.actor.on("data",function(msg){var curr,ref$;if(null!=(curr=null!=(ref$=msg.data)?ref$.curr:void 0))return nameState(curr),this$.set("pressed",curr)}),that=this.get("topic"))return this.actor.subscribe(that)},data:function(){return{pressed:void 0,state:"doing","pressed-color":"red","released-color":"green"}}})},{actors:65}],51:[function(require,module,exports){require("aea").sleep,Ractive.components["r-head"]=Ractive.extend({template:{v:4,t:[{t:7,e:"thead",m:[{n:"class",f:[{t:2,r:"class"}],t:13},{n:"style",f:[{t:2,r:"style"}],t:13}],f:[{t:16}]}]}}),Ractive.components["r-body"]=Ractive.extend({template:{v:4,t:[{t:7,e:"tbody",m:[{n:"class",f:[{t:2,r:"class"}],t:13},{n:"style",f:[{t:2,r:"style"}],t:13}],f:[{t:16}]}]}}),Ractive.components["r-foot"]=Ractive.extend({template:{v:4,t:[{t:7,e:"tfoot",m:[{n:"class",f:[{t:2,r:"class"}],t:13},{n:"style",f:[{t:2,r:"style"}],t:13}],f:[{t:16}]}]}}),Ractive.components["r-row"]=Ractive.extend({template:{v:4,t:[{t:7,e:"tr",m:[{n:"class",f:["r-table-row ",{t:2,r:"class"}],t:13},{n:"style",f:[{t:2,r:"style"}],t:13}],f:[{t:16}]}]},oncomplete:function(){return this.findContainer("r-table").fire("updateColNames")}}),Ractive.components["r-col"]=Ractive.extend({template:{v:4,t:[{t:7,e:"td",m:[{n:"class",f:["r-table-column ",{t:2,r:"class"}],t:13},{n:"style",f:[{t:2,r:"style"}],t:13}],f:[{t:16}]}]}}),Ractive.components["r-head-col"]=Ractive.extend({template:{v:4,t:[{t:7,e:"th",m:[{n:"class",f:[{t:2,r:"class"}],t:13},{n:"style",f:[{t:2,r:"style"}],t:13}],f:[{t:16}]}]}}),Ractive.components["r-table"]=Ractive.extend({template:{v:4,t:[{t:7,e:"table",m:[{n:"class",f:["r-table ui ",{t:2,r:"class"}," table"],t:13},{n:"style",f:[{t:2,r:"style"}],t:13}],f:[{t:16}]}]},isolated:!0,oninit:function(){return this.on({updateColNames:function(){var cols,colNames,res$,i$,x$,len$;for(0===(cols=$(this.find("thead > tr:last-of-type")).children()).length&&console.error("Column names are not found, missing thead > tr > th?"),res$=[],i$=0,len$=cols.length;i$<len$;++i$)x$=cols[i$],res$.push(x$.innerText);return colNames=res$,$(this.find("tbody")).children("tr").each(function(i,row){return $(row).children("td").each(function(i,col){return $(col).attr("data-th",colNames[i])})})}})},oncomplete:function(){},data:function(){return{width:null,parentWidth:null}}})},{aea:75}],52:[function(require,module,exports){var toString$={}.toString;Ractive.components["radio-buttons"]=Ractive.extend({template:{v:4,t:[{t:8,r:"content"}]},isolated:!1,oninit:function(){var firstRun,this$=this;return this.getContext().hasListener("select",!0)&&this.set("async",!0),firstRun=!0,this.setSelectedColor=function(newVal,opts){var gtrueColor,gfalseColor,buttons,op,c;return null==opts&&(opts={}),gtrueColor=this$.get("true-color"),gfalseColor=this$.get("false-color"),buttons=this$.get("buttons"),op=function(){var i$,ref$,len$,btn,trueColor,falseColor,btnVal,that,results$=[];for(i$=0,len$=(ref$=buttons).length;i$<len$;++i$)trueColor=(btn=ref$[i$]).get("true-color")||gtrueColor,falseColor=btn.get("false-color")||gfalseColor,(btnVal=(that=btn.get("value"))?that:btn.partials.content[0])===newVal?(this$.set("value",newVal),results$.push(btn.set("colorclass",trueColor))):null==newVal&&btn.get("default")?firstRun?(this$.set("value",btnVal),btn.set("colorclass",trueColor),results$.push(firstRun=!1)):results$.push(console.warn("prevent setting the default value")):results$.push(btn.set("colorclass",falseColor));return results$},opts.outside?op():this$.get("async")?((c=this$.getContext(this$.target).getParent(!0)).refire=!0,c.button=opts.ctx.component,c.button.state("doing"),this$.fire("select",c,newVal,function(err){if(!err)return c.button.state("done..."),op();c.button.error(err)})):op()},this.on({"*.init":function(ctx,instance){return this$.push("buttons",instance),instance.on("click",function(ctx2){var newVal,that,x,y;(newVal=(that=ctx2.get("value"))?that:(x=instance.partials.content,y=function(){try{return x[0]}catch(e$){}}(),"String"===toString$.call(y).slice(8,-1)?y:null))&&this$.setSelectedColor(newVal,{ctx:ctx2})})},teardown:function(){}})},onrender:function(){var this$=this;return this.observe("disabled",function(val){var i$,x$,ref$,len$,results$=[];for(i$=0,len$=(ref$=this$.get("buttons")).length;i$<len$;++i$)x$=ref$[i$],results$.push(x$.set("disabled",val));return results$}),this.observe("value",function(val){return this$.setSelectedColor(val,{outside:!0})})},data:function(){return{buttons:[],"true-color":"green",async:!1}}}),Ractive.components["radio-button"]=Ractive.extend({template:{v:4,t:[{t:7,e:"ack-button",m:[{n:"class",f:[{t:2,r:"class"}," ",{t:2,r:"colorclass"}," ",{t:4,f:["disabled"],r:"disabled"}],t:13},{n:"style",f:[{t:2,r:"style"}],t:13},{n:"disabled",f:[{t:2,r:"disabled"}],t:13},{n:"enabled",f:[{t:2,r:"enabled"}],t:13},{n:["click"],t:70,f:"click"}],f:[{t:16}]}]},data:function(){return{default:!1}}})},{}],53:[function(require,module,exports){var sleep,ref$,take,drop,split,find,RactiveActor,getOffset,scrollTo,makeLink,getWindowHash,hashListener,_scrollTop,setWindowHash,parseLink;function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}sleep=require("aea").sleep,ref$=require("prelude-ls"),take=ref$.take,drop=ref$.drop,split=ref$.split,find=ref$.find,RactiveActor=require("actors").RactiveActor,getOffset=function(){return $("body").scrollTop()},scrollTo=function(anchor){var offset;if(offset=$("span[data-id='"+anchor+"']").offset())return $("html, body").animate({scrollTop:((null!=offset?offset.top:void 0)||0)-(window.topOffset||0)},200)},makeLink=function(scene,anchor){var curr,scenePart,that;return curr=parseLink(getWindowHash()),scenePart=null!=(that=scene)?that:curr.scene,(scenePart=(that=scenePart)?"#/"+that:"#")+(null!=(that=anchor)?"#"+that:"")},getWindowHash=function(){var hash,_hash;return(hash=window.location.hash)!==(_hash=hash.replace("%23","#"))&&setWindowHash(hash=_hash,!0),hash||"#/"},hashListener=function(){},_scrollTop=null,setWindowHash=function(hash,silent){if(history.pushState?history.pushState(null,null,hash):window.location.hash=hash,!silent)return hashListener(hash)},parseLink=function(link){var ref$,scene,anchor;if(link.match(/http[s]?:\/\//))return{external:!0};switch(scene=(ref$=["/",""])[0],anchor=ref$[1],take(2,link)){case"#/":scene=(ref$=drop(2,link).split("#"))[0],anchor=ref$[1];break;case"##":scene=(ref$=["",drop(2,link)])[0],anchor=ref$[1];break;default:scene=(ref$=[void 0,drop(1,link)])[0],anchor=ref$[1]}return{scene:scene,anchor:anchor}},Ractive.components.a=Ractive.extend({template:'<a class="{{class}} {{#if \'#/\' + @shared.router.scene === href}}active{{/if}}"\n    style="\n        {{#href}}cursor: pointer;{{/}}\n        {{style}}\n        "\n    on-click="click"\n    bind-data-id\n    {{#if tooltip}}title="{{tooltip}}"{{/if}}\n    >\n    {{yield}}\n</a>',isolated:!1,components:{a:!1},data:function(){return{tooltip:null,href:null}},onrender:function(){return this.on({click:function(ctx){var href,that,link,generatedLink;if(href=this.get("href"),this.get("newtab"))return window.open(href);if(that=this.get("onclick"))return eval(that);if(null!=href)if(link=parseLink(href),link.external)this.get("curr-window")?window.open(href,"_self"):window.open(href);else{if(link)return generatedLink=makeLink(link.scene,link.anchor),_scrollTop=$(document).scrollTop(),setWindowHash(generatedLink);console.error("there seems a no valid link:",link)}}})}}),Ractive.components.anchor=Ractive.extend({template:'<span data-id="{{yield}}"></span>',isolated:!0}),Ractive.components.router=Ractive.extend({template:"",isolated:!0,oncomplete:function(){var offset,change,x$,actor,prev,activeScene,handleHash,this$=this;return offset=this.get("offset")||0,this.set("@global.topOffset",offset),change={},(x$=actor=new RactiveActor(this,"router")).subscribe("app.router.**"),x$.on("request-update",function(topic,respond){return console.log("router received request update: ",topic),respond(change)}),prev={},activeScene=null,handleHash=function(opts){var curr,screenTop,that,i$,x$,ref$,len$,thisPage,isDefault,y$;if(null==opts&&(opts={}),curr=parseLink(getWindowHash())){if(curr.scene!==prev.scene||opts.force){for((null!=prev?prev.scene:void 0)||"default",change.scene=curr.scene,screenTop=_scrollTop||getOffset(),_scrollTop=null,(that=activeScene)&&(that.set("lastScroll",screenTop),that.set("visible",!1)),activeScene=null,i$=0,len$=(ref$=this$.get("@shared.scenes")).length;i$<len$;++i$)if(thisPage=(x$=ref$[i$]).get("name")||"default",isDefault=x$.get("default"),""===curr.scene&&isDefault||curr.scene===thisPage){this$.able(x$.get("permissions"))||x$.get("public")?activeScene=x$:(console.warn("We don't have permissions to see the scene, displaying an UNAUTHORIZED scene"),activeScene=find(fn$,this$.get("@shared.scenes")));break}activeScene||((that=find(function(p){return"NOTFOUND"===p.get("name")},this$.get("@shared.scenes")))?(activeScene=that,console.log("Found 404 page, displaying it...")):console.error("Neither requested page, nor a 404 scene is found.")),(that=activeScene)&&((y$=that).set("hidden",!0),y$.set("visible",!0),y$.set("renderedBefore",!0),opts.noscroll||$(document).scrollTop(y$.get("lastScroll")),y$.set("hidden",!1))}return curr.anchor!==prev.anchor&&(change.anchor=curr.anchor),opts.noscroll||sleep(50,function(){return scrollTo(curr.anchor)}),actor.send("app.router.changes",{change:change}),this$.set("@shared.router",change),import$(prev,curr)}function fn$(p){return"UNAUTHORIZED"===p.get("name")}},this.observe("@global.session.permissions",function(){return console.log("permissions changed, re-handling the hash"),handleHash({force:!0,noscroll:!0})}),hashListener=function(hash){return console.log("fired hash listener! hash is: "+hash),handleHash()},$(window).on("hashchange",function(){return console.log("this is hashchange run: "+window.location.hash),handleHash()}),handleHash()}}),Ractive.components.scene=Ractive.extend({template:'<div data-name="{{name}}"class="{{class}}"style="{{#unless visible}} display: none; {{/unless}}{{#if hidden}}visibility: hidden; {{/if}}margin: 0; padding: 0; border: 0;">{{#if renderedBefore}}<div class="{{name}} scene"style="margin: 0;padding: 0;padding-top: {{offset !== null ? offset : @global.topOffset}}px;border: 0;">{{>content}}</div>{{/if}}</div>',isolated:!1,oninit:function(){var ref$;return this.get("render")&&this.set("renderedBefore",!0),"NOTFOUND"!==(ref$=this.get("name"))&&"UNAUTHORIZED"!==ref$||this.set("public",!0),this.observe("visible",function(curr,prev){return!prev&&curr?this.fire("enter"):prev&&!curr?this.fire("exit"):void 0}),this.push("@shared.scenes",this)},data:function(){return{offset:null,name:"",hidden:!1,visible:!1,renderedBefore:!1,loggedin:!0,permissions:"",lastScroll:0,public:!1}}})},{actors:65,aea:75,"prelude-ls":330}],54:[function(require,module,exports){var FpsExec;require("aea").sleep,FpsExec=require("dcs/src/filters").FpsExec,Ractive.components["scroll-x"]=Ractive.extend({template:'<div class="scroll-x-outer">\n    <div class="scroll-x-container">\n        {{yield}}\n    </div>\n</div>',isolated:!1,onrender:function(){var fps,outer,container,setContainerHeight;return fps=new FpsExec(5),outer=$(this.find(".scroll-x-outer")),container=$(this.find(".scroll-x-container")),(setContainerHeight=function(){var height;return height=container.height(),outer.css("height",height)})(),container.bind("DOMSubtreeModified",function(e){if(e.target.innerHTML.length>0)return fps.exec(function(){return setContainerHeight()})})}})},{aea:75,"dcs/src/filters":192}],55:[function(require,module,exports){var defs,getCharBits;defs={0:{a:!0,b:!0,c:!0,d:!0,e:!0,f:!0},1:{b:!0,c:!0},2:{a:!0,b:!0,g:!0,e:!0,d:!0},3:{a:!0,b:!0,c:!0,g:!0,d:!0},4:{f:!0,g:!0,b:!0,c:!0},5:{a:!0,f:!0,g:!0,c:!0,d:!0},6:{a:!0,f:!0,g:!0,c:!0,d:!0,e:!0},7:{a:!0,b:!0,c:!0},8:{a:!0,b:!0,c:!0,d:!0,e:!0,f:!0,g:!0},9:{a:!0,b:!0,c:!0,d:!0,f:!0,g:!0}," ":{},C:{a:!0,f:!0,e:!0,d:!0}},getCharBits=function(text){var sstext,i$,to$,i,char,x;for(sstext=[],i$=0,to$=null!=text?text.length:void 0;i$<to$;++i$)"."!==(char=text[i=i$])&&defs[char]&&((x={}).dot=fn$(),x.char=defs[char],sstext.push(x));return sstext;function fn$(){try{if("."===text[i+1])return!0}catch(e$){return e$,!1}}},Ractive.components["seven-segment"]=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{t:13,n:"class",f:"seven-segment-container",g:1}],f:[{t:4,f:[{t:19,f:[{t:8,r:"segment"}],n:54,z:[{n:"_tmp",x:{r:"@local"}}]}],n:52,r:"sstext"}]}],p:{segment:[{t:7,e:"svg",m:[{n:"viewBox",f:"0 -1 12 20",t:13,g:1},{n:"version",f:"1.1",t:13,g:1}],f:[{t:7,e:"g",m:[{t:13,n:"class",f:"digit",g:1},{n:"id",f:"g16",t:13,g:1}],f:[{t:7,e:"polygon",m:[{n:"class",f:["seven-segment-",{t:4,f:["on"],n:50,r:"char.a"},{t:4,f:["off"],n:51,l:1},"-state"],t:13},{n:"points",f:" 1, 1  2, 0  8, 0  9, 1  8, 2  2, 2",t:13,g:1},{n:"id",f:"polygon2",t:13,g:1}]}," ",{t:7,e:"polygon",m:[{n:"class",f:["seven-segment-",{t:4,f:["on"],n:50,r:"char.b"},{t:4,f:["off"],n:51,l:1},"-state"],t:13},{n:"points",f:" 9, 1 10, 2 10, 8  9, 9  8, 8  8, 2",t:13,g:1},{n:"id",f:"polygon4",t:13,g:1}]}," ",{t:7,e:"polygon",m:[{n:"class",f:["seven-segment-",{t:4,f:["on"],n:50,r:"char.c"},{t:4,f:["off"],n:51,l:1},"-state"],t:13},{n:"points",f:" 9, 9 10,10 10,16  9,17  8,16  8,10",t:13,g:1},{n:"id",f:"polygon6",t:13,g:1}]}," ",{t:7,e:"polygon",m:[{n:"class",f:["seven-segment-",{t:4,f:["on"],n:50,r:"char.d"},{t:4,f:["off"],n:51,l:1},"-state"],t:13},{n:"points",f:" 9,17  8,18  2,18  1,17  2,16  8,16",t:13,g:1},{n:"id",f:"polygon8",t:13,g:1}]}," ",{t:7,e:"polygon",m:[{n:"class",f:["seven-segment-",{t:4,f:["on"],n:50,r:"char.e"},{t:4,f:["off"],n:51,l:1},"-state"],t:13},{n:"points",f:" 1,17  0,16  0,10  1, 9  2,10  2,16",t:13,g:1},{n:"id",f:"polygon10",t:13,g:1}]}," ",{t:7,e:"polygon",m:[{n:"class",f:["seven-segment-",{t:4,f:["on"],n:50,r:"char.f"},{t:4,f:["off"],n:51,l:1},"-state"],t:13},{n:"points",f:" 1, 9  0, 8  0, 2  1, 1  2, 2  2, 8",t:13,g:1},{n:"id",f:"polygon12",t:13,g:1}]}," ",{t:7,e:"polygon",m:[{n:"class",f:["seven-segment-",{t:4,f:["on"],n:50,r:"char.g"},{t:4,f:["off"],n:51,l:1},"-state"],t:13},{n:"points",f:" 1, 9  2, 8  8, 8  9, 9  8,10  2,10",t:13,g:1},{n:"id",f:"polygon14",t:13,g:1}]}]}," ",{t:7,e:"circle",m:[{n:"class",f:["seven-segment-",{t:4,f:["on"],n:50,r:"dot"},{t:4,f:["off"],n:51,l:1},"-state"],t:13},{n:"id",f:"path4507",t:13,g:1},{n:"cx",f:"11",t:13,g:1},{n:"cy",f:"18",t:13,g:1},{n:"r",f:"1.8",t:13,g:1}]}]}]}},onrender:function(){return this.observe("value",function(text){return null!=text?this.set("sstext",getCharBits(text+"")):this.set("sstext",getCharBits("---"))})},data:function(){return{value:"1234567.890 C"}}})},{}],56:[function(require,module,exports){var nouislider,merge;nouislider=require("nouislider"),merge=require("aea").merge,Ractive.components.slider=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{t:13,n:"class",f:"slider",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"slider-inner",g:1},{t:4,f:[{n:"disabled",f:0,t:13}],r:"disabled"}]}]}]},isolated:!0,onrender:function(){var __,slider,sliderOuter,type,min,max,opts,sliderWidget;return __=this,slider=$(this.find(".slider-inner")),sliderOuter=$(this.find(".slider")),type=this.get("range")?"range":"simple",opts={start:min=this.get("min")||0,connect:"lower",range:{min:min,max:max=this.get("max")||100},behaviour:"drag",animate:!1,step:.1},"range"===type&&merge(opts,{connect:!0,start:[min,min],range:{min:[min],max:[max]}}),this.get("vertical")&&(slider.css({height:this.get("height")||"200px"}),sliderOuter.css({"margin-bottom":"80px"}),merge(opts,{orientation:"vertical",direction:"rtl"})),this.get("opts")&&merge(opts,this.get("opts")),nouislider.create(slider[0],opts),sliderWidget=slider[0].noUiSlider,"simple"===type?(this.observe("value",function(_new){return sliderWidget.set(_new)}),sliderWidget.on("slide",function(values,handle){var val;return val=values[handle],__.set("value",val)})):"range"===type?(this.observe("lower-value",function(_new){return sliderWidget.set([_new,this.get("upper-value")])}),this.observe("upper-value",function(_new){return sliderWidget.set([this.get("lower-value"),_new])}),sliderWidget.on("slide",function(values,handle){return __.set("lower-value",values[0]),__.set("upper-value",values[1])})):void 0}})},{aea:75,nouislider:310}],57:[function(require,module,exports){var RactiveIoProxyClient;RactiveIoProxyClient=require("actors").RactiveIoProxyClient,Ractive.components.sync=Ractive.extend({isolated:!0,onrender:function(){var handle,e,this$=this;try{return this.ioClient=new RactiveIoProxyClient(this,{timeout:1e3,route:this.get("route"),fps:this.get("fps"),debug:this.get("debug")}),this.get("readonly")||(handle=this.observe("value",function(_new){return this$.get("debug")&&this$.ioClient.log.debug("Value is: ",_new),this$.ioClient.write(_new)},{init:!1})),this.ioClient.on("error",function(err){return console.warn("Proxy client received error: ",err,"(thus setting value to undefined.)"),this$.fire("error",{},err),null!=handle&&handle.silence(),this$.set("value",void 0),null!=handle?handle.resume():void 0}),this.ioClient.on("read",function(res,msg){return this$.fire("read",{},res),this$.get("debug")&&console.log("Value read by "+this$.get("route")+" is: ",res),null!=handle&&handle.silence(),this$.set("value",res),this$.set("date",msg.timestamp),null!=handle?handle.resume():void 0})}catch(e$){return e=e$,console.warn("FIXME: CODING ERROR: ",e)}},data:function(){return{value:null,date:null}}})},{actors:65}],58:[function(require,module,exports){var Actor,actor;Actor=require("dcs/browser").Actor,actor=new Actor,Ractive.components.terminal=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{n:"class",f:["ui form ",{t:2,r:"class"}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[{t:7,e:"label",f:["Receive:"]},{t:7,e:"textarea",m:[{n:"class",f:"rx-area",t:13},{n:"value",f:[{t:2,r:"rx"}],t:13},{n:"rows",f:"3",t:13}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[{t:7,e:"label",f:["Send:"]},{t:7,e:"textarea",m:[{n:"value",f:[{t:2,r:"tx"}],t:13},{n:"rows",f:"1",t:13}]}]},{t:7,e:"ack-button",m:[{t:13,n:"class",f:"fluid green",g:1},{n:["click"],t:70,f:"sendSerial"}],f:["Send!"]}]}]},isolated:!0,onrender:function(){var rxAppend,rxArea,this$=this;return actor.subscribe(this.get("rx-topic")),rxAppend=function(data){return this$.set("rx",this$.get("rx")+data+"\n")},actor.on("data",function(msg){return rxAppend(msg.data)}),rxArea=$(this.find(".rx-area")),this.observe("rx",function(){return rxArea.scrollTop(rxArea[0].scrollHeight)}),this.on({sendSerial:function(ev){var txStr;return txStr=this.get("tx"),rxAppend(txStr),actor.send(txStr,this.get("tx-topic")),actor.log.log("sending: ",txStr),this.set("tx",""),ev.component.fire("state","done...")}})}})},{"dcs/browser":82}],59:[function(require,module,exports){var sleep;sleep=require("aea").sleep,Ractive.components["text-button"]=Ractive.extend({template:{v:4,t:[{t:7,e:"input-field",m:[{n:"value",f:[{t:2,r:"amount"}],t:13},{n:"type",f:[{t:2,r:"inputType"}],t:13},{n:"placeholder",f:[{t:2,r:"placeholder"}],t:13}],f:[{t:7,e:"ack-button",m:[{n:"class",f:["right ",{t:2,r:"class"}],t:13},{n:"type",f:[{t:2,r:"buttonType"}],t:13},{n:["click"],t:70,f:"_buttonclick"},{n:"value",f:[{t:2,r:"value"}],t:13},{n:"disabled",f:[{t:2,r:"disabled"}],t:13},{n:"enabled",f:[{t:2,r:"enabled"}],t:13}],f:[{t:16}]}]}]},isolated:!0,onrender:function(){var button,this$=this;return button=this.findComponent("ack-button"),this.on({_buttonclick:function(ev,val){return this.fire("buttonclick",ev,this.get("amount"),val)}}),sleep(0,function(){return this$.info=button.info,this$.yesno=button.yesno,this$.error=button.error})},data:function(){return{amount:null,value:null,disabled:!1,enabled:!0,inputType:"text",buttonType:"info"}}})},{aea:75}],60:[function(require,module,exports){Ractive.partials["time-series"]=getSynchronizer()},{}],61:[function(require,module,exports){var ref$,filter,unixToReadable,RactiveActor,uuid4;ref$=require("prelude-ls"),filter=ref$.filter,ref$.each,ref$.find,(ref$=require("aea")).merge,unixToReadable=ref$.unixToReadable,RactiveActor=require("actors").RactiveActor,uuid4=require("uuid4"),Ractive.components.todo=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui segments",g:1}],f:[{t:7,e:"h3",m:[{n:"class",f:["ui top attached block header ",{t:4,f:["inverted green"],n:50,x:{r:["doneItemsLength","itemsLength"],s:"_0===_1"}}],t:13}],f:[{t:2,x:{r:["title"],s:'_0||"My Todo List"'}}," (",{t:2,r:"doneItemsLength"},"/",{t:2,r:"itemsLength"},")",{t:7,e:"checkbox",m:[{t:13,n:"class",f:"right floated transparent",g:1},{n:"checked",f:[{t:2,r:"isEditable"}],t:13}],f:["Edit"]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui attached segment",g:1}],f:[{t:7,e:"ui-progress",m:[{t:13,n:"class",f:"top attached blue",g:1},{n:"value",f:[{t:2,r:"doneItemsLength"}],t:13},{n:"max",f:[{t:2,r:"itemsLength"}],t:13}]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui divided left aligned list",g:1}],f:[{t:4,f:[{t:19,f:[{t:7,e:"div",m:[{t:13,n:"class",f:"item",g:1}],f:[{t:4,f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui form red",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"fields",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[{t:7,e:"label",f:["Content "]},{t:7,e:"input",m:[{n:"value",f:[{t:2,r:"~/tmp.content"}],t:13}]}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"fields",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[{t:7,e:"label",f:["Due Date "]},{t:7,e:"date-picker",m:[{n:"unix",f:[{t:2,r:"~/tmp.dueTimestamp"}],t:13}]}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"fields",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui buttons right floated",g:1}],f:[{t:7,e:"ack-button",m:[{t:13,n:"class",f:"green",g:1},{n:["click"],t:70,f:"saveChanges"}],f:["Save"]},{t:7,e:"div",m:[{t:13,n:"class",f:"or",g:1}]},{t:7,e:"ack-button",m:[{t:13,n:"class",f:"red",g:1},{n:["click"],t:70,f:"cancelEdit"}],f:["Cancel"]}]}]}]}]}],n:50,x:{r:["isEditing",".id","isEditable"],s:"_0(_1)&&_2"}},{t:4,f:[{t:7,e:"checkbox",m:[{t:13,n:"class",f:"transparent",g:1},{n:"checked",f:[{t:2,r:".isDone"}],t:13},{n:["statechange"],t:70,f:"statechanged"},{n:"inline",f:0,t:13}],f:[{t:7,e:"span",m:[{n:"class-todo-item-done",t:13,f:[{t:2,r:".isDone"}]}],f:[{t:2,r:".content"}," (",{t:2,x:{r:["unixToReadable",".dueTimestamp"],s:"_0(_1)"}},")"]}]},{t:4,f:[{t:7,e:"ack-button",m:[{t:13,n:"class",f:"basic right floated",g:1},{n:["click"],t:70,f:"startEditing"},{n:"disabled",f:[{t:2,x:{r:["isEditing",".id",".isDone"],s:"_0(_1)||_2"}}],t:13}],f:["Edit"]}],n:50,r:"isEditable"}],n:51,l:1}]}],n:54,z:[{n:"_tmp",x:{r:"@local"}}]}],n:52,r:"checklist"}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui attached segment",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"ui form",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[{t:7,e:"i",m:[{t:13,n:"class",f:"plus icon",g:1}]},{t:7,e:"input",m:[{n:"value",f:[{t:2,r:"newItem.content"}],t:13},{n:"placeholder",f:"content...",t:13}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[" ",{t:7,e:"date-picker",m:[{n:"unix",f:[{t:2,r:"newItem.dueTimestamp"}],t:13}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[{t:7,e:"ack-button",m:[{n:["click"],t:70,f:"addNewItem"},{n:"value",f:[{t:2,r:"newItem"}],t:13}],f:["Add New Item"]}]}]}]}]}],e:{}},isolated:!0,oninit:function(){return this.actor=new RactiveActor(this,"todo")},onrender:function(){return this.on({startEditing:function(ctx){return this.set("tmp",ctx.get()),this.set("editingItem",ctx.get(".id"))},addNewItem:function(ctx){var newItem;if((newItem=this.get("newItem")).id=uuid4(),newItem.content)return this.push("checklist",newItem),this.unshift("log",{action:"new",targetId:newItem.id,timestamp:Date.now()}),this.set("newItem",{});this.actor.send("app.log.err",{title:"Todo Error",icon:"warning sign",message:"Content of a list item can not be empty."})},saveChanges:function(ctx){return this.unshift("log",{action:"edit",from:ctx.get(),to:this.get("tmp"),targetId:ctx.get(".id"),timestamp:Date.now()}),ctx.set(".",this.get("tmp")),this.set("editingItem",-1)},cancelEdit:function(ev){return this.set("editingItem",-1)},statechanged:function(ctx,checked,next){return ctx.set(".isDone",checked),this.unshift("log",{action:checked?"completed":"undone",targetId:ctx.get(".id"),timestamp:Date.now()})}})},data:function(){return{unixToReadable:unixToReadable,title:"Todo List",isEditable:!1,editingItem:-1,newItem:{},editingContent:"",newDueTimestamp:0,checklist:{},log:[],isEditing:function(id){return id===this.get("editingItem")}}},computed:{itemsLength:function(){return this.get("checklist").length},doneItemsLength:function(){var items;return items=this.get("checklist"),filter(function(it){return it.isDone},items).length}}})},{actors:65,aea:75,"prelude-ls":330,uuid4:371}],62:[function(require,module,exports){Ractive.components["ui-progress"]=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{n:"class",f:["ui progress ",{t:2,r:"class"}],t:13},{n:"style",f:[{t:2,r:"style"}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"style",f:"min-width: 0 !important;",g:1},{t:13,n:"class",f:"bar",g:1}]},{t:8,r:"content"}]}]},isolated:!0,onrender:function(){var max,min,indicator;return max=this.get("max"),min=this.get("min"),(indicator=$(this.find(".ui.progress"))).progress({total:max,min:min,showActivity:!1}),this.observe("value",function(_new){return indicator.progress("set progress",_new)}),this.observe("max",function(_new){return indicator.progress("set total",_new),indicator.progress("set progress",this.get("value"))})},data:function(){return{max:100,min:0,value:0}}})},{}],63:[function(require,module,exports){Ractive.components["vertical-divider"]=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui two column middle aligned very relaxed stackable grid",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"column",g:1}],f:[{t:16,r:"left"}]},{t:7,e:"div",m:[{t:13,n:"class",f:"divider-column",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"ui vertical divider",g:1}],f:[{t:16,r:"divider"}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"center aligned column",g:1}],f:[" ",{t:16,r:"right"}]}]}]}})},{}],64:[function(require,module,exports){var Actor,sleep,out$=void 0!==exports&&exports||this;Actor=require("dcs/browser").Actor,sleep=require("aea").sleep,out$.BrowserStorage=function(superclass){var prototype=function(sub,sup){function fun(){}fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub);return sub}(((function(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}(BrowserStorage,superclass)).displayName="BrowserStorage",BrowserStorage),superclass).prototype;function BrowserStorage(prefix){this.prefix=prefix,BrowserStorage.superclass.call(this,"B.S."+this.prefix),this.log.info("Initialized with prefix: "+this.name),this.s=localStorage}return prototype.set=function(key,value){var err,this$=this;try{return this.log.log("saving key: ",key,"value: ",value,JSON.stringify(value)),this.s.setItem(this.name+"-"+key,JSON.stringify(value))}catch(e$){return err={title:"Browser Storage: Set",message:["Error while saving key: ",key,"error is: ",e$]},this.log.err(err.message),sleep(500,function(){return this$.send("app.log.err",err)})}},prototype.del=function(key){return this.s.removeItem(this.name+"-"+key)},prototype.get=function(key){var that,e,err,this$=this;try{if(that=this.s.getItem(this.name+"-"+key))return"undefined"===that?void 0:JSON.parse(that)}catch(e$){return e=e$,this.del(key),err={title:"Browser Storage: Get",message:["Error while getting key: ",key,"err is: ",e]},this.log.err(err.message),sleep(500,function(){return this$.send("app.log.err",err)})}},BrowserStorage}(Actor)},{aea:75,"dcs/browser":82}],65:[function(require,module,exports){var BrowserStorage,RactiveActor,RactiveIoProxyClient;BrowserStorage=require("./browser-storage").BrowserStorage,RactiveActor=require("./ractive-actor").RactiveActor,RactiveIoProxyClient=require("./ractive-io-proxy-actor").RactiveIoProxyClient,module.exports={BrowserStorage:BrowserStorage,RactiveActor:RactiveActor,RactiveIoProxyClient:RactiveIoProxyClient}},{"./browser-storage":64,"./ractive-actor":66,"./ractive-io-proxy-actor":67}],66:[function(require,module,exports){var Signal,Actor,out$=void 0!==exports&&exports||this,toString$={}.toString,slice$=[].slice;Signal=require("dcs/src/signal").Signal,Actor=require("dcs/src/actor").Actor,out$.RactiveActor=function(superclass){var prototype=function(sub,sup){function fun(){}fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub);return sub}(((function(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}(RactiveActor,superclass)).displayName="RactiveActor",RactiveActor),superclass).prototype;function RactiveActor(ractive,opts){var name,that,origLocation,teleportSignal,this$=this;this.ractive=ractive,null==opts&&(opts={}),"String"===toString$.call(opts).slice(8,-1)&&(name=opts),this.widTopic=(that=this.ractive.get("wid"))?"app.wid."+that:null,this.name=this.widTopic||opts.name||name,RactiveActor.superclass.call(this,this.name+"",opts),this.ractive.on({teardown:function(){return this$.kill("unrender")}}),(that=this.widTopic)&&(this.subscribe(that),origLocation=this.ractive.target,teleportSignal=new Signal,this.onTopic(that,function(msg){var keypath,val;if("Object"===toString$.call(msg.data).slice(8,-1)){if("get"in msg.data)return keypath=msg.data.get,val=this$.ractive.get(keypath),this$.sendResponse(msg,{res:val});if("cmd"in msg.data)switch(msg.data.cmd){case"ctx":return this$.sendResponse(msg,{res:this$.ractive.getContext()});case"target":return this$.sendResponse(msg,{res:this$.ractive.target});case"ractive":return this$.sendResponse(msg,{res:this$.ractive});case"teleport":return teleportSignal.clear(),this$.sendResponse(msg,{ractive:this$.ractive}),teleportSignal.wait(function(timeout){return this$.ractive.insert(origLocation)});case"teleport-restore":return teleportSignal.go();default:return this$.log.err("Not a known command:",msg.data.cmd)}}}),this.onTopic("app.router.changes",function(msg){var ref$;if(null!=(ref$=msg.data)&&ref$.scene)return teleportSignal.go(),this$.log.log("Ractive actor says: scene changed to:",msg.data.scene)}))}return prototype.widFire=function(targetWid){slice$.call(arguments,1)},prototype.cLog=function(){var ref$;return(ref$=this.log).log.apply(ref$,arguments)},prototype.cErr=function(){var ref$;return(ref$=this.log).err.apply(ref$,arguments)},prototype.cWarn=function(){var ref$;return(ref$=this.log).warn.apply(ref$,arguments)},prototype.vLog=function(doc,callback){return"Function"!==toString$.call(callback).slice(8,-1)&&(callback=function(){}),this.sendRequest("app.log.log",doc,callback)},prototype.vErr=function(doc,callback){return"Function"!==toString$.call(callback).slice(8,-1)&&(callback=function(){}),this.sendRequest("app.log.err",doc,callback)},RactiveActor}(Actor)},{"dcs/src/actor":187,"dcs/src/signal":194}],67:[function(require,module,exports){var IoProxyClient,out$=void 0!==exports&&exports||this;IoProxyClient=require("dcs/proxy-actors/io-proxy/io-proxy-client").IoProxyClient,out$.RactiveIoProxyClient=function(superclass){(function(sub,sup){function fun(){}fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub);return sub})(((function(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}(RactiveIoProxyClient,superclass)).displayName="RactiveIoProxyClient",RactiveIoProxyClient),superclass).prototype;function RactiveIoProxyClient(ractive,opts){var this$=this;this.ractive=ractive,RactiveIoProxyClient.superclass.call(this,opts),this.ractive.on({teardown:function(){return this$.kill("unrender")}})}return RactiveIoProxyClient}(IoProxyClient)},{"dcs/proxy-actors/io-proxy/io-proxy-client":140}],68:[function(require,module,exports){module.exports={copyToClipboard:function(text){if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",text);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var textarea=document.createElement("textarea");textarea.textContent=text,textarea.style.position="fixed",document.body.appendChild(textarea),textarea.select();try{return document.execCommand("copy")}catch(ex){return console.warn("Copy to clipboard failed.",ex),!1}finally{document.body.removeChild(textarea)}}}}},{}],69:[function(require,module,exports){var parse,ref$,unique,map,split,empty,getCsv,out$=void 0!==exports&&exports||this,toString$={}.toString;parse=require("csv-parse"),ref$=require("prelude-ls"),unique=ref$.unique,map=ref$.map,split=ref$.split,empty=ref$.empty,getCsv=function(string,delimiter,callback){return parse(string,{comment:"#",delimiter:delimiter},function(err,res){return callback(err,res)})},out$.parseCsv=function(content,opts,callback){var delimiter,columns,that,i$,len$,column;if(null==opts&&(opts={}),"Function"===toString$.call(opts).slice(8,-1)&&(callback=opts,opts={}),delimiter=opts.delimiter||",",(columns=(that=opts.columns)?map(function(it){return it.trim()})(split(",")(that)):[]).length!==unique(columns).length)return callback({message:"duplicate column name"});if(empty(columns))return callback({message:"No column names provided!"});for(i$=0,len$=columns.length;i$<len$;++i$)if(null===(column=columns[i$])||""===column||void 0===column)return callback({message:"column name can not be null"});return getCsv(content,delimiter,function(err,res){var rows,i$,len$,imported,a,index,cell,that;if(err)return callback(err={message:"csv file isnt proper!",error:err});if(0===res.length)return callback(err={message:"Empty data"});for(rows=[],i$=0,len$=res.length;i$<len$;++i$){for(index in a={},imported=res[i$])cell=imported[index],(that=columns[index])&&(a[that]=cell);rows.push(a)}return callback(err=null,{rows:rows,columns:columns})})}},{"csv-parse":255,"prelude-ls":330}],70:[function(require,module,exports){var getScriptCached,unixToReadable,onIdle;/comment/.test(function(){})||(window.onbeforeunload=function(){return"Note: SCADA is not intended to be reloaded"}),window.PNotify=require("pnotify/dist/umd/PNotify"),window.PNotifyButtons=require("pnotify/dist/umd/PNotifyButtons"),require("nonblockjs/NonBlock.es5.js"),window.getScriptCached=getScriptCached=function(url,callback){return jQuery.ajax({type:"GET",url:url,success:function(){return callback()},error:function(XMLHttpRequest,textStatus,errorThrown){return callback({error:XMLHttpRequest})},dataType:"script",cache:!0})},window.getScript=function(source,callback){var script=document.createElement("script"),prior=document.getElementsByTagName("script")[0];script.async=1,script.onload=script.onreadystatechange=function(_,isAbort){(isAbort||!script.readyState||/loaded|complete/.test(script.readyState))&&(script.onload=script.onreadystatechange=null,script=void 0,isAbort||callback&&callback())},script.src=source,prior.parentNode.insertBefore(script,prior)},window.getDep=function(filename,callback){switch(filename.split(".").pop()){case"js":getScriptCached(filename,callback);break;case"css":!function(path,fn,scope){var sheet,cssRules,head=document.getElementsByTagName("head")[0],link=document.createElement("link");link.setAttribute("href",path),link.setAttribute("rel","stylesheet"),link.setAttribute("type","text/css"),"sheet"in link?(sheet="sheet",cssRules="cssRules"):(sheet="styleSheet",cssRules="rules");var interval_id=setInterval(function(){try{link[sheet]&&link[sheet][cssRules].length&&(clearInterval(interval_id),clearTimeout(timeout_id),fn.call(scope||window,!0,link))}catch(e){}},10),timeout_id=setTimeout(function(){clearInterval(interval_id),clearTimeout(timeout_id),head.removeChild(link),fn.call(scope||window,!1,link)},15e3);head.appendChild(link)}(filename,callback)}},unixToReadable=require("./formatting").unixToReadable,window.unixToReadable=Ractive.defaults.unixToReadable=unixToReadable,window.oneDecimal=function(x){return parseFloat(Math.round(10*x)/10).toFixed(1)},onIdle=require("on-idle"),window.onIdle=onIdle,require("./ractive-synchronizer").getSynchronizer,require("./error")},{"./error":72,"./formatting":74,"./ractive-synchronizer":79,"nonblockjs/NonBlock.es5.js":309,"on-idle":311,"pnotify/dist/umd/PNotify":323,"pnotify/dist/umd/PNotifyButtons":324}],71:[function(require,module,exports){var root,factory;root=this,factory=function(){return function download(data,strFileName,strMimeType){var blob,reader,self=window,defaultMime="application/octet-stream",mimeType=strMimeType||defaultMime,payload=data,url=!strFileName&&!strMimeType&&payload,anchor=document.createElement("a"),toString=function(a){return String(a)},myBlob=self.Blob||self.MozBlob||self.WebKitBlob||toString,fileName=strFileName||"download";if(myBlob=myBlob.call?myBlob.bind(self):Blob,"true"===String(this)&&(mimeType=(payload=[payload,mimeType])[0],payload=payload[1]),url&&url.length<2048&&(fileName=url.split("/").pop().split("?")[0],anchor.href=url,-1!==anchor.href.indexOf(url))){var ajax=new XMLHttpRequest;return ajax.open("GET",url,!0),ajax.responseType="blob",ajax.onload=function(e){download(e.target.response,fileName,defaultMime)},setTimeout(function(){ajax.send()},0),ajax}if(/^data\:[\w+\-]+\/[\w+\-]+[,;]/.test(payload)){if(!(payload.length>2096103.424&&myBlob!==toString))return navigator.msSaveBlob?navigator.msSaveBlob(dataUrlToBlob(payload),fileName):saver(payload);mimeType=(payload=dataUrlToBlob(payload)).type||defaultMime}function dataUrlToBlob(strUrl){for(var parts=strUrl.split(/[:;,]/),type=parts[1],binData=("base64"==parts[2]?atob:decodeURIComponent)(parts.pop()),mx=binData.length,i=0,uiArr=new Uint8Array(mx);i<mx;++i)uiArr[i]=binData.charCodeAt(i);return new myBlob([uiArr],{type:type})}function saver(url,winMode){if("download"in anchor)return anchor.href=url,anchor.setAttribute("download",fileName),anchor.className="download-js-link",anchor.innerHTML="downloading...",anchor.style.display="none",document.body.appendChild(anchor),setTimeout(function(){anchor.click(),document.body.removeChild(anchor),!0===winMode&&setTimeout(function(){self.URL.revokeObjectURL(anchor.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return url=url.replace(/^data:([\w\/\-\+]+)/,defaultMime),window.open(url)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=url),!0;var f=document.createElement("iframe");document.body.appendChild(f),winMode||(url="data:"+url.replace(/^data:([\w\/\-\+]+)/,defaultMime)),f.src=url,setTimeout(function(){document.body.removeChild(f)},333)}if(blob=payload instanceof myBlob?payload:new myBlob([payload],{type:mimeType}),navigator.msSaveBlob)return navigator.msSaveBlob(blob,fileName);if(self.URL)saver(self.URL.createObjectURL(blob),!0);else{if("string"==typeof blob||blob.constructor===toString)try{return saver("data:"+mimeType+";base64,"+self.btoa(blob))}catch(y){return saver("data:"+mimeType+","+encodeURIComponent(blob))}(reader=new FileReader).onload=function(e){saver(this.result)},reader.readAsDataURL(blob)}return!0}},"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?module.exports=factory():root.download=factory()},{}],72:[function(require,module,exports){var htmlEncode;htmlEncode=function(html){return $.trim(html).replace(/[&"'\<\>]/g,function(c){switch(c){case"&":return"&amp;";case"'":return"&#39;";case'"':return"&quot;";case"<":return"&lt;";default:return"&gt;"}})},window.loadingMessage=function(message){var that;if(that=document.getElementById("timer"))return that.innerHTML=message},window.loadingError=function(err){var y$,container,z$,z1$,message,containers,results$=[];if("scadaErrorSection",err){try{document.getElementById("content").style.display="none"}catch(e$){}return(y$=container=document.createElement("div")).className="scadaErrorSection",(z$=y$.style).position="fixed",z$.top="0px",z$.width="100%",z$.overflow="auto",document.getElementsByTagName("body")[0].appendChild(container),(z1$=message=document.createElement("div")).className="ui red message",z1$.innerHTML="<h1>ERROR</h1>",z1$.innerHTML+="<pre>"+htmlEncode(err)+"</pre>",container.appendChild(message)}for(containers=document.getElementsByClassName("scadaErrorSection");containers[0];)results$.push(containers[0].parentNode.removeChild(containers[0]));return results$}},{}],73:[function(require,module,exports){module.exports={createDownload:function(filename,text){var link=document.createElement("a");if(link.setAttribute("target","_blank"),void 0!==Blob){var blob=new Blob([text],{type:"text/plain"});link.setAttribute("href",URL.createObjectURL(blob))}else link.setAttribute("href","data:text/plain,"+encodeURIComponent(text));link.setAttribute("download",filename),document.body.appendChild(link),link.click(),document.body.removeChild(link)}}},{}],74:[function(require,module,exports){var moment,ref$,take,max,isItNaN,strip,leftZeroPad,parseFormat,displayFormat,assertStr,formatterTests,i$,name,f,bound,context,_curry,out$=void 0!==exports&&exports||this,toString$={}.toString;for(moment=require("moment"),(ref$=require("prelude-ls")).split,ref$.last,ref$.map,take=ref$.take,ref$.drop,max=ref$.max,ref$.round,isItNaN=ref$.isItNaN,require("./packing").clone,out$.unixToReadable=function(unix){var display;return(display=moment(new Date(unix)).format("DD.MM.YYYY HH:mm")).match(/date/gi)?"??":display},out$.readableToUnix=function(display,format){return format?1e3*moment(display,format).unix():1e3*moment(display,"DD.MM.YYYY HH:mm").unix()},strip=function(it){return it.replace(/\s/g,"")},leftZeroPad=function(numOfDigits,value){var maxDigit;return maxDigit=max((value+"").length,numOfDigits),null!=value?(repeatString$("0",numOfDigits)+""+value).slice(-maxDigit):null},out$.parseFormat=parseFormat=function(format){var unitPart,numberPart,hasUnit,unitOnLeft,ref$,integerPart,decimalPart,maxDigits,parsed;return unitPart=strip(format.replace(/\s*(#+\.?#*)\s*/,"")),numberPart=strip(format.replace(unitPart,"")),(hasUnit=unitPart.length>0)&&(unitOnLeft=0===format.indexOf(unitPart)),integerPart=(ref$=numberPart.split("."))[0],(decimalPart=ref$[1])||(decimalPart=""),maxDigits=integerPart.length+decimalPart.length,parsed={lengthOf:{integerPart:integerPart.length,decimalPart:decimalPart.length,total:maxDigits},unit:void 0,has:{decimal:decimalPart.length>0,unit:hasUnit}},hasUnit&&(parsed.unit={text:unitPart,isOnLeft:unitOnLeft,isOnRight:!unitOnLeft}),parsed},out$.displayFormat=(f=function(format,value){var f,toFixed,toDoubleFixed,roundedValue,ref$,integerPart,decimalPart,numberText;f="String"===toString$.call(format).slice(8,-1)?parseFormat(format):format,toFixed=function(value,precision){var power;return power=Math.pow(10,precision||0),String(Math.round(value*power)/power)},toDoubleFixed=function(value,precision){var err,x;return err=.01/Math.pow(10,precision),x=toFixed(value+err,precision+1),toFixed(x,precision)};try{if(value=parseFloat(value),isItNaN(value))throw null;integerPart=(ref$=((roundedValue=toDoubleFixed(value,f.lengthOf.decimalPart))+"").split("."))[0],decimalPart=(decimalPart=ref$[1])||0,numberText=leftZeroPad(f.lengthOf.integerPart,integerPart),f.has.decimal&&(numberText+=".",numberText+=take(f.lengthOf.decimalPart,decimalPart+""+repeatString$("0",f.lengthOf.decimalPart)))}catch(e$){e$,numberText=repeatString$("-",f.lengthOf.integerPart)+""+(f.has.decimal?".":void 0)+repeatString$("-",f.lengthOf.decimalPart),roundedValue=null}return{fullText:f.has.unit?f.unit.isOnRight?numberText+" "+f.unit.text:f.unit.text+" "+numberText:numberText+"",roundedValue:roundedValue,numberText:numberText,format:f}},displayFormat=(_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];return context=bound&&context||this,params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f})()),assertStr=function(result,expected){if(expected!==result)return console.error("formatting.ls: Test failed: "+name+'"\nEXPECTED: '+expected+"\nRESULT  : "+result)},formatterTests={"simple formatting":function(){var result;return result=displayFormat("#.### m/s")(1234.123456).fullText,"1234.124 m/s",assertStr(result,"1234.124 m/s")},"simple formatting2":function(){var f,result;return result=(f=displayFormat("####.### m/s"))(12.123456).fullText,assertStr(result,"0012.124 m/s"),result=f(14.1).fullText,assertStr(result,"0014.100 m/s")},"simple formatting3":function(){var f;return f=displayFormat("###.##"),assertStr(f(116.6).fullText,"116.60"),assertStr(f(116).fullText,"116.00"),assertStr(f(63.009).fullText,"063.01"),assertStr(f(.0049).fullText,"000.01"),assertStr(f(.5044445999).fullText,"000.51")}},Date.now(),1,i$=0;i$<1;++i$)for(name in i$,formatterTests)(0,formatterTests[name])();function repeatString$(str,n){for(var r="";n>0;(n>>=1)&&(str+=str))1&n&&(r+=str);return r}},{"./packing":78,moment:307,"prelude-ls":330}],75:[function(require,module,exports){(function(process){var ref$,sleep,clearTimer,pack,unpack,clone,diff,merge,Logger,unixToReadable,readableToUnix,VLogger,copyToClipboard,createDownload,download,isNodejs,toString$={}.toString;sleep=(ref$=require("./sleep")).sleep,clearTimer=ref$.clearTimer,pack=(ref$=require("./packing")).pack,unpack=ref$.unpack,clone=ref$.clone,diff=ref$.diff,merge=require("./merge").merge,Logger=require("./logger").Logger,unixToReadable=(ref$=require("./formatting")).unixToReadable,readableToUnix=ref$.readableToUnix,VLogger=require("./vlogger").VLogger,copyToClipboard=require("./copy-to-clipboard").copyToClipboard,createDownload=require("./file-download").createDownload,download=require("./download"),isNodejs=function(){return"process"===toString$.call(process).slice(8,-1)&&"Object"===toString$.call(process.versions).slice(8,-1)&&"Undefined"!==toString$.call(process.versions.node).slice(8,-1)},module.exports={sleep:sleep,clearTimer:clearTimer,createDownload:createDownload,merge:merge,Logger:Logger,pack:pack,unpack:unpack,clone:clone,diff:diff,unixToReadable:unixToReadable,readableToUnix:readableToUnix,copyToClipboard:copyToClipboard,isNodejs:isNodejs,VLogger:VLogger,download:download}}).call(this,require("_process"))},{"./copy-to-clipboard":68,"./download":71,"./file-download":73,"./formatting":74,"./logger":76,"./merge":77,"./packing":78,"./sleep":80,"./vlogger":81,_process:332}],76:[function(require,module,exports){var Logger,out$=void 0!==exports&&exports||this;Logger=require("../dcs/lib").Logger,out$.Logger=Logger},{"../dcs/lib":86}],77:[function(require,module,exports){var merge,out$=void 0!==exports&&exports||this;merge=require("../dcs/lib").merge,out$.merge=merge},{"../dcs/lib":86}],78:[function(require,module,exports){var ref$,pack,unpack,clone,diff;pack=(ref$=require("../dcs/lib")).pack,unpack=ref$.unpack,clone=ref$.clone,diff=ref$.diff,module.exports={pack:pack,unpack:unpack,clone:clone,diff:diff}},{"../dcs/lib":86}],79:[function(require,module,exports){var toString$={}.toString;window.getSynchronizer=function(placeholder){if(placeholder&&"String"!==toString$.call(placeholder).slice(8,-1))throw new Error("placeholder MUST be the component's name");return Ractive.macro(function(handle,attrs){var actualComp,loadingComp,obj,_orig,orig,modComp;return actualComp=handle.name+"ASYNC",loadingComp=placeholder||handle.name+"LOADING",obj={observers:[],update:function(attrs){},teardown:function(){return obj.observers.forEach(function(it){return it.cancel()})}},delete(_orig=handle.template).p,orig={v:4,t:[_orig],e:{}},modComp=function(name){return _orig.e=name,orig},obj.observers.push(handle.observe("@shared.deps._all",function(val){Ractive.components[actualComp]?handle.setTemplate(modComp(actualComp)):Ractive.components[loadingComp]?handle.setTemplate(modComp(loadingComp)):handle.setTemplate("<div class='ui yellow message'>\n    We are fetching <i>"+handle.name+"</i>\n</div>")})),obj})}},{}],80:[function(require,module,exports){var sleep,f,bound,context,_curry,out$=void 0!==exports&&exports||this;out$.sleep=(f=function(ms,f){return setTimeout(f,ms)},sleep=(_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];return context=bound&&context||this,params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f})()),out$.after=sleep,out$.clearTimer=function(x){return clearInterval(x)}},{}],81:[function(require,module,exports){var Logger,out$=void 0!==exports&&exports||this,toString$={}.toString;function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}Logger=require("./logger").Logger,out$.VLogger=function(){VLogger.displayName="VLogger";var prototype=VLogger.prototype;function VLogger(context,name){this.context=context,this.logger=new Logger(name||"VLogger"),this.clog=this.logger.log,this.cerr=this.logger.err,this.cwarn=this.logger.warn,this.modal=this.context.root.findComponent("logger"),this.modal||this.logger.err("VLogger class requires 'logger' component. Add it first.")}return prototype.info=function(msg,callback){var defaultOpts;return"Object"===toString$.call(callback).slice(8,-1)&&this.cerr("DEPRECATED IMMEDIATELY: Do not use opts for VLogger."),"String"===toString$.call(msg).slice(8,-1)&&(msg={message:msg}),defaultOpts={title:"Info",icon:"info sign",closable:!0},this.modal.fire("showDimmed",{},import$(defaultOpts,msg),callback)},prototype.error=function(msg,callback){var defaultOpts;return"Object"===toString$.call(callback).slice(8,-1)&&this.cerr("DEPRECATED IMMEDIATELY: Do not use opts for VLogger."),"String"===toString$.call(msg).slice(8,-1)&&(msg={message:msg}),defaultOpts={title:"Error",icon:"warning sign",closable:!0},this.modal.fire("showDimmed",{},import$(defaultOpts,msg),callback)},prototype.yesno=function(msg,callback){var defaultOpts;return"Object"===toString$.call(callback).slice(8,-1)&&this.cerr("DEPRECATED IMMEDIATELY: Do not use opts for VLogger."),"String"===toString$.call(msg).slice(8,-1)&&(msg={message:msg}),defaultOpts={title:"Yes or No",icon:"map signs",closable:!1,buttons:{no:{text:"No",color:"red",icon:"remove"},yes:{text:"Yes",color:"green",icon:"remove"}}},this.modal.fire("showDimmed",{},import$(defaultOpts,msg),callback)},VLogger}()},{"./logger":76}],82:[function(require,module,exports){(function(global){var Actor,FpsExec,ref$,Signal,SignalBranch,DcsSocketIOBrowser,CouchDcsClient,topicMatch,IoProxyClient;Actor=require("./src/actor").Actor,FpsExec=require("./src/filters").FpsExec,Signal=(ref$=require("./src/signal")).Signal,SignalBranch=ref$.SignalBranch,DcsSocketIOBrowser=require("./services/dcs-proxy/socket-io/browser").DcsSocketIOBrowser,CouchDcsClient=require("./services/couch-dcs/client").CouchDcsClient,topicMatch=require("./src/topic-match").topicMatch,IoProxyClient=require("./proxy-actors/io-proxy/io-proxy-client").IoProxyClient,global.dcs=module.exports={Actor:Actor,Signal:Signal,SignalBranch:SignalBranch,DcsSocketIOBrowser:DcsSocketIOBrowser,CouchDcsClient:CouchDcsClient,topicMatch:topicMatch,FpsExec:FpsExec,IoProxyClient:IoProxyClient}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./proxy-actors/io-proxy/io-proxy-client":140,"./services/couch-dcs/client":141,"./services/dcs-proxy/socket-io/browser":145,"./src/actor":187,"./src/filters":192,"./src/signal":194,"./src/topic-match":197}],83:[function(require,module,exports){var DIACRITICS={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]",".":"[,]"},asciifold=function(){var i,n,k,chunk,foreignletters="",lookup={};for(k in DIACRITICS)if(DIACRITICS.hasOwnProperty(k))for(foreignletters+=chunk=DIACRITICS[k].substring(2,DIACRITICS[k].length-1),i=0,n=chunk.length;i<n;i++)lookup[chunk.charAt(i)]=k;var regexp=new RegExp("["+foreignletters+"]","g");return function(str){return str.replace(regexp,function(foreignletter){return lookup[foreignletter]}).toLowerCase()}}();module.exports=asciifold},{}],84:[function(require,module,exports){(void 0!==exports&&exports||this).brief=function(msg){var s,k,v,dataStr;for(k in s={},msg)v=msg[k],"data"!==k&&(s[k]=v);return msg.data&&(dataStr=JSON.stringify(msg.data),s.data=dataStr.length>70?"..."+dataStr.length+"...":msg.data),msg.permissions&&(s.permissions="..."+msg.permissions.length+"..."),s}},{}],85:[function(require,module,exports){(function(setImmediate){var out$=void 0!==exports&&exports||this,toString$={}.toString,slice$=[].slice;require("prelude-ls").reject,out$.EventEmitter=function(){EventEmitter.displayName="EventEmitter";var prototype=EventEmitter.prototype;function EventEmitter(){this._events={},this._one_time_events={}}return prototype.once=function(type,callback){var addListener,name,this$=this;switch(addListener=function(type,callback){return"Array"!==toString$.call(this$._one_time_events[type]).slice(8,-1)&&(this$._one_time_events[type]=[]),this$._one_time_events[type].push(callback.bind(this$))},toString$.call(type).slice(8,-1)){case"String":addListener(type,callback);break;case"Object":for(name in type)addListener(name,callback=type[name])}},prototype.on=function(type,id,callback){var addListener,name,this$=this;switch("Function"===toString$.call(id).slice(8,-1)&&(callback=id,id=null),addListener=function(type,id,callback){var ref$;return((ref$=this$._events)[type]||(ref$[type]=[])).push({id:id,cb:callback.bind(this$)})},toString$.call(type).slice(8,-1)){case"String":addListener(type,id,callback);break;case"Object":for(name in type)addListener(name,id,callback=type[name])}},prototype.off=function(type){return this._events[type]=[]},prototype.cancel=function(id){var type,ref$,listeners,i;for(type in ref$=this._events)for(i in listeners=ref$[type])if(listeners[i].id===id){listeners.splice(i,1);break}},prototype.trigger=function(type){var args,that,i$,len$,ref$,handler,results$=[];if(args=slice$.call(arguments,1),that=this._events[type])for(i$=0,len$=that.length;i$<len$;++i$)fn$.call(this,that[i$]);if(that=this._one_time_events[type]){for(i$=0,len$=(ref$=function(){var i$,to$,results$=[];for(i$=1,to$=that.length;i$<=to$;++i$)results$.push(i$);return results$}()).length;i$<len$;++i$)ref$[i$],handler=that.shift(),results$.push(handler.apply(null,args));return results$}function fn$(handler){setImmediate(function(){return handler.cb.apply(handler,args)})}},prototype.hasListener=function(ev){var that,i$,x$,len$;if(that=this._events[ev])for(i$=0,len$=that.length;i$<len$;++i$)if(x$=that[i$],"Function"===toString$.call(x$.cb).slice(8,-1))return!0;return!1},EventEmitter}()}).call(this,require("timers").setImmediate)},{"prelude-ls":128,timers:367}],86:[function(require,module,exports){var Logger,EventEmitter,sleep,ref$,pack,unpack,clone,diff,merge,ipToHex,hex;Logger=require("./logger").Logger,EventEmitter=require("./event-emitter").EventEmitter,sleep=require("./sleep").sleep,pack=(ref$=require("./packing")).pack,unpack=ref$.unpack,clone=ref$.clone,diff=ref$.diff,merge=require("./merge").merge,ipToHex=(ref$=require("./ip-to-hex")).ipToHex,hex=ref$.hex,module.exports={Logger:Logger,EventEmitter:EventEmitter,sleep:sleep,pack:pack,unpack:unpack,clone:clone,diff:diff,merge:merge,ipToHex:ipToHex,hex:hex}},{"./event-emitter":85,"./ip-to-hex":87,"./logger":88,"./merge":89,"./packing":90,"./sleep":91}],87:[function(require,module,exports){var reverse,hex,out$=void 0!==exports&&exports||this;reverse=require("prelude-ls").reverse,out$.hex=hex=function(n){return n.toString(16).toUpperCase()},out$.ipToHex=function(ip){var i,result,i$,ref$,len$;for(i=0,result=0,i$=0,len$=(ref$=reverse(ip.split("."))).length;i$<len$;++i$)result+=ref$[i$]*Math.pow(256,i++);return hex(result)}},{"prelude-ls":128}],88:[function(require,module,exports){(function(process){var ref$,gray,yellow,magenta,bgRed,bgYellow,cyan,bgGreen,moment,EventEmitter,fmt,alignLeft,getTimestamp,getPrefix,IS_NODE,LogManager,isNode,out$=void 0!==exports&&exports||this,slice$=[].slice,toString$={}.toString;function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}function bind$(obj,key,target){return function(){return(target||obj)[key].apply(obj,arguments)}}(ref$=require("colors")).green,gray=ref$.gray,yellow=ref$.yellow,magenta=ref$.magenta,bgRed=ref$.bgRed,bgYellow=ref$.bgYellow,cyan=ref$.cyan,ref$.bgCyan,bgGreen=ref$.bgGreen,moment=require("moment"),require("prelude-ls").map,EventEmitter=require("./event-emitter").EventEmitter,fmt="HH:mm:ss.SSS",new moment,alignLeft=function(width,inp){return(inp+function(str,n){for(var r="";n>0;(n>>=1)&&(str+=str))1&n&&(r+=str);return r}(" ",width)).slice(0,width)},getTimestamp=function(){return(new moment).format(fmt)},getPrefix=function(_source,color){var padded;return color||(color=gray),padded=alignLeft(15,_source+""),color("["+getTimestamp()+"]")+" "+padded+" :"},isNode=!1,"object"==typeof process&&"object"==typeof process.versions&&void 0!==process.versions.node&&(isNode=!0),IS_NODE=isNode,LogManager=function(superclass){var prototype=extend$((import$(LogManager,superclass).displayName="LogManager",LogManager),superclass).prototype,constructor=LogManager;function LogManager(){if(constructor.instance)return constructor.instance;LogManager.superclass.call(this),constructor.instance=this,this.loggers=[]}return constructor.instance=null,prototype.register=function(ctx){return this.loggers.push(ctx)},LogManager}(EventEmitter),out$.Logger=function(superclass){var prototype=extend$((import$(Logger,superclass).displayName="Logger",Logger),superclass).prototype;function Logger(sourceName,opts){null==opts&&(opts={}),this.debug=bind$(this,"debug",prototype),this.todo=bind$(this,"todo",prototype),this.info=bind$(this,"info",prototype),this.warn=bind$(this,"warn",prototype),this.err=bind$(this,"err",prototype),this.success=bind$(this,"success",prototype),this.log=bind$(this,"log",prototype),Logger.superclass.call(this),this.name=sourceName,this.mgr=new LogManager,this.prefix=null,this.error=this.err}return prototype.getPrefix=function(color){return getPrefix((this.prefix?this.prefix+"/":"")+this.name,color)},prototype.log=function(){var args,prefix,ref$,_args,my,i$,len$,arg,log;if(args=slice$.call(arguments),prefix=getPrefix(this.name),IS_NODE)return(ref$=console.log).call.apply(ref$,[console,prefix].concat(slice$.call(args)));for(_args=[],my="%c",i$=0,len$=(ref$=[prefix].concat(args)).length;i$<len$;++i$)arg=ref$[i$],_args.push(arg),my+=" "+("String"===toString$.call(arg).slice(8,-1)?"%s":"Number"===toString$.call(arg).slice(8,-1)?"%d":"%O");return(log=Function.prototype.bind.call(console.log,console)).call.apply(log,[console,my,"font-weight: normal;"].concat(slice$.call(_args)))},prototype.success=function(){var args;return args=slice$.call(arguments),console.log.apply(console,[this.getPrefix(bgGreen)].concat(args))},prototype.err=function(){var args,ref$;return args=slice$.call(arguments),console.error.apply(console,[this.getPrefix(bgRed)].concat(args)),this.trigger.apply(this,["err"].concat(slice$.call(args))),(ref$=this.mgr).trigger.apply(ref$,["err"].concat(slice$.call(args)))},prototype.warn=function(){var args;return args=slice$.call(arguments),console.warn.apply(console,[this.getPrefix(bgYellow),yellow("[WARNING]")].concat(args))},prototype.info=function(){var args;return args=slice$.call(arguments),console.info.apply(console,[this.getPrefix(),cyan("[I]")].concat(args))},prototype.todo=function(){var args;return args=slice$.call(arguments),console.warn.apply(console,[this.getPrefix(),magenta("[TODO]")].concat(args))},prototype.debug=function(){var args;return args=slice$.call(arguments),console.warn.apply(console,[this.getPrefix(),yellow("[D]")].concat(args))},Logger}(EventEmitter)}).call(this,require("_process"))},{"./event-emitter":85,_process:332,colors:96,moment:122,"prelude-ls":128}],89:[function(require,module,exports){var pack,tests,i$,name,ref$,result,expected,out$=void 0!==exports&&exports||this,toString$={}.toString,slice$=[].slice;function merge(obj1,obj2){var i$,len$,i,j$,len1$,j,p,tObj1,ref$;if("Array"===toString$.call(obj1).slice(8,-1)&&"Array"===toString$.call(obj2).slice(8,-1)){for(i$=0,len$=obj2.length;i$<len$;++i$){i=obj2[i$];try{for(j$=0,len1$=obj1.length;j$<len1$;++j$)if(j=obj1[j$],pack(i)===pack(j))throw null;obj1.push(i)}catch(e$){}}return obj1}for(p in obj2)tObj1=toString$.call(obj1[p]).slice(8,-1),"Object"===(ref$=toString$.call(obj2[p]).slice(8,-1))||"Array"===ref$?"Object"===tObj1||"Array"===tObj1?merge(obj1[p],obj2[p]):obj1[p]=obj2[p]:void 0!==obj2[p]?obj1[p]=obj2[p]:delete obj1[p];return obj1}function mergeAll(obj1){var sources,i$,len$;for(i$=0,len$=(sources=slice$.call(arguments,1)).length;i$<len$;++i$)merge(obj1,sources[i$]);return obj1}for(pack=require("./packing").pack,out$.merge=merge,out$.mergeAll=mergeAll,tests={"simple merge":function(){return{result:merge({a:1,b:2},{c:5}),expected:{a:1,b:2,c:5}}},"simple merge2":function(){return{result:merge({a:1,b:2,c:{ca:1,cb:2}},{c:{cb:5}}),expected:{a:1,b:2,c:{ca:1,cb:5}}}},"merge lists":function(){return{result:merge({a:1,b:2,c:[1,2]},{b:8,c:[1,4]}),expected:{a:1,b:8,c:[1,2,4]}}},"merge lists2":function(){return{result:merge({a:1,b:2,c:["hello","world"]},{b:8,c:["hi","world"]}),expected:{a:1,b:8,c:["hello","world","hi"]}}},"merge lists of objects":function(){return{result:merge({a:1,b:2,c:[{a:1,b:2},{a:3,b:4}]},{b:8,c:[{a:1,b:2},{a:5,b:6}]}),expected:{a:1,b:8,c:[{a:1,b:2},{a:3,b:4},{a:5,b:6}]}}},"merge lists of objects2":function(){return{result:merge([{a:1,b:2},{a:3,b:4}],[{a:5,b:6},{a:7,b:8},{a:9,b:10},{a:11,b:12}]),expected:[{a:1,b:2},{a:3,b:4},{a:5,b:6},{a:7,b:8},{a:9,b:10},{a:11,b:12}]}},"deleting something":function(){return{result:merge({a:1,b:2,c:{ca:11,cb:2}},{c:void 0}),expected:{a:1,b:2}}},"force overwrite":function(){return{result:mergeAll({a:1,b:2,c:{ca:11,cb:2}},{c:void 0},{c:{cb:5}}),expected:{a:1,b:2,c:{cb:5}}}},"merging object with functions":function(){return{result:merge({a:1,b:2,c:{ca:11,cb:2}},{c:{cb:function(x){return x}}}),expected:{a:1,b:2,c:{ca:11,cb:function(x){return x}}}}},"Field or method does not already exist, and cant create it on String":function(){return{result:merge({a:1,b:2,c:"hey"},{c:{cb:"aa"}}),expected:{a:1,b:2,c:{cb:"aa"}}}}},Date.now(),1,i$=0;i$<=1;++i$)for(name in i$,tests)if(result=(ref$=(0,tests[name])()).result,expected=ref$.expected,pack(expected)!==pack(result))throw console.log("merge test failed test: ",name),console.log("EXPECTED: ",expected),console.log("RESULT  : ",result),"Test failed in merge.ls!, test: "+name},{"./packing":90}],90:[function(require,module,exports){var CloneError,jsondiffpatch,out$=void 0!==exports&&exports||this,toString$={}.toString;function pack(x){return JSON.stringify(x,function(key,val){return"Function"===toString$.call(val).slice(8,-1)?val+"":val})}function unpack(x){return JSON.parse(x)}out$.pack=pack,out$.unpack=unpack,out$.CloneError=CloneError=function(superclass){(function(sub,sup){function fun(){}fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub);return sub})(((function(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}(CloneError,superclass)).displayName="CloneError",CloneError),superclass).prototype;function CloneError(message,argument){this.message=message,this.argument=argument,CloneError.superclass.apply(this,arguments),Error.captureStackTrace(this,CloneError)}return CloneError}(Error),out$.clone=function(x){var ref$;if("Object"===(ref$=toString$.call(x).slice(8,-1))||"Array"===ref$)return unpack(pack(x));throw new CloneError("argument must be object or array, supplied: "+pack(x),x)},jsondiffpatch=require("jsondiffpatch"),out$.diff=function(a,b){return jsondiffpatch.diff(a,b)}},{jsondiffpatch:119}],91:[function(require,module,exports){var out$=void 0!==exports&&exports||this;out$.sleep=function(ms,f){return setTimeout(f,ms)},out$.clearTimer=function(x){return clearInterval(x)},require("setimmediate")},{setimmediate:130}],92:[function(require,module,exports){var colors={};module.exports=colors,colors.themes={};var util=require("util"),ansiStyles=colors.styles=require("./styles"),defineProps=Object.defineProperties,newLineRegex=new RegExp(/[\r\n]+/g);colors.supportsColor=require("./system/supports-colors").supportsColor,void 0===colors.enabled&&(colors.enabled=!1!==colors.supportsColor()),colors.enable=function(){colors.enabled=!0},colors.disable=function(){colors.enabled=!1},colors.stripColors=colors.strip=function(str){return(""+str).replace(/\x1B\[\d+m/g,"")};colors.stylize=function(str,style){return colors.enabled?ansiStyles[style].open+str+ansiStyles[style].close:str+""};var matchOperatorsRe=/[|\\{}()[\]^$+*?.]/g;function build(_styles){var builder=function builder(){return function(){var str=Array.prototype.slice.call(arguments).map(function(arg){return void 0!==arg&&arg.constructor===String?arg:util.inspect(arg)}).join(" ");if(!colors.enabled||!str)return str;var newLinesPresent=-1!=str.indexOf("\n"),nestedStyles=this._styles,i=nestedStyles.length;for(;i--;){var code=ansiStyles[nestedStyles[i]];str=code.open+str.replace(code.closeRe,code.open)+code.close,newLinesPresent&&(str=str.replace(newLineRegex,code.close+"\n"+code.open))}return str}.apply(builder,arguments)};return builder._styles=_styles,builder.__proto__=proto,builder}var ret,styles=(ret={},ansiStyles.grey=ansiStyles.gray,Object.keys(ansiStyles).forEach(function(key){ansiStyles[key].closeRe=new RegExp(function(str){if("string"!=typeof str)throw new TypeError("Expected a string");return str.replace(matchOperatorsRe,"\\$&")}(ansiStyles[key].close),"g"),ret[key]={get:function(){return build(this._styles.concat(key))}}}),ret),proto=defineProps(function(){},styles);colors.setTheme=function(theme){if("string"!=typeof theme)for(var style in theme)!function(style){colors[style]=function(str){if("object"==typeof theme[style]){var out=str;for(var i in theme[style])out=colors[theme[style][i]](out);return out}return colors[theme[style]](str)}}(style);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var sequencer=function(map,str){var exploded=str.split("");return(exploded=exploded.map(map)).join("")};for(var map in colors.trap=require("./custom/trap"),colors.zalgo=require("./custom/zalgo"),colors.maps={},colors.maps.america=require("./maps/america"),colors.maps.zebra=require("./maps/zebra"),colors.maps.rainbow=require("./maps/rainbow"),colors.maps.random=require("./maps/random"),colors.maps)!function(map){colors[map]=function(str){return sequencer(colors.maps[map],str)}}(map);defineProps(colors,function(){var ret={};return Object.keys(styles).forEach(function(name){ret[name]={get:function(){return build([name])}}}),ret}())},{"./custom/trap":93,"./custom/zalgo":94,"./maps/america":97,"./maps/rainbow":98,"./maps/random":99,"./maps/zebra":100,"./styles":101,"./system/supports-colors":103,util:370}],93:[function(require,module,exports){module.exports=function(text,options){var result="",trap={a:["@","Ą","Ⱥ","Ʌ","Δ","Λ","Д"],b:["ß","Ɓ","Ƀ","ɮ","β","฿"],c:["©","Ȼ","Ͼ"],d:["Ð","Ɗ","Ԁ","ԁ","Ԃ","ԃ"],e:["Ë","ĕ","Ǝ","ɘ","Σ","ξ","Ҽ","੬"],f:["Ӻ"],g:["ɢ"],h:["Ħ","ƕ","Ң","Һ","Ӈ","Ԋ"],i:["༏"],j:["Ĵ"],k:["ĸ","Ҡ","Ӄ","Ԟ"],l:["Ĺ"],m:["ʍ","Ӎ","ӎ","Ԡ","ԡ","൩"],n:["Ñ","ŋ","Ɲ","Ͷ","Π","Ҋ"],o:["Ø","õ","ø","Ǿ","ʘ","Ѻ","ם","۝","๏"],p:["Ƿ","Ҏ"],q:["্"],r:["®","Ʀ","Ȑ","Ɍ","ʀ","Я"],s:["§","Ϟ","ϟ","Ϩ"],t:["Ł","Ŧ","ͳ"],u:["Ʊ","Ս"],v:["ט"],w:["Ш","Ѡ","Ѽ","൰"],x:["Ҳ","Ӿ","Ӽ","ӽ"],y:["¥","Ұ","Ӌ"],z:["Ƶ","ɀ"]};return(text=(text=text||"Run the trap, drop the bass").split("")).forEach(function(c){c=c.toLowerCase();var chars=trap[c]||[" "],rand=Math.floor(Math.random()*chars.length);result+=void 0!==trap[c]?trap[c][rand]:c}),result}},{}],94:[function(require,module,exports){module.exports=function(text,options){text=text||"   he is here   ";var soul={up:["̍","̎","̄","̅","̿","̑","̆","̐","͒","͗","͑","̇","̈","̊","͂","̓","̈","͊","͋","͌","̃","̂","̌","͐","̀","́","̋","̏","̒","̓","̔","̽","̉","ͣ","ͤ","ͥ","ͦ","ͧ","ͨ","ͩ","ͪ","ͫ","ͬ","ͭ","ͮ","ͯ","̾","͛","͆","̚"],down:["̖","̗","̘","̙","̜","̝","̞","̟","̠","̤","̥","̦","̩","̪","̫","̬","̭","̮","̯","̰","̱","̲","̳","̹","̺","̻","̼","ͅ","͇","͈","͉","͍","͎","͓","͔","͕","͖","͙","͚","̣"],mid:["̕","̛","̀","́","͘","̡","̢","̧","̨","̴","̵","̶","͜","͝","͞","͟","͠","͢","̸","̷","͡"," ҉"]},all=[].concat(soul.up,soul.down,soul.mid);function randomNumber(range){return Math.floor(Math.random()*range)}function isChar(character){var bool=!1;return all.filter(function(i){bool=i===character}),bool}return function(text,options){var counts,l,result="";for(l in(options=options||{}).up=void 0===options.up||options.up,options.mid=void 0===options.mid||options.mid,options.down=void 0===options.down||options.down,options.size=void 0!==options.size?options.size:"maxi",text=text.split(""))if(!isChar(l)){switch(result+=text[l],counts={up:0,down:0,mid:0},options.size){case"mini":counts.up=randomNumber(8),counts.mid=randomNumber(2),counts.down=randomNumber(8);break;case"maxi":counts.up=randomNumber(16)+3,counts.mid=randomNumber(4)+1,counts.down=randomNumber(64)+3;break;default:counts.up=randomNumber(8)+1,counts.mid=randomNumber(6)/2,counts.down=randomNumber(8)+1}var arr=["up","mid","down"];for(var d in arr)for(var index=arr[d],i=0;i<=counts[index];i++)options[index]&&(result+=soul[index][randomNumber(soul[index].length)])}return result}(text,options)}},{}],95:[function(require,module,exports){var colors=require("./colors");module.exports=function(){var addProperty=function(color,func){String.prototype.__defineGetter__(color,func)};addProperty("strip",function(){return colors.strip(this)}),addProperty("stripColors",function(){return colors.strip(this)}),addProperty("trap",function(){return colors.trap(this)}),addProperty("zalgo",function(){return colors.zalgo(this)}),addProperty("zebra",function(){return colors.zebra(this)}),addProperty("rainbow",function(){return colors.rainbow(this)}),addProperty("random",function(){return colors.random(this)}),addProperty("america",function(){return colors.america(this)}),Object.keys(colors.styles).forEach(function(style){addProperty(style,function(){return colors.stylize(this,style)})}),colors.setTheme=function(theme){"string"!=typeof theme?function(theme){var stringPrototypeBlacklist=["__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","charAt","constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf","charCodeAt","indexOf","lastIndexOf","length","localeCompare","match","repeat","replace","search","slice","split","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim","trimLeft","trimRight"];Object.keys(theme).forEach(function(prop){-1!==stringPrototypeBlacklist.indexOf(prop)?console.log("warn: ".red+("String.prototype"+prop).magenta+" is probably something you don't want to override.  Ignoring style name"):"string"==typeof theme[prop]?(colors[prop]=colors[theme[prop]],addProperty(prop,function(){return colors[theme[prop]](this)})):addProperty(prop,function(){for(var ret=this,t=0;t<theme[prop].length;t++)ret=colors[theme[prop][t]](ret);return ret})})}(theme):console.log("colors.setTheme now only accepts an object, not a string. If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")}}},{"./colors":92}],96:[function(require,module,exports){var colors=require("./colors");module.exports=colors,require("./extendStringPrototype")()},{"./colors":92,"./extendStringPrototype":95}],97:[function(require,module,exports){var colors=require("../colors");module.exports=function(letter,i,exploded){if(" "===letter)return letter;switch(i%3){case 0:return colors.red(letter);case 1:return colors.white(letter);case 2:return colors.blue(letter)}}},{"../colors":92}],98:[function(require,module,exports){var rainbowColors,colors=require("../colors");module.exports=(rainbowColors=["red","yellow","green","blue","magenta"],function(letter,i,exploded){return" "===letter?letter:colors[rainbowColors[i++%rainbowColors.length]](letter)})},{"../colors":92}],99:[function(require,module,exports){var available,colors=require("../colors");module.exports=(available=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"],function(letter,i,exploded){return" "===letter?letter:colors[available[Math.round(Math.random()*(available.length-2))]](letter)})},{"../colors":92}],100:[function(require,module,exports){var colors=require("../colors");module.exports=function(letter,i,exploded){return i%2==0?letter:colors.inverse(letter)}},{"../colors":92}],101:[function(require,module,exports){var styles={};module.exports=styles;var codes={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(codes).forEach(function(key){var val=codes[key],style=styles[key]=[];style.open="["+val[0]+"m",style.close="["+val[1]+"m"})},{}],102:[function(require,module,exports){(function(process){"use strict";module.exports=function(flag,argv){var terminatorPos=(argv=argv||process.argv).indexOf("--"),prefix=/^-{1,2}/.test(flag)?"":"--",pos=argv.indexOf(prefix+flag);return-1!==pos&&(-1===terminatorPos||pos<terminatorPos)}}).call(this,require("_process"))},{_process:332}],103:[function(require,module,exports){(function(process){"use strict";var os=require("os"),hasFlag=require("./has-flag.js"),env=process.env,forceColor=void 0;function getSupportLevel(stream){return function(level){return 0!==level&&{level:level,hasBasic:!0,has256:level>=2,has16m:level>=3}}(function(stream){if(!1===forceColor)return 0;if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2;if(stream&&!stream.isTTY&&!0!==forceColor)return 0;var min=forceColor?1:0;if("win32"===process.platform){var osRelease=os.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(osRelease[0])>=10&&Number(osRelease[2])>=10586?Number(osRelease[2])>=14931?3:2:1}if("CI"in env)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(sign){return sign in env})||"codeship"===env.CI_NAME?1:min;if("TEAMCITY_VERSION"in env)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in env){var version=parseInt((env.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env.TERM_PROGRAM){case"iTerm.app":return version>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(env.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)?1:"COLORTERM"in env?1:(env.TERM,min)}(stream))}hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")?forceColor=!1:(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))&&(forceColor=!0),"FORCE_COLOR"in env&&(forceColor=0===env.FORCE_COLOR.length||0!==parseInt(env.FORCE_COLOR,10)),module.exports={supportsColor:getSupportLevel,stdout:getSupportLevel(process.stdout),stderr:getSupportLevel(process.stderr)}}).call(this,require("_process"))},{"./has-flag.js":102,_process:332,os:312}],104:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],105:[function(require,module,exports){var isArray="function"==typeof Array.isArray?Array.isArray:function(a){return a instanceof Array};module.exports=function clone(arg){if("object"!=typeof arg)return arg;if(null===arg)return null;if(isArray(arg))return arg.map(clone);if(arg instanceof Date)return new Date(arg.getTime());if(arg instanceof RegExp)return regexMatch=/^\/(.*)\/([gimyu]*)$/.exec(arg.toString()),new RegExp(regexMatch[1],regexMatch[2]);var regexMatch,cloned={};for(var name in arg)Object.prototype.hasOwnProperty.call(arg,name)&&(cloned[name]=clone(arg[name]));return cloned}},{}],106:[function(require,module,exports){var Pipe=require("../pipe").Pipe,Context=function(){};Context.prototype.setResult=function(result){return this.result=result,this.hasResult=!0,this},Context.prototype.exit=function(){return this.exiting=!0,this},Context.prototype.switchTo=function(next,pipe){return"string"==typeof next||next instanceof Pipe?this.nextPipe=next:(this.next=next,pipe&&(this.nextPipe=pipe)),this},Context.prototype.push=function(child,name){return child.parent=this,void 0!==name&&(child.childName=name),child.root=this.root||this,child.options=child.options||this.options,this.children?(this.children[this.children.length-1].next=child,this.children.push(child)):(this.children=[child],this.nextAfterChildren=this.next||null,this.next=child),child.next=this,this},exports.Context=Context},{"../pipe":120}],107:[function(require,module,exports){var Context=require("./context").Context,defaultClone=require("../clone"),DiffContext=function(left,right){this.left=left,this.right=right,this.pipe="diff"};(DiffContext.prototype=new Context).setResult=function(result){if(this.options.cloneDiffValues&&"object"==typeof result){var clone="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:defaultClone;"object"==typeof result[0]&&(result[0]=clone(result[0])),"object"==typeof result[1]&&(result[1]=clone(result[1]))}return Context.prototype.setResult.apply(this,arguments)},exports.DiffContext=DiffContext},{"../clone":105,"./context":106}],108:[function(require,module,exports){var Context=require("./context").Context,PatchContext=function(left,delta){this.left=left,this.delta=delta,this.pipe="patch"};PatchContext.prototype=new Context,exports.PatchContext=PatchContext},{"./context":106}],109:[function(require,module,exports){var Context=require("./context").Context,ReverseContext=function(delta){this.delta=delta,this.pipe="reverse"};ReverseContext.prototype=new Context,exports.ReverseContext=ReverseContext},{"./context":106}],110:[function(require,module,exports){module.exports=function(key,value){var parts;return"string"==typeof value&&(parts=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+\-])(\d{2}):(\d{2}))$/.exec(value))?new Date(Date.UTC(+parts[1],+parts[2]-1,+parts[3],+parts[4],+parts[5],+parts[6],+(parts[7]||0))):value}},{}],111:[function(require,module,exports){var Processor=require("./processor").Processor,Pipe=require("./pipe").Pipe,DiffContext=require("./contexts/diff").DiffContext,PatchContext=require("./contexts/patch").PatchContext,ReverseContext=require("./contexts/reverse").ReverseContext,clone=require("./clone"),trivial=require("./filters/trivial"),nested=require("./filters/nested"),arrays=require("./filters/arrays"),dates=require("./filters/dates"),texts=require("./filters/texts"),DiffPatcher=function(options){this.processor=new Processor(options),this.processor.pipe(new Pipe("diff").append(nested.collectChildrenDiffFilter,trivial.diffFilter,dates.diffFilter,texts.diffFilter,nested.objectsDiffFilter,arrays.diffFilter).shouldHaveResult()),this.processor.pipe(new Pipe("patch").append(nested.collectChildrenPatchFilter,arrays.collectChildrenPatchFilter,trivial.patchFilter,texts.patchFilter,nested.patchFilter,arrays.patchFilter).shouldHaveResult()),this.processor.pipe(new Pipe("reverse").append(nested.collectChildrenReverseFilter,arrays.collectChildrenReverseFilter,trivial.reverseFilter,texts.reverseFilter,nested.reverseFilter,arrays.reverseFilter).shouldHaveResult())};DiffPatcher.prototype.options=function(){return this.processor.options.apply(this.processor,arguments)},DiffPatcher.prototype.diff=function(left,right){return this.processor.process(new DiffContext(left,right))},DiffPatcher.prototype.patch=function(left,delta){return this.processor.process(new PatchContext(left,delta))},DiffPatcher.prototype.reverse=function(delta){return this.processor.process(new ReverseContext(delta))},DiffPatcher.prototype.unpatch=function(right,delta){return this.patch(right,this.reverse(delta))},DiffPatcher.prototype.clone=function(value){return clone(value)},exports.DiffPatcher=DiffPatcher},{"./clone":105,"./contexts/diff":107,"./contexts/patch":108,"./contexts/reverse":109,"./filters/arrays":113,"./filters/dates":114,"./filters/nested":116,"./filters/texts":117,"./filters/trivial":118,"./pipe":120,"./processor":121}],112:[function(require,module,exports){exports.isBrowser="undefined"!=typeof window},{}],113:[function(require,module,exports){var DiffContext=require("../contexts/diff").DiffContext,PatchContext=require("../contexts/patch").PatchContext,ReverseContext=require("../contexts/reverse").ReverseContext,lcs=require("./lcs"),isArray="function"==typeof Array.isArray?Array.isArray:function(a){return a instanceof Array},arrayIndexOf="function"==typeof Array.prototype.indexOf?function(array,item){return array.indexOf(item)}:function(array,item){for(var length=array.length,i=0;i<length;i++)if(array[i]===item)return i;return-1};function matchItems(array1,array2,index1,index2,context){var value1=array1[index1],value2=array2[index2];if(value1===value2)return!0;if("object"!=typeof value1||"object"!=typeof value2)return!1;var hash1,hash2,objectHash=context.objectHash;return objectHash?("number"==typeof index1?(context.hashCache1=context.hashCache1||[],void 0===(hash1=context.hashCache1[index1])&&(context.hashCache1[index1]=hash1=objectHash(value1,index1))):hash1=objectHash(value1),void 0!==hash1&&("number"==typeof index2?(context.hashCache2=context.hashCache2||[],void 0===(hash2=context.hashCache2[index2])&&(context.hashCache2[index2]=hash2=objectHash(value2,index2))):hash2=objectHash(value2),void 0!==hash2&&hash1===hash2)):context.matchByPosition&&index1===index2}var diffFilter=function(context){if(context.leftIsArray){var index,index1,index2,child,result,matchContext={objectHash:context.options&&context.options.objectHash,matchByPosition:context.options&&context.options.matchByPosition},commonHead=0,commonTail=0,array1=context.left,array2=context.right,len1=array1.length,len2=array2.length;for(len1>0&&len2>0&&!matchContext.objectHash&&"boolean"!=typeof matchContext.matchByPosition&&(matchContext.matchByPosition=!function(array1,array2,len1,len2){for(var index1=0;index1<len1;index1++)for(var val1=array1[index1],index2=0;index2<len2;index2++){var val2=array2[index2];if(index1!==index2&&val1===val2)return!0}}(array1,array2,len1,len2));commonHead<len1&&commonHead<len2&&matchItems(array1,array2,commonHead,commonHead,matchContext);)index=commonHead,child=new DiffContext(context.left[index],context.right[index]),context.push(child,index),commonHead++;for(;commonTail+commonHead<len1&&commonTail+commonHead<len2&&matchItems(array1,array2,len1-1-commonTail,len2-1-commonTail,matchContext);)index1=len1-1-commonTail,index2=len2-1-commonTail,child=new DiffContext(context.left[index1],context.right[index2]),context.push(child,index2),commonTail++;if(commonHead+commonTail!==len1)if(commonHead+commonTail!==len2){delete matchContext.hashCache1,delete matchContext.hashCache2;var trimmed1=array1.slice(commonHead,len1-commonTail),trimmed2=array2.slice(commonHead,len2-commonTail),seq=lcs.get(trimmed1,trimmed2,matchItems,matchContext),removedItems=[];for(result=result||{_t:"a"},index=commonHead;index<len1-commonTail;index++)arrayIndexOf(seq.indices1,index-commonHead)<0&&(result["_"+index]=[array1[index],0,0],removedItems.push(index));var detectMove=!0;context.options&&context.options.arrays&&!1===context.options.arrays.detectMove&&(detectMove=!1);var includeValueOnMove=!1;context.options&&context.options.arrays&&context.options.arrays.includeValueOnMove&&(includeValueOnMove=!0);var removedItemsLength=removedItems.length;for(index=commonHead;index<len2-commonTail;index++){var indexOnArray2=arrayIndexOf(seq.indices2,index-commonHead);if(indexOnArray2<0){var isMove=!1;if(detectMove&&removedItemsLength>0)for(var removeItemIndex1=0;removeItemIndex1<removedItemsLength;removeItemIndex1++)if(matchItems(trimmed1,trimmed2,(index1=removedItems[removeItemIndex1])-commonHead,index-commonHead,matchContext)){result["_"+index1].splice(1,2,index,3),includeValueOnMove||(result["_"+index1][0]=""),index2=index,child=new DiffContext(context.left[index1],context.right[index2]),context.push(child,index2),removedItems.splice(removeItemIndex1,1),isMove=!0;break}isMove||(result[index]=[array2[index]])}else index1=seq.indices1[indexOnArray2]+commonHead,index2=seq.indices2[indexOnArray2]+commonHead,child=new DiffContext(context.left[index1],context.right[index2]),context.push(child,index2)}context.setResult(result).exit()}else{for(result=result||{_t:"a"},index=commonHead;index<len1-commonTail;index++)result["_"+index]=[array1[index],0,0];context.setResult(result).exit()}else{if(len1===len2)return void context.setResult(void 0).exit();for(result=result||{_t:"a"},index=commonHead;index<len2-commonTail;index++)result[index]=[array2[index]];context.setResult(result).exit()}}};diffFilter.filterName="arrays";var compare_numerically=function(a,b){return a-b},compare_numericallyBy=function(name){return function(a,b){return a[name]-b[name]}},patchFilter=function(context){if(context.nested&&"a"===context.delta._t){var index,index1,delta=context.delta,array=context.left,toRemove=[],toInsert=[],toModify=[];for(index in delta)if("_t"!==index)if("_"===index[0]){if(0!==delta[index][2]&&3!==delta[index][2])throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+delta[index][2]);toRemove.push(parseInt(index.slice(1),10))}else 1===delta[index].length?toInsert.push({index:parseInt(index,10),value:delta[index][0]}):toModify.push({index:parseInt(index,10),delta:delta[index]});for(index=(toRemove=toRemove.sort(compare_numerically)).length-1;index>=0;index--){var indexDiff=delta["_"+(index1=toRemove[index])],removedValue=array.splice(index1,1)[0];3===indexDiff[2]&&toInsert.push({index:indexDiff[1],value:removedValue})}var toInsertLength=(toInsert=toInsert.sort(compare_numericallyBy("index"))).length;for(index=0;index<toInsertLength;index++){var insertion=toInsert[index];array.splice(insertion.index,0,insertion.value)}var child,toModifyLength=toModify.length;if(toModifyLength>0)for(index=0;index<toModifyLength;index++){var modification=toModify[index];child=new PatchContext(context.left[modification.index],modification.delta),context.push(child,modification.index)}context.children?context.exit():context.setResult(context.left).exit()}};patchFilter.filterName="arrays";var collectChildrenPatchFilter=function(context){if(context&&context.children&&"a"===context.delta._t){for(var child,length=context.children.length,index=0;index<length;index++)child=context.children[index],context.left[child.childName]=child.result;context.setResult(context.left).exit()}};collectChildrenPatchFilter.filterName="arraysCollectChildren";var reverseFilter=function(context){if(context.nested){if("a"===context.delta._t){var name,child;for(name in context.delta)"_t"!==name&&(child=new ReverseContext(context.delta[name]),context.push(child,name));context.exit()}}else 3===context.delta[2]&&(context.newName="_"+context.delta[1],context.setResult([context.delta[0],parseInt(context.childName.substr(1),10),3]).exit())};reverseFilter.filterName="arrays";var reverseArrayDeltaIndex=function(delta,index,itemDelta){if("string"==typeof index&&"_"===index[0])return parseInt(index.substr(1),10);if(isArray(itemDelta)&&0===itemDelta[2])return"_"+index;var reverseIndex=+index;for(var deltaIndex in delta){var deltaItem=delta[deltaIndex];if(isArray(deltaItem))if(3===deltaItem[2]){var moveFromIndex=parseInt(deltaIndex.substr(1),10),moveToIndex=deltaItem[1];if(moveToIndex===+index)return moveFromIndex;moveFromIndex<=reverseIndex&&moveToIndex>reverseIndex?reverseIndex++:moveFromIndex>=reverseIndex&&moveToIndex<reverseIndex&&reverseIndex--}else if(0===deltaItem[2]){parseInt(deltaIndex.substr(1),10)<=reverseIndex&&reverseIndex++}else 1===deltaItem.length&&deltaIndex<=reverseIndex&&reverseIndex--}return reverseIndex},collectChildrenReverseFilter=function(context){if(context&&context.children&&"a"===context.delta._t){for(var child,length=context.children.length,delta={_t:"a"},index=0;index<length;index++){var name=(child=context.children[index]).newName;void 0===name&&(name=reverseArrayDeltaIndex(context.delta,child.childName,child.result)),delta[name]!==child.result&&(delta[name]=child.result)}context.setResult(delta).exit()}};collectChildrenReverseFilter.filterName="arraysCollectChildren",exports.diffFilter=diffFilter,exports.patchFilter=patchFilter,exports.collectChildrenPatchFilter=collectChildrenPatchFilter,exports.reverseFilter=reverseFilter,exports.collectChildrenReverseFilter=collectChildrenReverseFilter},{"../contexts/diff":107,"../contexts/patch":108,"../contexts/reverse":109,"./lcs":115}],114:[function(require,module,exports){var diffFilter=function(context){context.left instanceof Date?(context.right instanceof Date?context.left.getTime()!==context.right.getTime()?context.setResult([context.left,context.right]):context.setResult(void 0):context.setResult([context.left,context.right]),context.exit()):context.right instanceof Date&&context.setResult([context.left,context.right]).exit()};diffFilter.filterName="dates",exports.diffFilter=diffFilter},{}],115:[function(require,module,exports){var defaultMatch=function(array1,array2,index1,index2){return array1[index1]===array2[index2]},backtrack=function(matrix,array1,array2,index1,index2,context){if(0===index1||0===index2)return{sequence:[],indices1:[],indices2:[]};if(matrix.match(array1,array2,index1-1,index2-1,context)){var subsequence=backtrack(matrix,array1,array2,index1-1,index2-1,context);return subsequence.sequence.push(array1[index1-1]),subsequence.indices1.push(index1-1),subsequence.indices2.push(index2-1),subsequence}return matrix[index1][index2-1]>matrix[index1-1][index2]?backtrack(matrix,array1,array2,index1,index2-1,context):backtrack(matrix,array1,array2,index1-1,index2,context)};exports.get=function(array1,array2,match,context){context=context||{};var matrix=function(array1,array2,match,context){var x,y,len1=array1.length,len2=array2.length,matrix=[len1+1];for(x=0;x<len1+1;x++)for(matrix[x]=[len2+1],y=0;y<len2+1;y++)matrix[x][y]=0;for(matrix.match=match,x=1;x<len1+1;x++)for(y=1;y<len2+1;y++)match(array1,array2,x-1,y-1,context)?matrix[x][y]=matrix[x-1][y-1]+1:matrix[x][y]=Math.max(matrix[x-1][y],matrix[x][y-1]);return matrix}(array1,array2,match||defaultMatch,context),result=backtrack(matrix,array1,array2,array1.length,array2.length,context);return"string"==typeof array1&&"string"==typeof array2&&(result.sequence=result.sequence.join("")),result}},{}],116:[function(require,module,exports){var DiffContext=require("../contexts/diff").DiffContext,PatchContext=require("../contexts/patch").PatchContext,ReverseContext=require("../contexts/reverse").ReverseContext,collectChildrenDiffFilter=function(context){if(context&&context.children){for(var child,length=context.children.length,result=context.result,index=0;index<length;index++)void 0!==(child=context.children[index]).result&&((result=result||{})[child.childName]=child.result);result&&context.leftIsArray&&(result._t="a"),context.setResult(result).exit()}};collectChildrenDiffFilter.filterName="collectChildren";var objectsDiffFilter=function(context){if(!context.leftIsArray&&"object"===context.leftType){var name,child,propertyFilter=context.options.propertyFilter;for(name in context.left)Object.prototype.hasOwnProperty.call(context.left,name)&&(propertyFilter&&!propertyFilter(name,context)||(child=new DiffContext(context.left[name],context.right[name]),context.push(child,name)));for(name in context.right)Object.prototype.hasOwnProperty.call(context.right,name)&&(propertyFilter&&!propertyFilter(name,context)||void 0===context.left[name]&&(child=new DiffContext(void 0,context.right[name]),context.push(child,name)));context.children&&0!==context.children.length?context.exit():context.setResult(void 0).exit()}};objectsDiffFilter.filterName="objects";var patchFilter=function(context){if(context.nested&&!context.delta._t){var name,child;for(name in context.delta)child=new PatchContext(context.left[name],context.delta[name]),context.push(child,name);context.exit()}};patchFilter.filterName="objects";var collectChildrenPatchFilter=function(context){if(context&&context.children&&!context.delta._t){for(var child,length=context.children.length,index=0;index<length;index++)child=context.children[index],Object.prototype.hasOwnProperty.call(context.left,child.childName)&&void 0===child.result?delete context.left[child.childName]:context.left[child.childName]!==child.result&&(context.left[child.childName]=child.result);context.setResult(context.left).exit()}};collectChildrenPatchFilter.filterName="collectChildren";var reverseFilter=function(context){if(context.nested&&!context.delta._t){var name,child;for(name in context.delta)child=new ReverseContext(context.delta[name]),context.push(child,name);context.exit()}};reverseFilter.filterName="objects";var collectChildrenReverseFilter=function(context){if(context&&context.children&&!context.delta._t){for(var child,length=context.children.length,delta={},index=0;index<length;index++)delta[(child=context.children[index]).childName]!==child.result&&(delta[child.childName]=child.result);context.setResult(delta).exit()}};collectChildrenReverseFilter.filterName="collectChildren",exports.collectChildrenDiffFilter=collectChildrenDiffFilter,exports.objectsDiffFilter=objectsDiffFilter,exports.patchFilter=patchFilter,exports.collectChildrenPatchFilter=collectChildrenPatchFilter,exports.reverseFilter=reverseFilter,exports.collectChildrenReverseFilter=collectChildrenReverseFilter},{"../contexts/diff":107,"../contexts/patch":108,"../contexts/reverse":109}],117:[function(require,module,exports){var cachedDiffPatch=null,getDiffMatchPatch=function(required){if(!cachedDiffPatch){var instance;if("undefined"!=typeof diff_match_patch)instance="function"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if("function"==typeof require)try{var dmp=require("../../public/external/diff_match_patch_uncompressed");instance=new dmp.diff_match_patch}catch(err){instance=null}if(!instance){if(!required)return null;var error=new Error("text diff_match_patch library not found");throw error.diff_match_patch_not_found=!0,error}cachedDiffPatch={diff:function(txt1,txt2){return instance.patch_toText(instance.patch_make(txt1,txt2))},patch:function(txt1,patch){for(var results=instance.patch_apply(instance.patch_fromText(patch),txt1),i=0;i<results[1].length;i++){if(!results[1][i])new Error("text patch failed").textPatchFailed=!0}return results[0]}}}return cachedDiffPatch},diffFilter=function(context){if("string"===context.leftType){var minLength=context.options&&context.options.textDiff&&context.options.textDiff.minLength||60;if(context.left.length<minLength||context.right.length<minLength)context.setResult([context.left,context.right]).exit();else{var diffMatchPatch=getDiffMatchPatch();if(diffMatchPatch){var diff=diffMatchPatch.diff;context.setResult([diff(context.left,context.right),0,2]).exit()}else context.setResult([context.left,context.right]).exit()}}};diffFilter.filterName="texts";var patchFilter=function(context){if(!context.nested&&2===context.delta[2]){var patch=getDiffMatchPatch(!0).patch;context.setResult(patch(context.left,context.delta[0])).exit()}};patchFilter.filterName="texts";var reverseFilter=function(context){context.nested||2===context.delta[2]&&context.setResult([function(delta){var i,l,lines,line,lineTmp,header=null,headerRegex=/^@@ +\-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(i=0,l=(lines=delta.split("\n")).length;i<l;i++){var lineStart=(line=lines[i]).slice(0,1);"@"===lineStart?(header=headerRegex.exec(line),lines[i]="@@ -"+header[3]+","+header[4]+" +"+header[1]+","+header[2]+" @@"):"+"===lineStart?(lines[i]="-"+lines[i].slice(1),"+"===lines[i-1].slice(0,1)&&(lineTmp=lines[i],lines[i]=lines[i-1],lines[i-1]=lineTmp)):"-"===lineStart&&(lines[i]="+"+lines[i].slice(1))}return lines.join("\n")}(context.delta[0]),0,2]).exit()};reverseFilter.filterName="texts",exports.diffFilter=diffFilter,exports.patchFilter=patchFilter,exports.reverseFilter=reverseFilter},{}],118:[function(require,module,exports){var isArray="function"==typeof Array.isArray?Array.isArray:function(a){return a instanceof Array},diffFilter=function(context){if(context.left!==context.right)if(void 0!==context.left)if(void 0!==context.right){if("function"==typeof context.left||"function"==typeof context.right)throw new Error("functions are not supported");if(context.leftType=null===context.left?"null":typeof context.left,context.rightType=null===context.right?"null":typeof context.right,context.leftType===context.rightType)if("boolean"!==context.leftType&&"number"!==context.leftType)if("object"===context.leftType&&(context.leftIsArray=isArray(context.left)),"object"===context.rightType&&(context.rightIsArray=isArray(context.right)),context.leftIsArray===context.rightIsArray){if(context.left instanceof RegExp){if(!(context.right instanceof RegExp))return void context.setResult([context.left,context.right]).exit();context.setResult([context.left.toString(),context.right.toString()]).exit()}}else context.setResult([context.left,context.right]).exit();else context.setResult([context.left,context.right]).exit();else context.setResult([context.left,context.right]).exit()}else context.setResult([context.left,0,0]).exit();else{if("function"==typeof context.right)throw new Error("functions are not supported");context.setResult([context.right]).exit()}else context.setResult(void 0).exit()};diffFilter.filterName="trivial";var patchFilter=function(context){if(void 0!==context.delta){if(context.nested=!isArray(context.delta),!context.nested)if(1!==context.delta.length)if(2!==context.delta.length)3!==context.delta.length||0!==context.delta[2]||context.setResult(void 0).exit();else{if(context.left instanceof RegExp){var regexArgs=/^\/(.*)\/([gimyu]+)$/.exec(context.delta[1]);if(regexArgs)return void context.setResult(new RegExp(regexArgs[1],regexArgs[2])).exit()}context.setResult(context.delta[1]).exit()}else context.setResult(context.delta[0]).exit()}else context.setResult(context.left).exit()};patchFilter.filterName="trivial";var reverseFilter=function(context){void 0!==context.delta?(context.nested=!isArray(context.delta),context.nested||(1!==context.delta.length?2!==context.delta.length?3!==context.delta.length||0!==context.delta[2]||context.setResult([context.delta[0]]).exit():context.setResult([context.delta[1],context.delta[0]]).exit():context.setResult([context.delta[0],0,0]).exit())):context.setResult(context.delta).exit()};reverseFilter.filterName="trivial",exports.diffFilter=diffFilter,exports.patchFilter=patchFilter,exports.reverseFilter=reverseFilter},{}],119:[function(require,module,exports){var defaultInstance,environment=require("./environment"),DiffPatcher=require("./diffpatcher").DiffPatcher;if(exports.DiffPatcher=DiffPatcher,exports.create=function(options){return new DiffPatcher(options)},exports.dateReviver=require("./date-reviver"),exports.diff=function(){return defaultInstance||(defaultInstance=new DiffPatcher),defaultInstance.diff.apply(defaultInstance,arguments)},exports.patch=function(){return defaultInstance||(defaultInstance=new DiffPatcher),defaultInstance.patch.apply(defaultInstance,arguments)},exports.unpatch=function(){return defaultInstance||(defaultInstance=new DiffPatcher),defaultInstance.unpatch.apply(defaultInstance,arguments)},exports.reverse=function(){return defaultInstance||(defaultInstance=new DiffPatcher),defaultInstance.reverse.apply(defaultInstance,arguments)},exports.clone=function(){return defaultInstance||(defaultInstance=new DiffPatcher),defaultInstance.clone.apply(defaultInstance,arguments)},environment.isBrowser)exports.homepage="{{package-homepage}}",exports.version="{{package-version}}";else{var packageInfo=require("../package.json");exports.homepage=packageInfo.homepage,exports.version=packageInfo.version;var formatters=require("./formatters");exports.formatters=formatters,exports.console=formatters.console}},{"./date-reviver":110,"./diffpatcher":111,"./environment":112}],120:[function(require,module,exports){var Pipe=function(name){this.name=name,this.filters=[]};Pipe.prototype.process=function(input){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var debug=this.debug,length=this.filters.length,context=input,index=0;index<length;index++){var filter=this.filters[index];if(debug&&this.log("filter: "+filter.filterName),filter(context),"object"==typeof context&&context.exiting){context.exiting=!1;break}}!context.next&&this.resultCheck&&this.resultCheck(context)},Pipe.prototype.log=function(msg){console.log("[jsondiffpatch] "+this.name+" pipe, "+msg)},Pipe.prototype.append=function(){return this.filters.push.apply(this.filters,arguments),this},Pipe.prototype.prepend=function(){return this.filters.unshift.apply(this.filters,arguments),this},Pipe.prototype.indexOf=function(filterName){if(!filterName)throw new Error("a filter name is required");for(var index=0;index<this.filters.length;index++){if(this.filters[index].filterName===filterName)return index}throw new Error("filter not found: "+filterName)},Pipe.prototype.list=function(){for(var names=[],index=0;index<this.filters.length;index++){var filter=this.filters[index];names.push(filter.filterName)}return names},Pipe.prototype.after=function(filterName){var index=this.indexOf(filterName),params=Array.prototype.slice.call(arguments,1);if(!params.length)throw new Error("a filter is required");return params.unshift(index+1,0),Array.prototype.splice.apply(this.filters,params),this},Pipe.prototype.before=function(filterName){var index=this.indexOf(filterName),params=Array.prototype.slice.call(arguments,1);if(!params.length)throw new Error("a filter is required");return params.unshift(index,0),Array.prototype.splice.apply(this.filters,params),this},Pipe.prototype.replace=function(filterName){var index=this.indexOf(filterName),params=Array.prototype.slice.call(arguments,1);if(!params.length)throw new Error("a filter is required");return params.unshift(index,1),Array.prototype.splice.apply(this.filters,params),this},Pipe.prototype.remove=function(filterName){var index=this.indexOf(filterName);return this.filters.splice(index,1),this},Pipe.prototype.clear=function(){return this.filters.length=0,this},Pipe.prototype.shouldHaveResult=function(should){if(!1!==should){if(!this.resultCheck){var pipe=this;return this.resultCheck=function(context){if(!context.hasResult){console.log(context);var error=new Error(pipe.name+" failed");throw error.noResult=!0,error}},this}}else this.resultCheck=null},exports.Pipe=Pipe},{}],121:[function(require,module,exports){var Processor=function(options){this.selfOptions=options||{},this.pipes={}};Processor.prototype.options=function(options){return options&&(this.selfOptions=options),this.selfOptions},Processor.prototype.pipe=function(name,pipe){if("string"==typeof name){if(void 0===pipe)return this.pipes[name];this.pipes[name]=pipe}if(name&&name.name){if((pipe=name).processor===this)return pipe;this.pipes[pipe.name]=pipe}return pipe.processor=this,pipe},Processor.prototype.process=function(input,pipe){var context=input;context.options=this.options();for(var lastPipe,lastContext,nextPipe=pipe||input.pipe||"default";nextPipe;)void 0!==context.nextAfterChildren&&(context.next=context.nextAfterChildren,context.nextAfterChildren=null),"string"==typeof nextPipe&&(nextPipe=this.pipe(nextPipe)),nextPipe.process(context),lastContext=context,lastPipe=nextPipe,nextPipe=null,context&&context.next&&(context=context.next,nextPipe=lastContext.nextPipe||context.pipe||lastPipe);return context.hasResult?context.result:void 0},exports.Processor=Processor},{}],122:[function(require,module,exports){var global,factory;global=this,factory=function(){"use strict";var hookCallback,some;function hooks(){return hookCallback.apply(null,arguments)}function isArray(input){return input instanceof Array||"[object Array]"===Object.prototype.toString.call(input)}function isObject(input){return null!=input&&"[object Object]"===Object.prototype.toString.call(input)}function isUndefined(input){return void 0===input}function isNumber(input){return"number"==typeof input||"[object Number]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function getParsingFlags(m){return null==m._pf&&(m._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),m._pf}function isValid(m){if(null==m._isValid){var flags=getParsingFlags(m),parsedParts=some.call(flags.parsedDateParts,function(i){return null!=i}),isNowValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.weekdayMismatch&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts);if(m._strict&&(isNowValid=isNowValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour),null!=Object.isFrozen&&Object.isFrozen(m))return isNowValid;m._isValid=isNowValid}return m._isValid}function createInvalid(flags){var m=createUTC(NaN);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}some=Array.prototype.some?Array.prototype.some:function(fun){for(var t=Object(this),len=t.length>>>0,i=0;i<len;i++)if(i in t&&fun.call(this,t[i],i,t))return!0;return!1};var momentProperties=hooks.momentProperties=[];function copyConfig(to,from){var i,prop,val;if(isUndefined(from._isAMomentObject)||(to._isAMomentObject=from._isAMomentObject),isUndefined(from._i)||(to._i=from._i),isUndefined(from._f)||(to._f=from._f),isUndefined(from._l)||(to._l=from._l),isUndefined(from._strict)||(to._strict=from._strict),isUndefined(from._tzm)||(to._tzm=from._tzm),isUndefined(from._isUTC)||(to._isUTC=from._isUTC),isUndefined(from._offset)||(to._offset=from._offset),isUndefined(from._pf)||(to._pf=getParsingFlags(from)),isUndefined(from._locale)||(to._locale=from._locale),momentProperties.length>0)for(i=0;i<momentProperties.length;i++)isUndefined(val=from[prop=momentProperties[i]])||(to[prop]=val);return to}var updateInProgress=!1;function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===updateInProgress&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return number<0?Math.ceil(number)||0:Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;i<len;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function warn(msg){!1===hooks.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,msg),firstTime){for(var arg,args=[],i=0;i<arguments.length;i++){if(arg="","object"==typeof arguments[i]){for(var key in arg+="\n["+i+"] ",arguments[0])arg+=key+": "+arguments[0][key]+", ";arg=arg.slice(0,-2)}else arg=arguments[i];args.push(arg)}warn(msg+"\nArguments: "+Array.prototype.slice.call(args).join("")+"\n"+(new Error).stack),firstTime=!1}return fn.apply(this,arguments)},fn)}var keys,deprecations={};function deprecateSimple(name,msg){null!=hooks.deprecationHandler&&hooks.deprecationHandler(name,msg),deprecations[name]||(warn(msg),deprecations[name]=!0)}function isFunction(input){return input instanceof Function||"[object Function]"===Object.prototype.toString.call(input)}function mergeConfigs(parentConfig,childConfig){var prop,res=extend({},parentConfig);for(prop in childConfig)hasOwnProp(childConfig,prop)&&(isObject(parentConfig[prop])&&isObject(childConfig[prop])?(res[prop]={},extend(res[prop],parentConfig[prop]),extend(res[prop],childConfig[prop])):null!=childConfig[prop]?res[prop]=childConfig[prop]:delete res[prop]);for(prop in parentConfig)hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])&&(res[prop]=extend({},res[prop]));return res}function Locale(config){null!=config&&this.set(config)}hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null,keys=Object.keys?Object.keys:function(obj){var i,res=[];for(i in obj)hasOwnProp(obj,i)&&res.push(i);return res};var aliases={};function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop))&&(normalizedInput[normalizedProp]=inputObject[prop]);return normalizedInput}var priorities={};function addUnitPriority(unit,priority){priorities[unit]=priority}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length;return(number>=0?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||function(format){var i,length,input,array=format.match(formattingTokens);for(i=0,length=array.length;i<length;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=(input=array[i]).match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"");return function(mom){var i,output="";for(i=0;i<length;i++)output+=isFunction(array[i])?array[i].call(mom,format):array[i];return output}}(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,regexes={};function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(regexEscape(token.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),isNumber(callback)&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4==0&&year%100!=0||year%400==0}addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?""+y:"+"+y}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=hooks.parseTwoDigitYear(input)}),addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)}),hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var indexOf,getSetYear=makeGetSet("FullYear",!0);function makeGetSet(unit,keepTime){return function(value){return null!=value?(set$1(this,unit,value),hooks.updateOffset(this,keepTime),this):get(this,unit)}}function get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function set$1(mom,unit,value){mom.isValid()&&!isNaN(value)&&("FullYear"===unit&&isLeapYear(mom.year())&&1===mom.month()&&29===mom.date()?mom._d["set"+(mom._isUTC?"UTC":"")+unit](value,mom.month(),daysInMonth(value,mom.month())):mom._d["set"+(mom._isUTC?"UTC":"")+unit](value))}function daysInMonth(year,month){if(isNaN(year)||isNaN(month))return NaN;var x,modMonth=(month%(x=12)+x)%x;return year+=(month-modMonth)/12,1===modMonth?isLeapYear(year)?29:28:31-modMonth%7%2}indexOf=Array.prototype.indexOf?Array.prototype.indexOf:function(o){var i;for(i=0;i<this.length;++i)if(this[i]===o)return i;return-1},addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)}),addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)}),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function setMonth(mom,value){var dayOfMonth;if(!mom.isValid())return mom;if("string"==typeof value)if(/^\d+$/.test(value))value=toInt(value);else if(!isNumber(value=mom.localeData().monthsParse(value)))return mom;return dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom}function getSetMonth(value){return null!=value?(setMonth(this,value),hooks.updateOffset(this,!0),this):get(this,"Month")}var defaultMonthsShortRegex=matchWord;var defaultMonthsRegex=matchWord;function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<12;i++)mom=createUTC([2e3,i]),shortPieces.push(this.monthsShort(mom,"")),longPieces.push(this.months(mom,"")),mixedPieces.push(this.months(mom,"")),mixedPieces.push(this.monthsShort(mom,""));for(shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<12;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]);for(i=0;i<24;i++)mixedPieces[i]=regexEscape(mixedPieces[i]);this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i")}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return y<100&&y>=0&&isFinite(date.getUTCFullYear())&&date.setUTCFullYear(y),date}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy;return-((7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7)+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var resYear,resDayOfYear,dayOfYear=1+7*(week-1)+(7+weekday-dow)%7+firstWeekOffset(year,dow,doy);return dayOfYear<=0?resDayOfYear=daysInYear(resYear=year-1)+dayOfYear:dayOfYear>daysInYear(year)?(resYear=year+1,resDayOfYear=dayOfYear-daysInYear(year)):(resYear=year,resDayOfYear=dayOfYear),{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var resWeek,resYear,weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1;return week<1?resWeek=week+weeksInYear(resYear=mom.year()-1,dow,doy):week>weeksInYear(mom.year(),dow,doy)?(resWeek=week-weeksInYear(mom.year(),dow,doy),resYear=mom.year()+1):(resYear=mom.year(),resWeek=week),{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)}),addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)}),addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)}),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var defaultWeekdaysRegex=matchWord;var defaultWeekdaysShortRegex=matchWord;var defaultWeekdaysMinRegex=matchWord;function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,minp,shortp,longp,minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<7;i++)mom=createUTC([2e3,1]).day(i),minp=this.weekdaysMin(mom,""),shortp=this.weekdaysShort(mom,""),longp=this.weekdays(mom,""),minPieces.push(minp),shortPieces.push(shortp),longPieces.push(longp),mixedPieces.push(minp),mixedPieces.push(shortp),mixedPieces.push(longp);for(minPieces.sort(cmpLenRev),shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<7;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]),mixedPieces[i]=regexEscape(mixedPieces[i]);this._weekdaysRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+minPieces.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,function(){return this.hours()||24}),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("k",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("kk",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["k","kk"],function(input,array,config){var kInput=toInt(input);array[HOUR]=24===kInput?0:kInput}),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0}),addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos)),getParsingFlags(config).bigHour=!0}),addParseToken("hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2)),getParsingFlags(config).bigHour=!0}),addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos))}),addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2))});var globalLocale,getSetHour=makeGetSet("Hours",!0),baseConfig={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:{dow:0,doy:6},weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:/[ap]\.?m?\.?/i},locales={},localeFamilies={};function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function loadLocale(name){var oldLocale=null;if(!locales[name]&&void 0!==module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function getSetGlobalLocale(key,values){var data;return key&&((data=isUndefined(values)?getLocale(key):defineLocale(key,values))?globalLocale=data:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+key+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(name,config){if(null!==config){var locale,parentConfig=baseConfig;if(config.abbr=name,null!=locales[name])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),parentConfig=locales[name]._config;else if(null!=config.parentLocale)if(null!=locales[config.parentLocale])parentConfig=locales[config.parentLocale]._config;else{if(null==(locale=loadLocale(config.parentLocale)))return localeFamilies[config.parentLocale]||(localeFamilies[config.parentLocale]=[]),localeFamilies[config.parentLocale].push({name:name,config:config}),null;parentConfig=locale._config}return locales[name]=new Locale(mergeConfigs(parentConfig,config)),localeFamilies[name]&&localeFamilies[name].forEach(function(x){defineLocale(x.name,x.config)}),getSetGlobalLocale(name),locales[name]}return delete locales[name],null}function getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return function(names){for(var j,next,locale,split,i=0;i<names.length;){for(j=(split=normalizeLocale(names[i]).split("-")).length,next=(next=normalizeLocale(names[i+1]))?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return globalLocale}(key)}function checkOverflow(m){var overflow,a=m._a;return a&&-2===getParsingFlags(m).overflow&&(overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)&&(overflow=DATE),getParsingFlags(m)._overflowWeeks&&-1===overflow&&(overflow=WEEK),getParsingFlags(m)._overflowWeekday&&-1===overflow&&(overflow=WEEKDAY),getParsingFlags(m).overflow=overflow),m}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function configFromArray(config){var i,date,currentDate,expectedWeekday,yearToUse,input=[];if(!config._d){for(currentDate=function(config){var nowValue=new Date(hooks.now());return config._useUTC?[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]:[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&function(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;if(null!=(w=config._w).GG||null!=w.W||null!=w.E)dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(createLocal(),1,4).year),week=defaults(w.W,1),((weekday=defaults(w.E,1))<1||weekday>7)&&(weekdayOverflow=!0);else{dow=config._locale._week.dow,doy=config._locale._week.doy;var curWeek=weekOfYear(createLocal(),dow,doy);weekYear=defaults(w.gg,config._a[YEAR],curWeek.year),week=defaults(w.w,curWeek.week),null!=w.d?((weekday=w.d)<0||weekday>6)&&(weekdayOverflow=!0):null!=w.e?(weekday=w.e+dow,(w.e<0||w.e>6)&&(weekdayOverflow=!0)):weekday=dow}week<1||week>weeksInYear(weekYear,dow,doy)?getParsingFlags(config)._overflowWeeks=!0:null!=weekdayOverflow?getParsingFlags(config)._overflowWeekday=!0:(temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear)}(config),null!=config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),(config._dayOfYear>daysInYear(yearToUse)||0===config._dayOfYear)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;i<3&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;i<7;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:function(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return y<100&&y>=0&&isFinite(date.getFullYear())&&date.setFullYear(y),date}).apply(null,input),expectedWeekday=config._useUTC?config._d.getUTCDay():config._d.getDay(),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24),config._w&&void 0!==config._w.d&&config._w.d!==expectedWeekday&&(getParsingFlags(config).weekdayMismatch=!0)}}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;function configFromISO(config){var i,l,allowTime,dateFormat,timeFormat,tzFormat,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;i<l;i++)if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0],allowTime=!1!==isoDates[i][2];break}if(null==dateFormat)return void(config._isValid=!1);if(match[3]){for(i=0,l=isoTimes.length;i<l;i++)if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}if(null==timeFormat)return void(config._isValid=!1)}if(!allowTime&&null!=timeFormat)return void(config._isValid=!1);if(match[4]){if(!tzRegex.exec(match[4]))return void(config._isValid=!1);tzFormat="Z"}config._f=dateFormat+(timeFormat||"")+(tzFormat||""),configFromStringAndFormat(config)}else config._isValid=!1}var rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function extractFromRFC2822Strings(yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr){var result=[function(yearStr){var year=parseInt(yearStr,10);if(year<=49)return 2e3+year;if(year<=999)return 1900+year;return year}(yearStr),defaultLocaleMonthsShort.indexOf(monthStr),parseInt(dayStr,10),parseInt(hourStr,10),parseInt(minuteStr,10)];return secondStr&&result.push(parseInt(secondStr,10)),result}var obsOffsets={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function configFromRFC2822(config){var match=rfc2822.exec(config._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(match){var parsedArray=extractFromRFC2822Strings(match[4],match[3],match[2],match[5],match[6],match[7]);if(!function(weekdayStr,parsedInput,config){return!weekdayStr||defaultLocaleWeekdaysShort.indexOf(weekdayStr)===new Date(parsedInput[0],parsedInput[1],parsedInput[2]).getDay()||(getParsingFlags(config).weekdayMismatch=!0,config._isValid=!1,!1)}(match[1],parsedArray,config))return;config._a=parsedArray,config._tzm=function(obsOffset,militaryOffset,numOffset){if(obsOffset)return obsOffsets[obsOffset];if(militaryOffset)return 0;var hm=parseInt(numOffset,10),m=hm%100;return(hm-m)/100*60+m}(match[8],match[9],match[10]),config._d=createUTCDate.apply(null,config._a),config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),getParsingFlags(config).rfc2822=!0}else config._isValid=!1}function configFromStringAndFormat(config){if(config._f!==hooks.ISO_8601)if(config._f!==hooks.RFC_2822){config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],(parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0])&&((skipped=string.substr(0,string.indexOf(parsedInput))).length>0&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&getParsingFlags(config).unusedInput.push(string),config._a[HOUR]<=12&&!0===getParsingFlags(config).bigHour&&config._a[HOUR]>0&&(getParsingFlags(config).bigHour=void 0),getParsingFlags(config).parsedDateParts=config._a.slice(0),getParsingFlags(config).meridiem=config._meridiem,config._a[HOUR]=function(locale,hour,meridiem){var isPm;if(null==meridiem)return hour;return null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?((isPm=locale.isPM(meridiem))&&hour<12&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}else configFromRFC2822(config);else configFromISO(config)}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||getLocale(config._l),null===input||void 0===format&&""===input?createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isDate(input)?config._d=input:isArray(format)?function(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(NaN));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||currentScore<scoreToBeat)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}(config):format?configFromStringAndFormat(config):function(config){var input=config._i;isUndefined(input)?config._d=new Date(hooks.now()):isDate(input)?config._d=new Date(input.valueOf()):"string"==typeof input?function(config){var matched=aspNetJsonRegex.exec(config._i);null===matched?(configFromISO(config),!1===config._isValid&&(delete config._isValid,configFromRFC2822(config),!1===config._isValid&&(delete config._isValid,hooks.createFromInputFallback(config)))):config._d=new Date(+matched[1])}(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):isObject(input)?function(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)}),configFromArray(config)}}(config):isNumber(input)?config._d=new Date(input):hooks.createFromInputFallback(config)}(config),isValid(config)||(config._d=null),config))}function createLocalOrUTC(input,format,locale,strict,isUTC){var res,c={};return!0!==locale&&!1!==locale||(strict=locale,locale=void 0),(isObject(input)&&function(obj){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(obj).length;var k;for(k in obj)if(obj.hasOwnProperty(k))return!1;return!0}(input)||isArray(input)&&0===input.length)&&(input=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,(res=new Moment(checkOverflow(prepareConfig(c))))._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other<this?this:other:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other>this?this:other:createInvalid()});function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return createLocal();for(res=moments[0],i=1;i<moments.length;++i)moments[i].isValid()&&!moments[i][fn](res)||(res=moments[i]);return res}var ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._isValid=function(m){for(var key in m)if(-1===indexOf.call(ordering,key)||null!=m[key]&&isNaN(m[key]))return!1;for(var unitHasDecimal=!1,i=0;i<ordering.length;++i)if(m[ordering[i]]){if(unitHasDecimal)return!1;parseFloat(m[ordering[i]])!==toInt(m[ordering[i]])&&(unitHasDecimal=!0)}return!0}(normalizedInput),this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+1e3*hours*60*60,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function absRound(number){return number<0?-1*Math.round(-1*number):Math.round(number)}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return offset<0&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(matcher,string){var matches=(string||"").match(matcher);if(null===matches)return null;var parts=((matches[matches.length-1]||[])+"").match(chunkOffset)||["-",0,0],minutes=60*parts[1]+toInt(parts[2]);return 0===minutes?0:"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?input.valueOf():createLocal(input).valueOf())-res.valueOf(),res._d.setTime(res._d.valueOf()+diff),hooks.updateOffset(res,!1),res):createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}hooks.updateOffset=function(){};var aspNetRegex=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:isNumber(input)?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(absRound(1e3*match[MILLISECOND]))*sign}):(match=isoRegex.exec(input))?(sign="-"===match[1]?-1:(match[1],1),duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=function(base,other){var res;if(!base.isValid()||!other.isValid())return{milliseconds:0,months:0};other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):((res=positiveMomentsDifference(other,base)).milliseconds=-res.milliseconds,res.months=-res.months);return res}(createLocal(duration.from),createLocal(duration.to)),(duration={}).ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function createAdder(direction,name){return function(val,period){var tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),tmp=val,val=period,period=tmp),addSubtract(this,createDuration(val="string"==typeof val?+val:val,period),direction),this}}function addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);mom.isValid()&&(updateOffset=null==updateOffset||updateOffset,months&&setMonth(mom,get(mom,"Month")+months*isAdding),days&&set$1(mom,"Date",get(mom,"Date")+days*isAdding),milliseconds&&mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding),updateOffset&&hooks.updateOffset(mom,days||months))}createDuration.fn=Duration.prototype,createDuration.invalid=function(){return createDuration(NaN)};var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function monthDiff(a,b){var wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return-(wholeMonthDiff+(b-anchor<0?(b-anchor)/(anchor-a.clone().add(wholeMonthDiff-1,"months")):(b-anchor)/(a.clone().add(wholeMonthDiff+1,"months")-anchor)))||0}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(null!=(newLocaleData=getLocale(key))&&(this._locale=newLocaleData),this)}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});function localeData(){return this._locale}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;return null==input?weekOfYear(this,dow,doy).year:(week>(weeksTarget=weeksInYear(input,dow,doy))&&(week=weeksTarget),function(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);return this.year(date.getUTCFullYear()),this.month(date.getUTCMonth()),this.date(date.getUTCDate()),this}.call(this,input,week,weekday,dow,doy))}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._dayOfMonthOrdinalParse||locale._ordinalParse:locale._dayOfMonthOrdinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var token,getSetSecond=makeGetSet("Seconds",!1);for(addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3),token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var proto=Moment.prototype;function preParsePostFormat(string){return string}proto.add=add,proto.calendar=function(time,formats){var now=time||createLocal(),sod=cloneWithOffset(now,this).startOf("day"),format=hooks.calendarFormat(this,sod)||"sameElse",output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,createLocal(now)))},proto.clone=function(){return new Moment(this)},proto.diff=function(input,units,asFloat){var that,zoneDelta,output;if(!this.isValid())return NaN;if(!(that=cloneWithOffset(input,this)).isValid())return NaN;switch(zoneDelta=6e4*(that.utcOffset()-this.utcOffset()),units=normalizeUnits(units)){case"year":output=monthDiff(this,that)/12;break;case"month":output=monthDiff(this,that);break;case"quarter":output=monthDiff(this,that)/3;break;case"second":output=(this-that)/1e3;break;case"minute":output=(this-that)/6e4;break;case"hour":output=(this-that)/36e5;break;case"day":output=(this-that-zoneDelta)/864e5;break;case"week":output=(this-that-zoneDelta)/6048e5;break;default:output=this-that}return asFloat?output:absFloor(output)},proto.endOf=function(units){return void 0===(units=normalizeUnits(units))||"millisecond"===units?this:("date"===units&&(units="day"),this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms"))},proto.format=function(inputString){inputString||(inputString=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var output=formatMoment(this,inputString);return this.localeData().postformat(output)},proto.from=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},proto.fromNow=function(withoutSuffix){return this.from(createLocal(),withoutSuffix)},proto.to=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},proto.toNow=function(withoutSuffix){return this.to(createLocal(),withoutSuffix)},proto.get=function(units){return isFunction(this[units=normalizeUnits(units)])?this[units]():this},proto.invalidAt=function(){return getParsingFlags(this).overflow},proto.isAfter=function(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(isUndefined(units)?"millisecond":units))?this.valueOf()>localInput.valueOf():localInput.valueOf()<this.clone().startOf(units).valueOf())},proto.isBefore=function(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(isUndefined(units)?"millisecond":units))?this.valueOf()<localInput.valueOf():this.clone().endOf(units).valueOf()<localInput.valueOf())},proto.isBetween=function(from,to,units,inclusivity){return("("===(inclusivity=inclusivity||"()")[0]?this.isAfter(from,units):!this.isBefore(from,units))&&(")"===inclusivity[1]?this.isBefore(to,units):!this.isAfter(to,units))},proto.isSame=function(input,units){var inputMs,localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(units||"millisecond"))?this.valueOf()===localInput.valueOf():(inputMs=localInput.valueOf(),this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf()))},proto.isSameOrAfter=function(input,units){return this.isSame(input,units)||this.isAfter(input,units)},proto.isSameOrBefore=function(input,units){return this.isSame(input,units)||this.isBefore(input,units)},proto.isValid=function(){return isValid(this)},proto.lang=lang,proto.locale=locale,proto.localeData=localeData,proto.max=prototypeMax,proto.min=prototypeMin,proto.parsingFlags=function(){return extend({},getParsingFlags(this))},proto.set=function(units,value){if("object"==typeof units)for(var prioritized=function(unitsObj){var units=[];for(var u in unitsObj)units.push({unit:u,priority:priorities[u]});return units.sort(function(a,b){return a.priority-b.priority}),units}(units=normalizeObjectUnits(units)),i=0;i<prioritized.length;i++)this[prioritized[i].unit](units[prioritized[i].unit]);else if(isFunction(this[units=normalizeUnits(units)]))return this[units](value);return this},proto.startOf=function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this},proto.subtract=subtract,proto.toArray=function(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]},proto.toObject=function(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}},proto.toDate=function(){return new Date(this.valueOf())},proto.toISOString=function(keepOffset){if(!this.isValid())return null;var utc=!0!==keepOffset,m=utc?this.clone().utc():this;return m.year()<0||m.year()>9999?formatMoment(m,utc?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction(Date.prototype.toISOString)?utc?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",formatMoment(m,"Z")):formatMoment(m,utc?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},proto.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var func="moment",zone="";this.isLocal()||(func=0===this.utcOffset()?"moment.utc":"moment.parseZone",zone="Z");var prefix="["+func+'("]',year=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",suffix=zone+'[")]';return this.format(prefix+year+"-MM-DD[T]HH:mm:ss.SSS"+suffix)},proto.toJSON=function(){return this.isValid()?this.toISOString():null},proto.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},proto.unix=function(){return Math.floor(this.valueOf()/1e3)},proto.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},proto.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},proto.year=getSetYear,proto.isLeapYear=function(){return isLeapYear(this.year())},proto.weekYear=function(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},proto.isoWeekYear=function(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)},proto.quarter=proto.quarters=function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},proto.month=getSetMonth,proto.daysInMonth=function(){return daysInMonth(this.year(),this.month())},proto.week=proto.weeks=function(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")},proto.isoWeek=proto.isoWeeks=function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")},proto.weeksInYear=function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},proto.isoWeeksInYear=function(){return weeksInYear(this.year(),1,4)},proto.date=getSetDayOfMonth,proto.day=proto.days=function(input){if(!this.isValid())return null!=input?this:NaN;var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=function(input,locale){return"string"!=typeof input?input:isNaN(input)?"number"==typeof(input=locale.weekdaysParse(input))?input:null:parseInt(input,10)}(input,this.localeData()),this.add(input-day,"d")):day},proto.weekday=function(input){if(!this.isValid())return null!=input?this:NaN;var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")},proto.isoWeekday=function(input){if(!this.isValid())return null!=input?this:NaN;if(null!=input){var weekday=function(input,locale){return"string"==typeof input?locale.weekdaysParse(input)%7||7:isNaN(input)?null:input}(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7)}return this.day()||7},proto.dayOfYear=function(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")},proto.hour=proto.hours=getSetHour,proto.minute=proto.minutes=getSetMinute,proto.second=proto.seconds=getSetSecond,proto.millisecond=proto.milliseconds=getSetMillisecond,proto.utcOffset=function(input,keepLocalTime,keepMinutes){var localAdjust,offset=this._offset||0;if(!this.isValid())return null!=input?this:NaN;if(null!=input){if("string"==typeof input){if(null===(input=offsetFromString(matchShortOffset,input)))return this}else Math.abs(input)<16&&!keepMinutes&&(input*=60);return!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?addSubtract(this,createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?offset:getDateOffset(this)},proto.utc=function(keepLocalTime){return this.utcOffset(0,keepLocalTime)},proto.local=function(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this},proto.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var tZone=offsetFromString(matchOffset,this._i);null!=tZone?this.utcOffset(tZone):this.utcOffset(0,!0)}return this},proto.hasAlignedHourOffset=function(input){return!!this.isValid()&&(input=input?createLocal(input).utcOffset():0,(this.utcOffset()-input)%60==0)},proto.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},proto.isLocal=function(){return!!this.isValid()&&!this._isUTC},proto.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},proto.isUtc=isUtc,proto.isUTC=isUtc,proto.zoneAbbr=function(){return this._isUTC?"UTC":""},proto.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}),proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var c={};if(copyConfig(c,this),(c=prepareConfig(c))._a){var other=c._isUTC?createUTC(c._a):createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var proto$1=Locale.prototype;function get$1(format,index,field,setter){var locale=getLocale(),utc=createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){if(isNumber(format)&&(index=format,format=void 0),format=format||"",null!=index)return get$1(format,index,field,"month");var i,out=[];for(i=0;i<12;i++)out[i]=get$1(format,i,field,"month");return out}function listWeekdaysImpl(localeSorted,format,index,field){"boolean"==typeof localeSorted?(isNumber(format)&&(index=format,format=void 0),format=format||""):(index=format=localeSorted,localeSorted=!1,isNumber(format)&&(index=format,format=void 0),format=format||"");var i,locale=getLocale(),shift=localeSorted?locale._week.dow:0;if(null!=index)return get$1(format,(index+shift)%7,field,"day");var out=[];for(i=0;i<7;i++)out[i]=get$1(format,(i+shift)%7,field,"day");return out}proto$1.calendar=function(key,mom,now){var output=this._calendar[key]||this._calendar.sameElse;return isFunction(output)?output.call(mom,now):output},proto$1.longDateFormat=function(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])},proto$1.invalidDate=function(){return this._invalidDate},proto$1.ordinal=function(number){return this._ordinal.replace("%d",number)},proto$1.preparse=preParsePostFormat,proto$1.postformat=preParsePostFormat,proto$1.relativeTime=function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},proto$1.pastFuture=function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)},proto$1.set=function(config){var prop,i;for(i in config)isFunction(prop=config[i])?this[i]=prop:this["_"+i]=prop;this._config=config,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},proto$1.months=function(m,format){return m?isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?"format":"standalone"][m.month()]:isArray(this._months)?this._months:this._months.standalone},proto$1.monthsShort=function(m,format){return m?isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},proto$1.monthsParse=function(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact)return function(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)mom=createUTC([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase();return strict?"MMM"===format?-1!==(ii=indexOf.call(this._shortMonthsParse,llc))?ii:null:-1!==(ii=indexOf.call(this._longMonthsParse,llc))?ii:null:"MMM"===format?-1!==(ii=indexOf.call(this._shortMonthsParse,llc))?ii:-1!==(ii=indexOf.call(this._longMonthsParse,llc))?ii:null:-1!==(ii=indexOf.call(this._longMonthsParse,llc))?ii:-1!==(ii=indexOf.call(this._shortMonthsParse,llc))?ii:null}.call(this,monthName,format,strict);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(mom=createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}},proto$1.monthsRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex)},proto$1.monthsShortRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex)},proto$1.week=function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},proto$1.firstDayOfYear=function(){return this._week.doy},proto$1.firstDayOfWeek=function(){return this._week.dow},proto$1.weekdays=function(m,format){return m?isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]:isArray(this._weekdays)?this._weekdays:this._weekdays.standalone},proto$1.weekdaysMin=function(m){return m?this._weekdaysMin[m.day()]:this._weekdaysMin},proto$1.weekdaysShort=function(m){return m?this._weekdaysShort[m.day()]:this._weekdaysShort},proto$1.weekdaysParse=function(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact)return function(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)mom=createUTC([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase();return strict?"dddd"===format?-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:null:"ddd"===format?-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:null:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:null:"dddd"===format?-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:null:"ddd"===format?-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:null:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:null}.call(this,weekdayName,format,strict);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(mom=createUTC([2e3,1]).day(i),strict&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"dddd"===format&&this._fullWeekdaysParse[i].test(weekdayName))return i;if(strict&&"ddd"===format&&this._shortWeekdaysParse[i].test(weekdayName))return i;if(strict&&"dd"===format&&this._minWeekdaysParse[i].test(weekdayName))return i;if(!strict&&this._weekdaysParse[i].test(weekdayName))return i}},proto$1.weekdaysRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex)},proto$1.weekdaysShortRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},proto$1.weekdaysMinRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},proto$1.isPM=function(input){return"p"===(input+"").toLowerCase().charAt(0)},proto$1.meridiem=function(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"},getSetGlobalLocale("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10;return number+(1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function addSubtract$1(duration,input,value,direction){var other=createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function absCeil(number){return number<0?Math.floor(number):Math.ceil(number)}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function makeAs(alias){return function(){return this.as(alias)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y");function makeGetter(name){return function(){return this.isValid()?this._data[name]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");var round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,M:11};var abs$1=Math.abs;function sign(x){return(x>0)-(x<0)||+x}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var minutes,hours,seconds=abs$1(this._milliseconds)/1e3,days=abs$1(this._days),months=abs$1(this._months);hours=absFloor((minutes=absFloor(seconds/60))/60),seconds%=60,minutes%=60;var Y=absFloor(months/12),M=months%=12,D=days,h=hours,m=minutes,s=seconds?seconds.toFixed(3).replace(/\.?0+$/,""):"",total=this.asSeconds();if(!total)return"P0D";var totalSign=total<0?"-":"",ymSign=sign(this._months)!==sign(total)?"-":"",daysSign=sign(this._days)!==sign(total)?"-":"",hmsSign=sign(this._milliseconds)!==sign(total)?"-":"";return totalSign+"P"+(Y?ymSign+Y+"Y":"")+(M?ymSign+M+"M":"")+(D?daysSign+D+"D":"")+(h||m||s?"T":"")+(h?hmsSign+h+"H":"")+(m?hmsSign+m+"M":"")+(s?hmsSign+s+"S":"")}var proto$2=Duration.prototype;return proto$2.isValid=function(){return this._isValid},proto$2.abs=function(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this},proto$2.add=function(input,value){return addSubtract$1(this,input,value,1)},proto$2.subtract=function(input,value){return addSubtract$1(this,input,value,-1)},proto$2.as=function(units){if(!this.isValid())return NaN;var days,months,milliseconds=this._milliseconds;if("month"===(units=normalizeUnits(units))||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}},proto$2.asMilliseconds=asMilliseconds,proto$2.asSeconds=asSeconds,proto$2.asMinutes=asMinutes,proto$2.asHours=asHours,proto$2.asDays=asDays,proto$2.asWeeks=asWeeks,proto$2.asMonths=asMonths,proto$2.asYears=asYears,proto$2.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN},proto$2._bubble=function(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return milliseconds>=0&&days>=0&&months>=0||milliseconds<=0&&days<=0&&months<=0||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,months+=monthsFromDays=absFloor(daysToMonths(days+=absFloor(hours/24))),days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this},proto$2.clone=function(){return createDuration(this)},proto$2.get=function(units){return units=normalizeUnits(units),this.isValid()?this[units+"s"]():NaN},proto$2.milliseconds=milliseconds,proto$2.seconds=seconds,proto$2.minutes=minutes,proto$2.hours=hours,proto$2.days=days,proto$2.weeks=function(){return absFloor(this.days()/7)},proto$2.months=months,proto$2.years=years,proto$2.humanize=function(withSuffix){if(!this.isValid())return this.localeData().invalidDate();var locale=this.localeData(),output=function(posNegDuration,withoutSuffix,locale){var duration=createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<=thresholds.ss&&["s",seconds]||seconds<thresholds.s&&["ss",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=+posNegDuration>0,a[4]=locale,function(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}.apply(null,a)}(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)},proto$2.toISOString=toISOString$1,proto$2.toString=toISOString$1,proto$2.toJSON=toISOString$1,proto$2.locale=locale,proto$2.localeData=localeData,proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),proto$2.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",/[+-]?\d+(\.\d{1,3})?/),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),hooks.version="2.22.2",hookCallback=createLocal,hooks.fn=proto,hooks.min=function(){return pickBy("isBefore",[].slice.call(arguments,0))},hooks.max=function(){return pickBy("isAfter",[].slice.call(arguments,0))},hooks.now=function(){return Date.now?Date.now():+new Date},hooks.utc=createUTC,hooks.unix=function(input){return createLocal(1e3*input)},hooks.months=function(format,index){return listMonthsImpl(format,index,"months")},hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")},hooks.parseZone=function(){return createLocal.apply(null,arguments).parseZone()},hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=function(format,index){return listMonthsImpl(format,index,"monthsShort")},hooks.weekdaysMin=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")},hooks.defineLocale=defineLocale,hooks.updateLocale=function(name,config){if(null!=config){var locale,tmpLocale,parentConfig=baseConfig;null!=(tmpLocale=loadLocale(name))&&(parentConfig=tmpLocale._config),(locale=new Locale(config=mergeConfigs(parentConfig,config))).parentLocale=locales[name],locales[name]=locale,getSetGlobalLocale(name)}else null!=locales[name]&&(null!=locales[name].parentLocale?locales[name]=locales[name].parentLocale:null!=locales[name]&&delete locales[name]);return locales[name]},hooks.locales=function(){return keys(locales)},hooks.weekdaysShort=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")},hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=function(roundingFunction){return void 0===roundingFunction?round:"function"==typeof roundingFunction&&(round=roundingFunction,!0)},hooks.relativeTimeThreshold=function(threshold,limit){return void 0!==thresholds[threshold]&&(void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,"s"===threshold&&(thresholds.ss=limit-1),!0))},hooks.calendarFormat=function(myMoment,now){var diff=myMoment.diff(now,"days",!0);return diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse"},hooks.prototype=proto,hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},hooks},"object"==typeof exports&&void 0!==module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()},{}],123:[function(require,module,exports){var apply,curry,flip,fix,over,memoize,slice$=[].slice,toString$={}.toString;function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];return context=bound&&context||this,params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}apply=curry$(function(f,list){return f.apply(null,list)}),curry=function(f){return curry$(f)},flip=curry$(function(f,x,y){return f(y,x)}),fix=function(f){return g=function(g){return function(){return f(g(g)).apply(null,arguments)}},function(){return f(g(g)).apply(null,arguments)};var g},over=curry$(function(f,g,x,y){return f(g(x),g(y))}),memoize=function(f){var memo;return memo={},function(){var args,key,arg;return args=slice$.call(arguments),key=function(){var i$,ref$,len$,results$=[];for(i$=0,len$=(ref$=args).length;i$<len$;++i$)arg=ref$[i$],results$.push(arg+toString$.call(arg).slice(8,-1));return results$}().join(""),memo[key]=key in memo?memo[key]:f.apply(null,args)}},module.exports={curry:curry,flip:flip,fix:fix,apply:apply,over:over,memoize:memoize}},{}],124:[function(require,module,exports){var each,map,compact,filter,reject,partition,find,head,first,tail,last,initial,empty,reverse,unique,uniqueBy,fold,foldl,fold1,foldl1,foldr,foldr1,unfoldr,concat,concatMap,flatten,difference,intersection,union,countBy,groupBy,andList,orList,any,all,sort,sortWith,sortBy,sum,product,mean,average,maximum,minimum,maximumBy,minimumBy,scan,scanl,scan1,scanl1,scanr,scanr1,slice,take,drop,splitAt,takeWhile,dropWhile,span,breakList,zip,zipWith,zipAll,zipAllWith,at,elemIndex,elemIndices,findIndex,findIndices,toString$={}.toString,slice$=[].slice;function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];return context=bound&&context||this,params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}function in$(x,xs){for(var i=-1,l=xs.length>>>0;++i<l;)if(x===xs[i])return!0;return!1}function not$(x){return!x}each=curry$(function(f,xs){var i$,len$;for(i$=0,len$=xs.length;i$<len$;++i$)f(xs[i$]);return xs}),map=curry$(function(f,xs){var i$,len$,x,results$=[];for(i$=0,len$=xs.length;i$<len$;++i$)x=xs[i$],results$.push(f(x));return results$}),compact=function(xs){var i$,len$,x,results$=[];for(i$=0,len$=xs.length;i$<len$;++i$)(x=xs[i$])&&results$.push(x);return results$},filter=curry$(function(f,xs){var i$,len$,x,results$=[];for(i$=0,len$=xs.length;i$<len$;++i$)f(x=xs[i$])&&results$.push(x);return results$}),reject=curry$(function(f,xs){var i$,len$,x,results$=[];for(i$=0,len$=xs.length;i$<len$;++i$)f(x=xs[i$])||results$.push(x);return results$}),partition=curry$(function(f,xs){var passed,failed,i$,len$,x;for(passed=[],failed=[],i$=0,len$=xs.length;i$<len$;++i$)(f(x=xs[i$])?passed:failed).push(x);return[passed,failed]}),find=curry$(function(f,xs){var i$,len$,x;for(i$=0,len$=xs.length;i$<len$;++i$)if(f(x=xs[i$]))return x}),head=first=function(xs){return xs[0]},tail=function(xs){if(xs.length)return xs.slice(1)},last=function(xs){return xs[xs.length-1]},initial=function(xs){if(xs.length)return xs.slice(0,-1)},empty=function(xs){return!xs.length},reverse=function(xs){return xs.concat().reverse()},unique=function(xs){var result,i$,len$,x;for(result=[],i$=0,len$=xs.length;i$<len$;++i$)in$(x=xs[i$],result)||result.push(x);return result},uniqueBy=curry$(function(f,xs){var seen,i$,len$,x,val,results$=[];for(seen=[],i$=0,len$=xs.length;i$<len$;++i$)in$(val=f(x=xs[i$]),seen)||(seen.push(val),results$.push(x));return results$}),fold=foldl=curry$(function(f,memo,xs){var i$,len$;for(i$=0,len$=xs.length;i$<len$;++i$)memo=f(memo,xs[i$]);return memo}),fold1=foldl1=curry$(function(f,xs){return fold(f,xs[0],xs.slice(1))}),foldr=curry$(function(f,memo,xs){var i$;for(i$=xs.length-1;i$>=0;--i$)memo=f(xs[i$],memo);return memo}),foldr1=curry$(function(f,xs){return foldr(f,xs[xs.length-1],xs.slice(0,-1))}),unfoldr=curry$(function(f,b){var result,x,that;for(result=[],x=b;null!=(that=f(x));)result.push(that[0]),x=that[1];return result}),concat=function(xss){return[].concat.apply([],xss)},concatMap=curry$(function(f,xs){var x;return[].concat.apply([],function(){var i$,ref$,len$,results$=[];for(i$=0,len$=(ref$=xs).length;i$<len$;++i$)x=ref$[i$],results$.push(f(x));return results$}())}),flatten=function(xs){var x;return[].concat.apply([],function(){var i$,ref$,len$,results$=[];for(i$=0,len$=(ref$=xs).length;i$<len$;++i$)x=ref$[i$],"Array"===toString$.call(x).slice(8,-1)?results$.push(flatten(x)):results$.push(x);return results$}())},difference=function(xs){var yss,results,i$,len$,x,j$,len1$;yss=slice$.call(arguments,1),results=[];outer:for(i$=0,len$=xs.length;i$<len$;++i$){for(x=xs[i$],j$=0,len1$=yss.length;j$<len1$;++j$)if(in$(x,yss[j$]))continue outer;results.push(x)}return results},intersection=function(xs){var yss,results,i$,len$,x,j$,len1$;yss=slice$.call(arguments,1),results=[];outer:for(i$=0,len$=xs.length;i$<len$;++i$){for(x=xs[i$],j$=0,len1$=yss.length;j$<len1$;++j$)if(!in$(x,yss[j$]))continue outer;results.push(x)}return results},union=function(){var xss,results,i$,len$,xs,j$,len1$,x;for(results=[],i$=0,len$=(xss=slice$.call(arguments)).length;i$<len$;++i$)for(j$=0,len1$=(xs=xss[i$]).length;j$<len1$;++j$)in$(x=xs[j$],results)||results.push(x);return results},countBy=curry$(function(f,xs){var results,i$,len$,key;for(results={},i$=0,len$=xs.length;i$<len$;++i$)(key=f(xs[i$]))in results?results[key]+=1:results[key]=1;return results}),groupBy=curry$(function(f,xs){var results,i$,len$,x,key;for(results={},i$=0,len$=xs.length;i$<len$;++i$)(key=f(x=xs[i$]))in results?results[key].push(x):results[key]=[x];return results}),andList=function(xs){var i$,len$;for(i$=0,len$=xs.length;i$<len$;++i$)if(!xs[i$])return!1;return!0},orList=function(xs){var i$,len$;for(i$=0,len$=xs.length;i$<len$;++i$)if(xs[i$])return!0;return!1},any=curry$(function(f,xs){var i$,len$;for(i$=0,len$=xs.length;i$<len$;++i$)if(f(xs[i$]))return!0;return!1}),all=curry$(function(f,xs){var i$,len$;for(i$=0,len$=xs.length;i$<len$;++i$)if(!f(xs[i$]))return!1;return!0}),sort=function(xs){return xs.concat().sort(function(x,y){return x>y?1:x<y?-1:0})},sortWith=curry$(function(f,xs){return xs.concat().sort(f)}),sortBy=curry$(function(f,xs){return xs.concat().sort(function(x,y){return f(x)>f(y)?1:f(x)<f(y)?-1:0})}),sum=function(xs){var result,i$,len$;for(result=0,i$=0,len$=xs.length;i$<len$;++i$)result+=xs[i$];return result},product=function(xs){var result,i$,len$;for(result=1,i$=0,len$=xs.length;i$<len$;++i$)result*=xs[i$];return result},mean=average=function(xs){var sum,i$,len$;for(sum=0,i$=0,len$=xs.length;i$<len$;++i$)sum+=xs[i$];return sum/xs.length},maximum=function(xs){var max,i$,ref$,len$,x;for(max=xs[0],i$=0,len$=(ref$=xs.slice(1)).length;i$<len$;++i$)(x=ref$[i$])>max&&(max=x);return max},minimum=function(xs){var min,i$,ref$,len$,x;for(min=xs[0],i$=0,len$=(ref$=xs.slice(1)).length;i$<len$;++i$)(x=ref$[i$])<min&&(min=x);return min},maximumBy=curry$(function(f,xs){var max,i$,ref$,len$,x;for(max=xs[0],i$=0,len$=(ref$=xs.slice(1)).length;i$<len$;++i$)f(x=ref$[i$])>f(max)&&(max=x);return max}),minimumBy=curry$(function(f,xs){var min,i$,ref$,len$,x;for(min=xs[0],i$=0,len$=(ref$=xs.slice(1)).length;i$<len$;++i$)f(x=ref$[i$])<f(min)&&(min=x);return min}),scan=scanl=curry$(function(f,memo,xs){var last,x;return last=memo,[memo].concat(function(){var i$,ref$,len$,results$=[];for(i$=0,len$=(ref$=xs).length;i$<len$;++i$)x=ref$[i$],results$.push(last=f(last,x));return results$}())}),scan1=scanl1=curry$(function(f,xs){if(xs.length)return scan(f,xs[0],xs.slice(1))}),scanr=curry$(function(f,memo,xs){return xs=xs.concat().reverse(),scan(f,memo,xs).reverse()}),scanr1=curry$(function(f,xs){if(xs.length)return xs=xs.concat().reverse(),scan(f,xs[0],xs.slice(1)).reverse()}),slice=curry$(function(x,y,xs){return xs.slice(x,y)}),take=curry$(function(n,xs){return n<=0?xs.slice(0,0):xs.slice(0,n)}),drop=curry$(function(n,xs){return n<=0?xs:xs.slice(n)}),splitAt=curry$(function(n,xs){return[take(n,xs),drop(n,xs)]}),takeWhile=curry$(function(p,xs){var len,i;if(!(len=xs.length))return xs;for(i=0;i<len&&p(xs[i]);)i+=1;return xs.slice(0,i)}),dropWhile=curry$(function(p,xs){var len,i;if(!(len=xs.length))return xs;for(i=0;i<len&&p(xs[i]);)i+=1;return xs.slice(i)}),span=curry$(function(p,xs){return[takeWhile(p,xs),dropWhile(p,xs)]}),breakList=curry$(function(p,xs){return span(function(){var functions=arguments;return function(){var i,result;for(result=functions[0].apply(this,arguments),i=1;i<functions.length;++i)result=functions[i](result);return result}}(p,not$),xs)}),zip=curry$(function(xs,ys){var result,len,i$,len$,i,x;for(result=[],len=ys.length,i$=0,len$=xs.length;i$<len$&&(i=i$,x=xs[i$],i!==len);++i$)result.push([x,ys[i]]);return result}),zipWith=curry$(function(f,xs,ys){var result,len,i$,len$,i,x;for(result=[],len=ys.length,i$=0,len$=xs.length;i$<len$&&(i=i$,x=xs[i$],i!==len);++i$)result.push(f(x,ys[i]));return result}),zipAll=function(){var xss,minLength,i$,len$,xs,ref$,i,lresult$,j$,results$=[];for(minLength=void 0,i$=0,len$=(xss=slice$.call(arguments)).length;i$<len$;++i$)minLength<=(ref$=(xs=xss[i$]).length)||(minLength=ref$);for(i$=0;i$<minLength;++i$){for(i=i$,lresult$=[],j$=0,len$=xss.length;j$<len$;++j$)xs=xss[j$],lresult$.push(xs[i]);results$.push(lresult$)}return results$},zipAllWith=function(f){var xss,minLength,i$,len$,xs,ref$,i,results$=[];for(minLength=void 0,i$=0,len$=(xss=slice$.call(arguments,1)).length;i$<len$;++i$)minLength<=(ref$=(xs=xss[i$]).length)||(minLength=ref$);for(i$=0;i$<minLength;++i$)i=i$,results$.push(f.apply(null,fn$()));return results$;function fn$(){var i$,ref$,len$,results$=[];for(i$=0,len$=(ref$=xss).length;i$<len$;++i$)xs=ref$[i$],results$.push(xs[i]);return results$}},at=curry$(function(n,xs){return n<0?xs[xs.length+n]:xs[n]}),elemIndex=curry$(function(el,xs){var i$,len$,i;for(i$=0,len$=xs.length;i$<len$;++i$)if(i=i$,xs[i$]===el)return i}),elemIndices=curry$(function(el,xs){var i$,len$,i,results$=[];for(i$=0,len$=xs.length;i$<len$;++i$)i=i$,xs[i$]===el&&results$.push(i);return results$}),findIndex=curry$(function(f,xs){var i$,len$,i;for(i$=0,len$=xs.length;i$<len$;++i$)if(i=i$,f(xs[i$]))return i}),findIndices=curry$(function(f,xs){var i$,len$,i,results$=[];for(i$=0,len$=xs.length;i$<len$;++i$)i=i$,f(xs[i$])&&results$.push(i);return results$}),module.exports={each:each,map:map,filter:filter,compact:compact,reject:reject,partition:partition,find:find,head:head,first:first,tail:tail,last:last,initial:initial,empty:empty,reverse:reverse,difference:difference,intersection:intersection,union:union,countBy:countBy,groupBy:groupBy,fold:fold,fold1:fold1,foldl:foldl,foldl1:foldl1,foldr:foldr,foldr1:foldr1,unfoldr:unfoldr,andList:andList,orList:orList,any:any,all:all,unique:unique,uniqueBy:uniqueBy,sort:sort,sortWith:sortWith,sortBy:sortBy,sum:sum,product:product,mean:mean,average:average,concat:concat,concatMap:concatMap,flatten:flatten,maximum:maximum,minimum:minimum,maximumBy:maximumBy,minimumBy:minimumBy,scan:scan,scan1:scan1,scanl:scanl,scanl1:scanl1,scanr:scanr,scanr1:scanr1,slice:slice,take:take,drop:drop,splitAt:splitAt,takeWhile:takeWhile,dropWhile:dropWhile,span:span,breakList:breakList,zip:zip,zipWith:zipWith,zipAll:zipAll,zipAllWith:zipAllWith,at:at,elemIndex:elemIndex,elemIndices:elemIndices,findIndex:findIndex,findIndices:findIndices}},{}],125:[function(require,module,exports){var max,min,negate,abs,signum,quot,rem,div,mod,recip,pi,tau,exp,sqrt,ln,pow,sin,tan,cos,asin,acos,atan,atan2,truncate,round,ceiling,floor,isItNaN,even,odd,gcd,lcm;function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];return context=bound&&context||this,params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}max=curry$(function(x$,y$){return x$>y$?x$:y$}),min=curry$(function(x$,y$){return x$<y$?x$:y$}),negate=function(x){return-x},abs=Math.abs,signum=function(x){return x<0?-1:x>0?1:0},quot=curry$(function(x,y){return~~(x/y)}),rem=curry$(function(x$,y$){return x$%y$}),div=curry$(function(x,y){return Math.floor(x/y)}),mod=curry$(function(x$,y$){var ref$;return(x$%(ref$=y$)+ref$)%ref$}),recip=function(it){return 1/it},tau=2*(pi=Math.PI),exp=Math.exp,sqrt=Math.sqrt,ln=Math.log,pow=curry$(function(x$,y$){return Math.pow(x$,y$)}),sin=Math.sin,tan=Math.tan,cos=Math.cos,asin=Math.asin,acos=Math.acos,atan=Math.atan,atan2=curry$(function(x,y){return Math.atan2(x,y)}),truncate=function(x){return~~x},round=Math.round,ceiling=Math.ceil,floor=Math.floor,isItNaN=function(x){return x!=x},even=function(x){return x%2==0},odd=function(x){return x%2!=0},gcd=curry$(function(x,y){var z;for(x=Math.abs(x),y=Math.abs(y);0!==y;)z=x%y,x=y,y=z;return x}),lcm=curry$(function(x,y){return Math.abs(Math.floor(x/gcd(x,y)*y))}),module.exports={max:max,min:min,negate:negate,abs:abs,signum:signum,quot:quot,rem:rem,div:div,mod:mod,recip:recip,pi:pi,tau:tau,exp:exp,sqrt:sqrt,ln:ln,pow:pow,sin:sin,tan:tan,cos:cos,acos:acos,asin:asin,atan:atan,atan2:atan2,truncate:truncate,round:round,ceiling:ceiling,floor:floor,isItNaN:isItNaN,even:even,odd:odd,gcd:gcd,lcm:lcm}},{}],126:[function(require,module,exports){var values,keys,pairsToObj,objToPairs,listsToObj,objToLists,empty,each,map,compact,filter,reject,partition,find;function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];return context=bound&&context||this,params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}values=function(object){var i$,x,results$=[];for(i$ in object)x=object[i$],results$.push(x);return results$},keys=function(object){var x,results$=[];for(x in object)results$.push(x);return results$},pairsToObj=function(object){var i$,len$,x,resultObj$={};for(i$=0,len$=object.length;i$<len$;++i$)resultObj$[(x=object[i$])[0]]=x[1];return resultObj$},objToPairs=function(object){var key,value,results$=[];for(key in object)value=object[key],results$.push([key,value]);return results$},listsToObj=curry$(function(keys,values){var i$,len$,i,resultObj$={};for(i$=0,len$=keys.length;i$<len$;++i$)i=i$,resultObj$[keys[i$]]=values[i];return resultObj$}),objToLists=function(object){var keys,values,key,value;for(key in keys=[],values=[],object)value=object[key],keys.push(key),values.push(value);return[keys,values]},empty=function(object){var x;for(x in object)return!1;return!0},each=curry$(function(f,object){var i$;for(i$ in object)f(object[i$]);return object}),map=curry$(function(f,object){var k,x,resultObj$={};for(k in object)x=object[k],resultObj$[k]=f(x);return resultObj$}),compact=function(object){var k,x,resultObj$={};for(k in object)(x=object[k])&&(resultObj$[k]=x);return resultObj$},filter=curry$(function(f,object){var k,x,resultObj$={};for(k in object)f(x=object[k])&&(resultObj$[k]=x);return resultObj$}),reject=curry$(function(f,object){var k,x,resultObj$={};for(k in object)f(x=object[k])||(resultObj$[k]=x);return resultObj$}),partition=curry$(function(f,object){var passed,failed,k,x;for(k in passed={},failed={},object)(f(x=object[k])?passed:failed)[k]=x;return[passed,failed]}),find=curry$(function(f,object){var i$,x;for(i$ in object)if(f(x=object[i$]))return x}),module.exports={values:values,keys:keys,pairsToObj:pairsToObj,objToPairs:objToPairs,listsToObj:listsToObj,objToLists:objToLists,empty:empty,each:each,map:map,filter:filter,compact:compact,reject:reject,partition:partition,find:find}},{}],127:[function(require,module,exports){var split,join,lines,unlines,words,unwords,chars,unchars,reverse,repeat,capitalize,camelize,dasherize;function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];return context=bound&&context||this,params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}split=curry$(function(sep,str){return str.split(sep)}),join=curry$(function(sep,xs){return xs.join(sep)}),lines=function(str){return str.length?str.split("\n"):[]},unlines=function(it){return it.join("\n")},words=function(str){return str.length?str.split(/[ ]+/):[]},unwords=function(it){return it.join(" ")},chars=function(it){return it.split("")},unchars=function(it){return it.join("")},reverse=function(str){return str.split("").reverse().join("")},repeat=curry$(function(n,str){var result,i$;for(result="",i$=0;i$<n;++i$)result+=str;return result}),capitalize=function(str){return str.charAt(0).toUpperCase()+str.slice(1)},camelize=function(it){return it.replace(/[-_]+(.)?/g,function(arg$,c){return(null!=c?c:"").toUpperCase()})},dasherize=function(str){return str.replace(/([^-A-Z])([A-Z]+)/g,function(arg$,lower,upper){return lower+"-"+(upper.length>1?upper:upper.toLowerCase())}).replace(/^([A-Z]+)/,function(arg$,upper){return upper.length>1?upper+"-":upper.toLowerCase()})},module.exports={split:split,join:join,lines:lines,unlines:unlines,words:words,unwords:unwords,chars:chars,unchars:unchars,reverse:reverse,repeat:repeat,capitalize:capitalize,camelize:camelize,dasherize:dasherize}},{}],128:[function(require,module,exports){var Func,List,Obj,Str,Num,id,isType,replicate,prelude,toString$={}.toString;function curry$(f,bound){var context,_curry=function(args){return f.length>1?function(){var params=args?args.concat():[];return context=bound&&context||this,params.push.apply(params,arguments)<f.length&&arguments.length?_curry.call(context,params):f.apply(context,params)}:f};return _curry()}Func=require("./Func.js"),List=require("./List.js"),Obj=require("./Obj.js"),Str=require("./Str.js"),Num=require("./Num.js"),id=function(x){return x},isType=curry$(function(type,x){return toString$.call(x).slice(8,-1)===type}),replicate=curry$(function(n,x){var i$,results$=[];for(i$=0;i$<n;++i$)results$.push(x);return results$}),Str.empty=List.empty,Str.slice=List.slice,Str.take=List.take,Str.drop=List.drop,Str.splitAt=List.splitAt,Str.takeWhile=List.takeWhile,Str.dropWhile=List.dropWhile,Str.span=List.span,Str.breakStr=List.breakList,(prelude={Func:Func,List:List,Obj:Obj,Str:Str,Num:Num,id:id,isType:isType,replicate:replicate}).each=List.each,prelude.map=List.map,prelude.filter=List.filter,prelude.compact=List.compact,prelude.reject=List.reject,prelude.partition=List.partition,prelude.find=List.find,prelude.head=List.head,prelude.first=List.first,prelude.tail=List.tail,prelude.last=List.last,prelude.initial=List.initial,prelude.empty=List.empty,prelude.reverse=List.reverse,prelude.difference=List.difference,prelude.intersection=List.intersection,prelude.union=List.union,prelude.countBy=List.countBy,prelude.groupBy=List.groupBy,prelude.fold=List.fold,prelude.foldl=List.foldl,prelude.fold1=List.fold1,prelude.foldl1=List.foldl1,prelude.foldr=List.foldr,prelude.foldr1=List.foldr1,prelude.unfoldr=List.unfoldr,prelude.andList=List.andList,prelude.orList=List.orList,prelude.any=List.any,prelude.all=List.all,prelude.unique=List.unique,prelude.uniqueBy=List.uniqueBy,prelude.sort=List.sort,prelude.sortWith=List.sortWith,prelude.sortBy=List.sortBy,prelude.sum=List.sum,prelude.product=List.product,prelude.mean=List.mean,prelude.average=List.average,prelude.concat=List.concat,prelude.concatMap=List.concatMap,prelude.flatten=List.flatten,prelude.maximum=List.maximum,prelude.minimum=List.minimum,prelude.maximumBy=List.maximumBy,prelude.minimumBy=List.minimumBy,prelude.scan=List.scan,prelude.scanl=List.scanl,prelude.scan1=List.scan1,prelude.scanl1=List.scanl1,prelude.scanr=List.scanr,prelude.scanr1=List.scanr1,prelude.slice=List.slice,prelude.take=List.take,prelude.drop=List.drop,prelude.splitAt=List.splitAt,prelude.takeWhile=List.takeWhile,prelude.dropWhile=List.dropWhile,prelude.span=List.span,prelude.breakList=List.breakList,prelude.zip=List.zip,prelude.zipWith=List.zipWith,prelude.zipAll=List.zipAll,prelude.zipAllWith=List.zipAllWith,prelude.at=List.at,prelude.elemIndex=List.elemIndex,prelude.elemIndices=List.elemIndices,prelude.findIndex=List.findIndex,prelude.findIndices=List.findIndices,prelude.apply=Func.apply,prelude.curry=Func.curry,prelude.flip=Func.flip,prelude.fix=Func.fix,prelude.over=Func.over,prelude.split=Str.split,prelude.join=Str.join,prelude.lines=Str.lines,prelude.unlines=Str.unlines,prelude.words=Str.words,prelude.unwords=Str.unwords,prelude.chars=Str.chars,prelude.unchars=Str.unchars,prelude.repeat=Str.repeat,prelude.capitalize=Str.capitalize,prelude.camelize=Str.camelize,prelude.dasherize=Str.dasherize,prelude.values=Obj.values,prelude.keys=Obj.keys,prelude.pairsToObj=Obj.pairsToObj,prelude.objToPairs=Obj.objToPairs,prelude.listsToObj=Obj.listsToObj,prelude.objToLists=Obj.objToLists,prelude.max=Num.max,prelude.min=Num.min,prelude.negate=Num.negate,prelude.abs=Num.abs,prelude.signum=Num.signum,prelude.quot=Num.quot,prelude.rem=Num.rem,prelude.div=Num.div,prelude.mod=Num.mod,prelude.recip=Num.recip,prelude.pi=Num.pi,prelude.tau=Num.tau,prelude.exp=Num.exp,prelude.sqrt=Num.sqrt,prelude.ln=Num.ln,prelude.pow=Num.pow,prelude.sin=Num.sin,prelude.tan=Num.tan,prelude.cos=Num.cos,prelude.acos=Num.acos,prelude.asin=Num.asin,prelude.atan=Num.atan,prelude.atan2=Num.atan2,prelude.truncate=Num.truncate,prelude.round=Num.round,prelude.ceiling=Num.ceiling,prelude.floor=Num.floor,prelude.isItNaN=Num.isItNaN,prelude.even=Num.even,prelude.odd=Num.odd,prelude.gcd=Num.gcd,prelude.lcm=Num.lcm,prelude.VERSION="1.1.2",module.exports=prelude},{"./Func.js":123,"./List.js":124,"./Num.js":125,"./Obj.js":126,"./Str.js":127}],129:[function(require,module,exports){var buffer=require("buffer"),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError("Argument must be a number");var buf=Buffer(size);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},{buffer:246}],130:[function(require,module,exports){(function(process,global){!function(global,undefined){"use strict";if(!global.setImmediate){var registerImmediate,html,channel,messagePrefix,onGlobalMessage,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,"[object process]"==={}.toString.call(global.process)?registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}:!function(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage("","*"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}()?global.MessageChannel?((channel=new MessageChannel).port1.onmessage=function(event){runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}):doc&&"onreadystatechange"in doc.createElement("script")?(html=doc.documentElement,registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}):registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}:(messagePrefix="setImmediate$"+Math.random()+"$",onGlobalMessage=function(event){event.source===global&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))},global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}),attachTo.setImmediate=function(callback){"function"!=typeof callback&&(callback=new Function(""+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++},attachTo.clearImmediate=clearImmediate}function clearImmediate(handle){delete tasksByHandle[handle]}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{!function(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args)}}(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}}("undefined"==typeof self?void 0===global?this:global:self)}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:332}],131:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;function Hash(blockSize,finalSize){this._block=Buffer.alloc(blockSize),this._finalSize=finalSize,this._blockSize=blockSize,this._len=0}Hash.prototype.update=function(data,enc){"string"==typeof data&&(enc=enc||"utf8",data=Buffer.from(data,enc));for(var block=this._block,blockSize=this._blockSize,length=data.length,accum=this._len,offset=0;offset<length;){for(var assigned=accum%blockSize,remainder=Math.min(length-offset,blockSize-assigned),i=0;i<remainder;i++)block[assigned+i]=data[offset+i];offset+=remainder,(accum+=remainder)%blockSize==0&&this._update(block)}return this._len+=length,this},Hash.prototype.digest=function(enc){var rem=this._len%this._blockSize;this._block[rem]=128,this._block.fill(0,rem+1),rem>=this._finalSize&&(this._update(this._block),this._block.fill(0));var bits=8*this._len;if(bits<=4294967295)this._block.writeUInt32BE(bits,this._blockSize-4);else{var lowBits=(4294967295&bits)>>>0,highBits=(bits-lowBits)/4294967296;this._block.writeUInt32BE(highBits,this._blockSize-8),this._block.writeUInt32BE(lowBits,this._blockSize-4)}this._update(this._block);var hash=this._hash();return enc?hash.toString(enc):hash},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=Hash},{"safe-buffer":129}],132:[function(require,module,exports){(exports=module.exports=function(algorithm){algorithm=algorithm.toLowerCase();var Algorithm=exports[algorithm];if(!Algorithm)throw new Error(algorithm+" is not supported (we accept pull requests)");return new Algorithm}).sha=require("./sha"),exports.sha1=require("./sha1"),exports.sha224=require("./sha224"),exports.sha256=require("./sha256"),exports.sha384=require("./sha384"),exports.sha512=require("./sha512")},{"./sha":133,"./sha1":134,"./sha224":135,"./sha256":136,"./sha384":137,"./sha512":138}],133:[function(require,module,exports){var inherits=require("inherits"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);function Sha(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){return 0===s?b&c|~b&d:2===s?b&c|b&d|c&d:b^c^d}inherits(Sha,Hash),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(M){for(var num,W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<80;++i)W[i]=W[i-3]^W[i-8]^W[i-14]^W[i-16];for(var j=0;j<80;++j){var s=~~(j/20),t=0|((num=a)<<5|num>>>27)+ft(s,b,c,d)+e+W[j]+K[s];e=d,d=c,c=rotl30(b),b=a,a=t}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha.prototype._hash=function(){var H=Buffer.allocUnsafe(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha},{"./hash":131,inherits:104,"safe-buffer":129}],134:[function(require,module,exports){var inherits=require("inherits"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);function Sha1(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){return 0===s?b&c|~b&d:2===s?b&c|b&d|c&d:b^c^d}inherits(Sha1,Hash),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(M){for(var num,W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<80;++i)W[i]=(num=W[i-3]^W[i-8]^W[i-14]^W[i-16])<<1|num>>>31;for(var j=0;j<80;++j){var s=~~(j/20),t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d,d=c,c=rotl30(b),b=a,a=t}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha1.prototype._hash=function(){var H=Buffer.allocUnsafe(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha1},{"./hash":131,inherits:104,"safe-buffer":129}],135:[function(require,module,exports){var inherits=require("inherits"),Sha256=require("./sha256"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,W=new Array(64);function Sha224(){this.init(),this._w=W,Hash.call(this,64,56)}inherits(Sha224,Sha256),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var H=Buffer.allocUnsafe(28);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H},module.exports=Sha224},{"./hash":131,"./sha256":136,inherits:104,"safe-buffer":129}],136:[function(require,module,exports){var inherits=require("inherits"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W=new Array(64);function Sha256(){this.init(),this._w=W,Hash.call(this,64,56)}function ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x){return(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10)}function sigma1(x){return(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7)}function gamma0(x){return(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3}inherits(Sha256,Hash),Sha256.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(M){for(var x,W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,f=0|this._f,g=0|this._g,h=0|this._h,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<64;++i)W[i]=0|(((x=W[i-2])>>>17|x<<15)^(x>>>19|x<<13)^x>>>10)+W[i-7]+gamma0(W[i-15])+W[i-16];for(var j=0;j<64;++j){var T1=h+sigma1(e)+ch(e,f,g)+K[j]+W[j]|0,T2=sigma0(a)+maj(a,b,c)|0;h=g,g=f,f=e,e=d+T1|0,d=c,c=b,b=a,a=T1+T2|0}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0,this._f=f+this._f|0,this._g=g+this._g|0,this._h=h+this._h|0},Sha256.prototype._hash=function(){var H=Buffer.allocUnsafe(32);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H.writeInt32BE(this._h,28),H},module.exports=Sha256},{"./hash":131,inherits:104,"safe-buffer":129}],137:[function(require,module,exports){var inherits=require("inherits"),SHA512=require("./sha512"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,W=new Array(160);function Sha384(){this.init(),this._w=W,Hash.call(this,128,112)}inherits(Sha384,SHA512),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){var H=Buffer.allocUnsafe(48);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),H},module.exports=Sha384},{"./hash":131,"./sha512":138,inherits:104,"safe-buffer":129}],138:[function(require,module,exports){var inherits=require("inherits"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W=new Array(160);function Sha512(){this.init(),this._w=W,Hash.call(this,128,112)}function Ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x,xl){return(x>>>28|xl<<4)^(xl>>>2|x<<30)^(xl>>>7|x<<25)}function sigma1(x,xl){return(x>>>14|xl<<18)^(x>>>18|xl<<14)^(xl>>>9|x<<23)}function Gamma0(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^x>>>7}function Gamma0l(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^(x>>>7|xl<<25)}function Gamma1(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^x>>>6}function Gamma1l(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^(x>>>6|xl<<26)}function getCarry(a,b){return a>>>0<b>>>0?1:0}inherits(Sha512,Hash),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(M){for(var W=this._w,ah=0|this._ah,bh=0|this._bh,ch=0|this._ch,dh=0|this._dh,eh=0|this._eh,fh=0|this._fh,gh=0|this._gh,hh=0|this._hh,al=0|this._al,bl=0|this._bl,cl=0|this._cl,dl=0|this._dl,el=0|this._el,fl=0|this._fl,gl=0|this._gl,hl=0|this._hl,i=0;i<32;i+=2)W[i]=M.readInt32BE(4*i),W[i+1]=M.readInt32BE(4*i+4);for(;i<160;i+=2){var xh=W[i-30],xl=W[i-30+1],gamma0=Gamma0(xh,xl),gamma0l=Gamma0l(xl,xh),gamma1=Gamma1(xh=W[i-4],xl=W[i-4+1]),gamma1l=Gamma1l(xl,xh),Wi7h=W[i-14],Wi7l=W[i-14+1],Wi16h=W[i-32],Wi16l=W[i-32+1],Wil=gamma0l+Wi7l|0,Wih=gamma0+Wi7h+getCarry(Wil,gamma0l)|0;Wih=(Wih=Wih+gamma1+getCarry(Wil=Wil+gamma1l|0,gamma1l)|0)+Wi16h+getCarry(Wil=Wil+Wi16l|0,Wi16l)|0,W[i]=Wih,W[i+1]=Wil}for(var j=0;j<160;j+=2){Wih=W[j],Wil=W[j+1];var majh=maj(ah,bh,ch),majl=maj(al,bl,cl),sigma0h=sigma0(ah,al),sigma0l=sigma0(al,ah),sigma1h=sigma1(eh,el),sigma1l=sigma1(el,eh),Kih=K[j],Kil=K[j+1],chh=Ch(eh,fh,gh),chl=Ch(el,fl,gl),t1l=hl+sigma1l|0,t1h=hh+sigma1h+getCarry(t1l,hl)|0;t1h=(t1h=(t1h=t1h+chh+getCarry(t1l=t1l+chl|0,chl)|0)+Kih+getCarry(t1l=t1l+Kil|0,Kil)|0)+Wih+getCarry(t1l=t1l+Wil|0,Wil)|0;var t2l=sigma0l+majl|0,t2h=sigma0h+majh+getCarry(t2l,sigma0l)|0;hh=gh,hl=gl,gh=fh,gl=fl,fh=eh,fl=el,eh=dh+t1h+getCarry(el=dl+t1l|0,dl)|0,dh=ch,dl=cl,ch=bh,cl=bl,bh=ah,bl=al,ah=t1h+t2h+getCarry(al=t1l+t2l|0,t1l)|0}this._al=this._al+al|0,this._bl=this._bl+bl|0,this._cl=this._cl+cl|0,this._dl=this._dl+dl|0,this._el=this._el+el|0,this._fl=this._fl+fl|0,this._gl=this._gl+gl|0,this._hl=this._hl+hl|0,this._ah=this._ah+ah+getCarry(this._al,al)|0,this._bh=this._bh+bh+getCarry(this._bl,bl)|0,this._ch=this._ch+ch+getCarry(this._cl,cl)|0,this._dh=this._dh+dh+getCarry(this._dl,dl)|0,this._eh=this._eh+eh+getCarry(this._el,el)|0,this._fh=this._fh+fh+getCarry(this._fl,fl)|0,this._gh=this._gh+gh+getCarry(this._gl,gl)|0,this._hh=this._hh+hh+getCarry(this._hl,hl)|0},Sha512.prototype._hash=function(){var H=Buffer.allocUnsafe(64);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),writeInt64BE(this._gh,this._gl,48),writeInt64BE(this._hh,this._hl,56),H},module.exports=Sha512},{"./hash":131,inherits:104,"safe-buffer":129}],139:[function(require,module,exports){"use strict";var crypto=require("crypto");function generateUuidSync(){var rnd=crypto.randomBytes(16);return rnd[6]=15&rnd[6]|64,rnd[8]=63&rnd[8]|128,(rnd=rnd.toString("hex").match(/(.{8})(.{4})(.{4})(.{4})(.{12})/)).shift(),rnd.join("-")}function generateUuidAsync(callback){crypto.randomBytes(16,function(err,rnd){rnd[6]=15&rnd[6]|64,rnd[8]=63&rnd[8]|128,(rnd=rnd.toString("hex").match(/(.{8})(.{4})(.{4})(.{4})(.{12})/)).shift(),callback(null,rnd.join("-"))})}function generateUuid(callback){return"function"!=typeof callback?generateUuidSync():generateUuidAsync(callback)}(exports=module.exports=generateUuid).async=generateUuidAsync,exports.sync=generateUuidSync,exports.valid=generateUuid},{crypto:254}],140:[function(require,module,exports){(function(setImmediate){var Actor,sleep,FpsExec,_x,uuid4,out$=void 0!==exports&&exports||this,toString$={}.toString,slice$=[].slice;Actor=require("../../src/actor").Actor,require("../../src/signal").Signal,sleep=require("../../lib/sleep").sleep,FpsExec=require("../../src/filters").FpsExec,require("../../src/topic-match").topicMatch,_x=0,uuid4=function(){return"some-random-"+_x++},out$.IoProxyClient=function(superclass){var prototype=function(sub,sup){function fun(){}fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub);return sub}(((function(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}(IoProxyClient,superclass)).displayName="IoProxyClient",IoProxyClient),superclass).prototype;function IoProxyClient(opts){var update,this$=this;null==opts&&(opts={}),this.route=opts.route||function(){throw"route is required."}(),this.timeout=opts.timeout||1e3,IoProxyClient.superclass.call(this,this.route),this.fps=new FpsExec(opts.fps||20,this),this.value=void 0,this.lastUpdate=0,this.debug=opts.debug,this.onTopic(this.route+"",function(msg){var that,value;return(that=msg.data.err)?this$.trigger("error",{message:that}):(value=msg.data.val,JSON.stringify(value)!==JSON.stringify(this$.value)&&(this$.trigger("change",value),"Boolean"===toString$.call(value).slice(8,-1)&&(!1===this$.value&&!0===value&&this$.trigger("r-edge"),!0===this$.value&&!1===value&&this$.trigger("f-edge"))),this$.lastUpdate=Date.now(),this$.value=value,this$.trigger("read",value,msg))}),update=function(callback){return callback||(callback=function(){}),this$.sendRequest({route:this$.route+""},{update:!0},function(err,msg){return err||msg.err?(this$.trigger("error",{message:err}),callback(err)):(this$.triggerTopic(this$.route+"",msg),callback(null))})},this.onEveryLogin(function(msg){return function lo(op){return update(function(err){return err?(this$.log.warn("Update error, retrying..."),sleep(1e3,function(){return lo(op)})):op()})}(function(){})})}return prototype.rEdge=function(callback){this.once("r-edge",callback)},prototype.fEdge=function(callback){this.once("f-edge",callback)},prototype.when=function(filterFunc,callback){var name,this$=this;name=uuid4(),this.on("change",name,function(value){if(filterFunc(value))return setImmediate(function(){return callback(value),this$.cancel(name)})})},prototype.write=function(value,callback){var this$=this;this.fps.exec(function(){return this$.fps.pause(),this$.filteredWrite(value,function(){var args,that;if(args=slice$.call(arguments),this$.fps.resume(),null!=(that=callback))return that.apply(null,args)})})},prototype.read=function(callback){this.sendRequest({route:this.route+""},{read:!0},function(err,msg){return callback(err,msg)})},prototype.filteredWrite=function(value,callback){var this$=this;this.sendRequest({route:this.route+""},{val:value},function(err,msg){var error;if(error=err||(null!=msg?msg.data.err:void 0),err||(this$.value=msg.data.res),"Function"===toString$.call(callback).slice(8,-1))return callback(error)})},IoProxyClient}(Actor)}).call(this,require("timers").setImmediate)},{"../../lib/sleep":91,"../../src/actor":187,"../../src/filters":192,"../../src/signal":194,"../../src/topic-match":197,timers:367}],141:[function(require,module,exports){var Actor,topicMatch,CodingError,out$=void 0!==exports&&exports||this,toString$={}.toString;Actor=require("../../src/actor").Actor,topicMatch=require("../../src/topic-match").topicMatch,CodingError=require("../../src/errors").CodingError,require("prelude-ls").first,out$.CouchDcsClient=function(superclass){var prototype=function(sub,sup){function fun(){}fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub);return sub}(((function(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}(CouchDcsClient,superclass)).displayName="CouchDcsClient",CouchDcsClient),superclass).prototype;function CouchDcsClient(opts){var that,this$=this;if(CouchDcsClient.superclass.call(this,opts.name?"CouchDcs "+opts.name:"CouchDcsClient"),!(that=opts.route))throw new CodingError("Route is required.");this.route=that,this.onEveryLogin(function(msg){return topicMatch(msg.data.routes,opts.route)?(this$.route=opts.route,this$.trigger("logged-in")):this$.log.warn("We won't be able to connect to "+opts.route+",not found in ",msg.data.routes)})}return prototype.__request=function(data,callback){var ref$;return this.sendRequest({route:this.route,debug:null!=(ref$=data.opts)?ref$.debug:void 0},data,callback)},prototype.get=function(docId,opts,callback){return"Function"===toString$.call(opts).slice(8,-1)&&(callback=opts,opts={}),this.__request({get:docId,opts:opts},function(err,msg){var res,ref$;return res=null!=msg&&null!=(ref$=msg.data)?ref$.res:void 0,(err=err||(null!=msg?msg.data.err:void 0))&&(err.message=err.key+": "+err.error),callback(err,res)})},prototype.allDocs=function(opts,callback){return"Function"===toString$.call(opts).slice(8,-1)&&(callback=opts,opts={}),this.__request({allDocs:opts},function(err,msg){var ref$;return callback(err||(null!=msg?msg.data.err:void 0),null!=msg&&null!=(ref$=msg.data)?ref$.res:void 0)})},prototype.put=function(doc,opts,callback){var cmd;return"Function"===toString$.call(opts).slice(8,-1)&&(callback=opts,opts={}),cmd={put:doc},opts.debug&&(cmd.opts={debug:!0}),this.__request(cmd,function(err,msg){var error,response,ref$;return error=err||(null!=msg?msg.data.err:void 0),response=null!=msg&&null!=(ref$=msg.data)?ref$.res:void 0,error||(doc._id=response.id,doc._rev=response.rev),callback(error,response)})},prototype.putTransaction=function(doc,opts,callback){return"Function"===toString$.call(opts).slice(8,-1)&&(callback=opts,opts={}),this.__request({put:doc,transaction:!0},function(err,msg){var error,response,ref$;return error=err||(null!=msg?msg.data.err:void 0),response=null!=msg&&null!=(ref$=msg.data)?ref$.res:void 0,error||(doc._id=response.id,doc._rev=response.rev),callback(error,response)})},prototype.view=function(viewName,opts,callback){return"Function"===toString$.call(opts).slice(8,-1)&&(callback=opts,opts={}),this.__request({view:viewName,opts:opts},function(err,msg){var ref$;return callback(err||(null!=msg?msg.data.err:void 0),null!=msg&&null!=(ref$=msg.data)?ref$.res:void 0)})},prototype.getAttachment=function(docId,attName,opts,callback){return"Function"===toString$.call(opts).slice(8,-1)&&(callback=opts,opts={}),this.__request({getAtt:{docId:docId,attName:attName,opts:opts}},function(err,msg){var ref$;return callback(err||(null!=msg?msg.data.err:void 0),null!=msg&&null!=(ref$=msg.data)?ref$.res:void 0)})},prototype.follow=function(opts,callback){return null==opts&&(opts={}),this.__request({follow:opts},function(err,msg){var ref$;if("Function"===toString$.call(callback).slice(8,-1))return callback(err||(null!=msg?msg.data.err:void 0),null!=msg&&null!=(ref$=msg.data)?ref$.res:void 0)})},prototype.observe=function(route,callback){return this.onTopic(route,callback),callback()},CouchDcsClient}(Actor)},{"../../src/actor":187,"../../src/errors":191,"../../src/topic-match":197,"prelude-ls":128}],142:[function(require,module,exports){var ref$,sleep,pack,unpack,Logger,clone,brief,AuthRequest,Signal,Actor,topicMatch,AuthHandler;sleep=(ref$=require("../../lib")).sleep,pack=ref$.pack,unpack=ref$.unpack,Logger=ref$.Logger,clone=ref$.clone,brief=require("../../lib/debug-tools").brief,AuthRequest=require("../../src/auth-request").AuthRequest,Signal=require("../../src/signal").Signal,Actor=require("../../src/actor").Actor,topicMatch=require("../../src/topic-match").topicMatch,AuthHandler=require("../../src/auth-handler").AuthHandler,module.exports={sleep:sleep,pack:pack,unpack:unpack,clone:clone,Logger:Logger,AuthRequest:AuthRequest,AuthHandler:AuthHandler,topicMatch:topicMatch,Actor:Actor,Signal:Signal,brief:brief}},{"../../lib":86,"../../lib/debug-tools":84,"../../src/actor":187,"../../src/auth-handler":188,"../../src/auth-request":190,"../../src/signal":194,"../../src/topic-match":197}],143:[function(require,module,exports){var ref$,AuthRequest,sleep,pack,Actor,topicMatch,clone,brief,flatten,reject,MessageBinder,out$=void 0!==exports&&exports||this,toString$={}.toString;ref$=require("../deps"),AuthRequest=ref$.AuthRequest,sleep=ref$.sleep,pack=ref$.pack,ref$.unpack,ref$.Signal,Actor=ref$.Actor,topicMatch=ref$.topicMatch,clone=ref$.clone,brief=ref$.brief,(ref$=require("prelude-ls")).split,flatten=ref$.flatten,ref$.splitAt,ref$.empty,reject=ref$.reject,MessageBinder=require("./helpers").MessageBinder,out$.ProxyClient=function(superclass){var prototype=function(sub,sup){function fun(){}fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub);return sub}(((function(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}(ProxyClient,superclass)).displayName="ProxyClient",ProxyClient),superclass).prototype;function ProxyClient(transport,opts){this.transport=transport,this.opts=opts,ProxyClient.superclass.call(this,this.opts.name||"ProxyClient")}return prototype.action=function(){var totalDelay,y$,this$=this;return this.role="client",this.connected=!1,this.session=null,this._transport_busy=!1,(this.auth=new AuthRequest(this.name)).write=function(msg){return this$.transport.write(pack(msg))},this.onTopic("app.dcs.update",function(msg){return!1,this$.sendResponse(msg,{debug:!1},this$.session)}),this.on("disconnect",function(){return this$.subscriptions=reject(function(it){var ref$;return topicMatch(it,null!=(ref$=this$.session)?ref$.routes:void 0)},this$.subscriptions),this$.session=null}),this.on("receive",function(msg){if(!topicMatch(msg.to,"app.**"))return topicMatch(msg.to,this$.subscriptions)?this$._transport_busy?(this$.log.err("Transport was busy, we shouldn't try to send ",msg),this$.log.info("...will retry to write to transport in 500ms."),void sleep(500,function(){return this$.trigger("receive",msg)})):(this$._transport_busy=!0,this$.transport.write((s=pack(this$.auth.addToken(((m=msg).debug&&this$.log.debug("Forwarding DCS to transport: ",brief(m)),null!=m.re&&(responseId=m.to+"",null!=m.part&&-1!==m.part||this$.unsubscribe(responseId)),m))),msg.debug&&this$.log.debug("Sending "+msg.seq+"->"+msg.to+" size: "+s.length),pack({size:s.length})+s)),msg.debug&&this$.log.debug("Data is sent."),this$._transport_busy=!1):(this$.log.err("Possible coding error: We don't have a route for: ",msg),this$.log.info("Our subscriptions: ",this$.subscriptions),void this$.sendResponse(msg,{err:"How come the ProxyClient is subscribed a topicthat it has no rights to send? This is a DCS malfunction."}));var s,m,responseId}),this.m=new MessageBinder,totalDelay=0,(y$=this.transport).on("connect",function(){return this$.connected=!0,this$.log.success("My transport is connected, re-logging-in."),this$.transportReady=!0,this$.trigger("connect"),this$.trigger("_login")}),y$.on("disconnect",function(){return this$.connected=!1,this$.log.warn("My transport is disconnected."),this$.trigger("disconnect"),this$.send("app.dcs.disconnect")}),y$.on("data",function(data){var t0,x,i$,len$,msg,responseRoute,that,msg2;for(t0=Date.now(),x=this$.m.append(data),totalDelay+=Date.now()-t0,i$=0,len$=x.length;i$<len$;++i$)if(msg=x[i$],totalDelay>100&&this$.log.debug("....time spent for concatenating: "+totalDelay+"ms"),totalDelay=0,"auth"in msg)this$.auth.inbox(msg);else{if(msg.debug&&this$.log.debug("Forwarding Transport to DCS:",brief(msg)),msg.req&&(responseRoute=msg.from+"",msg.debug&&this$.log.debug("Transient subscription to response route: "+responseRoute),this$.subscribe(responseRoute)),null!=msg.re)return msg.to=msg.to.replace("@"+this$.session.user+".",""),(that=this$.mgr.findActor(msg.to))&&that._inbox(msg),void(msg.cc&&((msg2=clone(msg)).to=msg.cc,msg2._exclude=msg.to,this$.sendEnveloped(msg2)));this$.sendEnveloped(msg)}}),y$},prototype.login=function(credentials,callback){var this$=this;if("Function"===toString$.call(credentials).slice(8,-1)?(callback=credentials,credentials=null):callback||(callback=function(err,res){var ref$;return err?this$.log.err("Something went wrong while login: ",pack(err)):null!=(ref$=res.auth)&&ref$.error?this$.log.err("Wrong credentials?"):this$.log.success("Logged in into the DCS network.")}),this.off("_login"),this.on("_login",function(opts){return this$.log.log("sending credentials..."),this$.auth.login(credentials,function(err,res){var error,ref$,ref1$,ref2$,i$,x$,ref3$,len$,ref4$;if(error=err||(null!=res&&null!=(ref$=res.auth)?ref$.error:void 0)||"yes"===(null!=res&&null!=(ref1$=res.auth)&&null!=(ref2$=ref1$.session)?ref2$.logout:void 0))this$.trigger("disconnect");else{for(this$.session=res.auth.session,this$.subscriptions=this$.subscriptions.concat(this$.session.routes),this$.log.info("Remote route subscriptions: "),i$=0,len$=(ref3$=flatten([this$.subscriptions])).length;i$<len$;++i$)x$=ref3$[i$],this$.log.info("->  "+x$);this$.log.info("Emitting app.dcs.connect"),this$.send("app.dcs.connect",this$.session),this$.trigger("logged-in",this$.session,function(){return credentials={token:this$.session.token}})}return"yes"===(null!=res&&null!=(ref3$=res.auth)&&null!=(ref4$=ref3$.session)?ref4$.logout:void 0)&&this$.trigger("kicked-out"),callback(error,res)})}),this.connected)return this.trigger("_login")},prototype.logout=function(callback){var this$=this;return this.auth.logout(function(err,res){var reason,ref$;return this$.log.info("Logged out; err, res: ",err,res),this$.trigger("disconnect"),reason=null!=res&&null!=(ref$=res.auth)?ref$.error:void 0,this$.trigger("logged-out",reason),callback(err,res)})},ProxyClient}(Actor)},{"../deps":142,"./helpers":144,"prelude-ls":128}],144:[function(require,module,exports){var ref$,unpack,Logger,flatten,splitAt,compact,out$=void 0!==exports&&exports||this,toString$={}.toString;(ref$=require("../../../lib")).sleep,ref$.pack,unpack=ref$.unpack,Logger=ref$.Logger,ref$.clone,(ref$=require("prelude-ls")).split,flatten=ref$.flatten,splitAt=ref$.splitAt,compact=ref$.compact,out$.MessageBinder=function(){MessageBinder.displayName="MessageBinder";function MessageBinder(){this.log=new Logger("MessageBinder"),this.i=0,this.cache="",this.heartbeat=0,this.timeout=1400,this.maxTry=1200,this.nextSize=0}return MessageBinder.prototype.append=function(data){var ref$,res,y,size;if("Uint8Array"===toString$.call(data).slice(8,-1)&&(data=data.toString()),this.heartbeat<Date.now()-this.timeout&&(this.cache="",this.i=0,this.nextSize=0),this.cache+=data,this.nextSize>0){if(this.cache.length<this.nextSize)return[];this.nextSize=0}return this.i++,this.i>this.maxTry&&(this.log.err("Caching isn't enough, giving up."),this.i=0,this.cache=data,this.nextSize=0),this.heartbeat=Date.now(),res=(ref$=function unpackTelegrams(data){"Search for valid JSON telegrams recursively";var boundary,ref$,_first,_rest,nextSize,_firstTelegram,that,restTelegram,restStr;boundary=data.indexOf("}{"),_first=(ref$=compact(splitAt(boundary+1,data)))[0],_rest=ref$[1],nextSize=0;try{_firstTelegram=unpack(_first)}catch(e$){return[[],data,nextSize]}return(that=null!=_firstTelegram?_firstTelegram.size:void 0)&&(nextSize=that,_firstTelegram=null),restTelegram=[],restStr="",_rest&&(restTelegram=(ref$=unpackTelegrams(_rest))[0],restStr=ref$[1],ref$[2],nextSize>0&&restTelegram.length>0&&(nextSize=0)),[compact(flatten([_firstTelegram,restTelegram])),restStr,nextSize]}(this.cache))[0],y=ref$[1],(size=ref$[2])>0&&(this.nextSize=size),this.cache=y,this.i=0,res},MessageBinder}()},{"../../../lib":86,"prelude-ls":128}],145:[function(require,module,exports){var sleep,SocketIOTransport,ProxyClient,io,Storage,out$=void 0!==exports&&exports||this;sleep=require("../../../lib/sleep").sleep,SocketIOTransport=require("../../../transports/socket-io").SocketIOTransport,ProxyClient=require("../protocol-actor/client").ProxyClient,io=require("socket.io-client"),Storage=function(){Storage.displayName="Storage";var prototype=Storage.prototype;function Storage(){console.warn("DEVELOPER MODE: Using in-memory storage for DcsSocketIOBrowser"),this.memory={}}return prototype.set=function(key,value){return this.memory[key]=value},prototype.del=function(key){var ref$,ref1$;return ref1$=(ref$=this.memory)[key],delete ref$[key],ref1$},prototype.get=function(key){return this.memory[key]},Storage}(),out$.DcsSocketIOBrowser=function(superclass){(function(sub,sup){function fun(){}fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub);return sub})(((function(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}(DcsSocketIOBrowser,superclass)).displayName="DcsSocketIOBrowser",DcsSocketIOBrowser),superclass).prototype;function DcsSocketIOBrowser(opts){var addr,path,socket,transport,db,that,tryRelogin,this$=this;addr=opts.address,path=(opts.path||"/")+"socket.io",socket=io.connect(addr,{path:path}),transport=new SocketIOTransport(socket),DcsSocketIOBrowser.superclass.call(this,transport,{name:"SocketIOBrowser"}),(that=(db=opts.db||new Storage).get("token"))?this.login({token:that},function(err,res){}):this.login({user:"public",password:"public"},function(err,res){if(err)return this$.log.warn("Public login is failed: ",err)}),this.on("connect",function(){return this$.log.info("Connected to server with id: ",socket.io.engine.id)}),this.on("disconnect",function(){return this$.log.info("Disconnected.")}),this.onTopic("app.dcs.do-login",function(msg){return msg.debug,this$.login(msg.data,function(err,res){var that,ref$,ref1$;return(that=null!=res&&null!=(ref$=res.auth)&&null!=(ref1$=ref$.session)?ref1$.token:void 0)&&db.set("token",that),this$.sendResponse(msg,{err:err,res:res})})}),this.on("logged-in",function(session,clearPassword){return clearPassword()}),this.onTopic("app.dcs.do-logout",function(msg){return this$.log.info("Logging out."),this$.logout(function(err,res){return this$.sendResponse(msg,{err:err,res:res.auth})})}),tryRelogin=function(){if(this$.log.log("This is a logout"),db.del("token"),"GRACEFUL"===("undefined"!=typeof reason&&null!==reason?reason.code:void 0))return this$.log.log("Logged out, perform a public login in 100ms"),sleep(100,function(){return this$.log.log("...logging in..."),this$.login({user:"public",password:"public"},function(err,res){return console.log("automatic login: err, res: ",err,res)})})},this.on("logged-out",function(reason){return tryRelogin()}),this.on("kicked-out",function(){return tryRelogin()})}return DcsSocketIOBrowser}(ProxyClient)},{"../../../lib/sleep":91,"../../../transports/socket-io":198,"../protocol-actor/client":143,"socket.io-client":175}],146:[function(require,module,exports){function noop(){}module.exports=function(count,callback,err_cb){var bail=!1;return err_cb=err_cb||noop,proxy.count=count,0===count?callback():proxy;function proxy(err,result){if(proxy.count<=0)throw new Error("after called too many times");--proxy.count,err?(bail=!0,callback(err),callback=err_cb):0!==proxy.count||bail||callback(null,result)}}},{}],147:[function(require,module,exports){module.exports=function(arraybuffer,start,end){var bytes=arraybuffer.byteLength;if(start=start||0,end=end||bytes,arraybuffer.slice)return arraybuffer.slice(start,end);if(start<0&&(start+=bytes),end<0&&(end+=bytes),end>bytes&&(end=bytes),start>=bytes||start>=end||0===bytes)return new ArrayBuffer(0);for(var abv=new Uint8Array(arraybuffer),result=new Uint8Array(end-start),i=start,ii=0;i<end;i++,ii++)result[ii]=abv[i];return result.buffer}},{}],148:[function(require,module,exports){function Backoff(opts){opts=opts||{},this.ms=opts.min||100,this.max=opts.max||1e4,this.factor=opts.factor||2,this.jitter=opts.jitter>0&&opts.jitter<=1?opts.jitter:0,this.attempts=0}module.exports=Backoff,Backoff.prototype.duration=function(){var ms=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var rand=Math.random(),deviation=Math.floor(rand*this.jitter*ms);ms=0==(1&Math.floor(10*rand))?ms-deviation:ms+deviation}return 0|Math.min(ms,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(min){this.ms=min},Backoff.prototype.setMax=function(max){this.max=max},Backoff.prototype.setJitter=function(jitter){this.jitter=jitter}},{}],149:[function(require,module,exports){!function(){"use strict";for(var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256),i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;exports.encode=function(arraybuffer){var i,bytes=new Uint8Array(arraybuffer),len=bytes.length,base64="";for(i=0;i<len;i+=3)base64+=chars[bytes[i]>>2],base64+=chars[(3&bytes[i])<<4|bytes[i+1]>>4],base64+=chars[(15&bytes[i+1])<<2|bytes[i+2]>>6],base64+=chars[63&bytes[i+2]];return len%3==2?base64=base64.substring(0,base64.length-1)+"=":len%3==1&&(base64=base64.substring(0,base64.length-2)+"=="),base64},exports.decode=function(base64){var i,encoded1,encoded2,encoded3,encoded4,bufferLength=.75*base64.length,len=base64.length,p=0;"="===base64[base64.length-1]&&(bufferLength--,"="===base64[base64.length-2]&&bufferLength--);var arraybuffer=new ArrayBuffer(bufferLength),bytes=new Uint8Array(arraybuffer);for(i=0;i<len;i+=4)encoded1=lookup[base64.charCodeAt(i)],encoded2=lookup[base64.charCodeAt(i+1)],encoded3=lookup[base64.charCodeAt(i+2)],encoded4=lookup[base64.charCodeAt(i+3)],bytes[p++]=encoded1<<2|encoded2>>4,bytes[p++]=(15&encoded2)<<4|encoded3>>2,bytes[p++]=(3&encoded3)<<6|63&encoded4;return arraybuffer}}()},{}],150:[function(require,module,exports){(function(global){var BlobBuilder=global.BlobBuilder||global.WebKitBlobBuilder||global.MSBlobBuilder||global.MozBlobBuilder,blobSupported=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),blobSupportsArrayBufferView=blobSupported&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),blobBuilderSupported=BlobBuilder&&BlobBuilder.prototype.append&&BlobBuilder.prototype.getBlob;function mapArrayBufferViews(ary){for(var i=0;i<ary.length;i++){var chunk=ary[i];if(chunk.buffer instanceof ArrayBuffer){var buf=chunk.buffer;if(chunk.byteLength!==buf.byteLength){var copy=new Uint8Array(chunk.byteLength);copy.set(new Uint8Array(buf,chunk.byteOffset,chunk.byteLength)),buf=copy.buffer}ary[i]=buf}}}function BlobBuilderConstructor(ary,options){options=options||{};var bb=new BlobBuilder;mapArrayBufferViews(ary);for(var i=0;i<ary.length;i++)bb.append(ary[i]);return options.type?bb.getBlob(options.type):bb.getBlob()}function BlobConstructor(ary,options){return mapArrayBufferViews(ary),new Blob(ary,options||{})}module.exports=blobSupported?blobSupportsArrayBufferView?global.Blob:BlobConstructor:blobBuilderSupported?BlobBuilderConstructor:void 0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],151:[function(require,module,exports){var slice=[].slice;module.exports=function(obj,fn){if("string"==typeof fn&&(fn=obj[fn]),"function"!=typeof fn)throw new Error("bind() requires a function");var args=slice.call(arguments,2);return function(){return fn.apply(obj,args.concat(slice.call(arguments)))}}},{}],152:[function(require,module,exports){function Emitter(obj){if(obj)return function(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}(obj)}void 0!==module&&(module.exports=Emitter),Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){this.off(event,on),fn.apply(this,arguments)}return on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var cb,callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks["$"+event],this;for(var i=0;i<callbacks.length;i++)if((cb=callbacks[i])===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks["$"+event];if(callbacks)for(var i=0,len=(callbacks=callbacks.slice(0)).length;i<len;++i)callbacks[i].apply(this,args);return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks["$"+event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],153:[function(require,module,exports){module.exports=function(a,b){var fn=function(){};fn.prototype=b.prototype,a.prototype=new fn,a.prototype.constructor=a}},{}],154:[function(require,module,exports){(function(process){function load(){var r;try{r=exports.storage.debug}catch(e){}return!r&&void 0!==process&&"env"in process&&(r=process.env.DEBUG),r}(exports=module.exports=require("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},exports.formatArgs=function(args){var useColors=this.useColors;if(args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff),!useColors)return;var c="color: "+this.color;args.splice(1,0,c,"color: inherit");var index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,function(match){"%%"!==match&&"%c"===match&&(lastC=++index)}),args.splice(lastC,0,c)},exports.save=function(namespaces){try{null==namespaces?exports.storage.removeItem("debug"):exports.storage.debug=namespaces}catch(e){}},exports.load=load,exports.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},exports.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],exports.formatters.j=function(v){try{return JSON.stringify(v)}catch(err){return"[UnexpectedJSONParseError]: "+err.message}},exports.enable(load())}).call(this,require("_process"))},{"./debug":155,_process:332}],155:[function(require,module,exports){function createDebug(namespace){var prevTime;function debug(){if(debug.enabled){var self=debug,curr=+new Date,ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr;for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];args[0]=exports.coerce(args[0]),"string"!=typeof args[0]&&args.unshift("%O");var index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,function(match,format){if("%%"===match)return match;index++;var formatter=exports.formatters[format];if("function"==typeof formatter){var val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match}),exports.formatArgs.call(self,args),(debug.log||exports.log||console.log.bind(console)).apply(self,args)}}return debug.namespace=namespace,debug.enabled=exports.enabled(namespace),debug.useColors=exports.useColors(),debug.color=function(namespace){var i,hash=0;for(i in namespace)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return exports.colors[Math.abs(hash)%exports.colors.length]}(namespace),debug.destroy=destroy,"function"==typeof exports.init&&exports.init(debug),exports.instances.push(debug),debug}function destroy(){var index=exports.instances.indexOf(this);return-1!==index&&(exports.instances.splice(index,1),!0)}(exports=module.exports=createDebug.debug=createDebug.default=createDebug).coerce=function(val){return val instanceof Error?val.stack||val.message:val},exports.disable=function(){exports.enable("")},exports.enable=function(namespaces){var i;exports.save(namespaces),exports.names=[],exports.skips=[];var split=("string"==typeof namespaces?namespaces:"").split(/[\s,]+/),len=split.length;for(i=0;i<len;i++)split[i]&&("-"===(namespaces=split[i].replace(/\*/g,".*?"))[0]?exports.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):exports.names.push(new RegExp("^"+namespaces+"$")));for(i=0;i<exports.instances.length;i++){var instance=exports.instances[i];instance.enabled=exports.enabled(instance.namespace)}},exports.enabled=function(name){if("*"===name[name.length-1])return!0;var i,len;for(i=0,len=exports.skips.length;i<len;i++)if(exports.skips[i].test(name))return!1;for(i=0,len=exports.names.length;i<len;i++)if(exports.names[i].test(name))return!0;return!1},exports.humanize=require("ms"),exports.instances=[],exports.names=[],exports.skips=[],exports.formatters={}},{ms:172}],156:[function(require,module,exports){module.exports=require("./socket"),module.exports.parser=require("engine.io-parser")},{"./socket":157,"engine.io-parser":165}],157:[function(require,module,exports){(function(global){var transports=require("./transports/index"),Emitter=require("component-emitter"),debug=require("debug")("engine.io-client:socket"),index=require("indexof"),parser=require("engine.io-parser"),parseuri=require("parseuri"),parseqs=require("parseqs");function Socket(uri,opts){if(!(this instanceof Socket))return new Socket(uri,opts);opts=opts||{},uri&&"object"==typeof uri&&(opts=uri,uri=null),uri?(uri=parseuri(uri),opts.hostname=uri.host,opts.secure="https"===uri.protocol||"wss"===uri.protocol,opts.port=uri.port,uri.query&&(opts.query=uri.query)):opts.host&&(opts.hostname=parseuri(opts.host).host),this.secure=null!=opts.secure?opts.secure:global.location&&"https:"===location.protocol,opts.hostname&&!opts.port&&(opts.port=this.secure?"443":"80"),this.agent=opts.agent||!1,this.hostname=opts.hostname||(global.location?location.hostname:"localhost"),this.port=opts.port||(global.location&&location.port?location.port:this.secure?443:80),this.query=opts.query||{},"string"==typeof this.query&&(this.query=parseqs.decode(this.query)),this.upgrade=!1!==opts.upgrade,this.path=(opts.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!opts.forceJSONP,this.jsonp=!1!==opts.jsonp,this.forceBase64=!!opts.forceBase64,this.enablesXDR=!!opts.enablesXDR,this.timestampParam=opts.timestampParam||"t",this.timestampRequests=opts.timestampRequests,this.transports=opts.transports||["polling","websocket"],this.transportOptions=opts.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=opts.policyPort||843,this.rememberUpgrade=opts.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=opts.onlyBinaryUpgrades,this.perMessageDeflate=!1!==opts.perMessageDeflate&&(opts.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=opts.pfx||null,this.key=opts.key||null,this.passphrase=opts.passphrase||null,this.cert=opts.cert||null,this.ca=opts.ca||null,this.ciphers=opts.ciphers||null,this.rejectUnauthorized=void 0===opts.rejectUnauthorized||opts.rejectUnauthorized,this.forceNode=!!opts.forceNode;var freeGlobal="object"==typeof global&&global;freeGlobal.global===freeGlobal&&(opts.extraHeaders&&Object.keys(opts.extraHeaders).length>0&&(this.extraHeaders=opts.extraHeaders),opts.localAddress&&(this.localAddress=opts.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}module.exports=Socket,Socket.priorWebsocketSuccess=!1,Emitter(Socket.prototype),Socket.protocol=parser.protocol,Socket.Socket=Socket,Socket.Transport=require("./transport"),Socket.transports=require("./transports/index"),Socket.parser=require("engine.io-parser"),Socket.prototype.createTransport=function(name){debug('creating transport "%s"',name);var query=function(obj){var o={};for(var i in obj)obj.hasOwnProperty(i)&&(o[i]=obj[i]);return o}(this.query);query.EIO=parser.protocol,query.transport=name;var options=this.transportOptions[name]||{};return this.id&&(query.sid=this.id),new transports[name]({query:query,socket:this,agent:options.agent||this.agent,hostname:options.hostname||this.hostname,port:options.port||this.port,secure:options.secure||this.secure,path:options.path||this.path,forceJSONP:options.forceJSONP||this.forceJSONP,jsonp:options.jsonp||this.jsonp,forceBase64:options.forceBase64||this.forceBase64,enablesXDR:options.enablesXDR||this.enablesXDR,timestampRequests:options.timestampRequests||this.timestampRequests,timestampParam:options.timestampParam||this.timestampParam,policyPort:options.policyPort||this.policyPort,pfx:options.pfx||this.pfx,key:options.key||this.key,passphrase:options.passphrase||this.passphrase,cert:options.cert||this.cert,ca:options.ca||this.ca,ciphers:options.ciphers||this.ciphers,rejectUnauthorized:options.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:options.perMessageDeflate||this.perMessageDeflate,extraHeaders:options.extraHeaders||this.extraHeaders,forceNode:options.forceNode||this.forceNode,localAddress:options.localAddress||this.localAddress,requestTimeout:options.requestTimeout||this.requestTimeout,protocols:options.protocols||void 0})},Socket.prototype.open=function(){var transport;if(this.rememberUpgrade&&Socket.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))transport="websocket";else{if(0===this.transports.length){var self=this;return void setTimeout(function(){self.emit("error","No transports available")},0)}transport=this.transports[0]}this.readyState="opening";try{transport=this.createTransport(transport)}catch(e){return this.transports.shift(),void this.open()}transport.open(),this.setTransport(transport)},Socket.prototype.setTransport=function(transport){debug("setting transport %s",transport.name);var self=this;this.transport&&(debug("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=transport,transport.on("drain",function(){self.onDrain()}).on("packet",function(packet){self.onPacket(packet)}).on("error",function(e){self.onError(e)}).on("close",function(){self.onClose("transport close")})},Socket.prototype.probe=function(name){debug('probing transport "%s"',name);var transport=this.createTransport(name,{probe:1}),failed=!1,self=this;function onTransportOpen(){if(self.onlyBinaryUpgrades){var upgradeLosesBinary=!this.supportsBinary&&self.transport.supportsBinary;failed=failed||upgradeLosesBinary}failed||(debug('probe transport "%s" opened',name),transport.send([{type:"ping",data:"probe"}]),transport.once("packet",function(msg){if(!failed)if("pong"===msg.type&&"probe"===msg.data){if(debug('probe transport "%s" pong',name),self.upgrading=!0,self.emit("upgrading",transport),!transport)return;Socket.priorWebsocketSuccess="websocket"===transport.name,debug('pausing current transport "%s"',self.transport.name),self.transport.pause(function(){failed||"closed"!==self.readyState&&(debug("changing transport and sending upgrade packet"),cleanup(),self.setTransport(transport),transport.send([{type:"upgrade"}]),self.emit("upgrade",transport),transport=null,self.upgrading=!1,self.flush())})}else{debug('probe transport "%s" failed',name);var err=new Error("probe error");err.transport=transport.name,self.emit("upgradeError",err)}}))}function freezeTransport(){failed||(failed=!0,cleanup(),transport.close(),transport=null)}function onerror(err){var error=new Error("probe error: "+err);error.transport=transport.name,freezeTransport(),debug('probe transport "%s" failed because of error: %s',name,err),self.emit("upgradeError",error)}function onTransportClose(){onerror("transport closed")}function onclose(){onerror("socket closed")}function onupgrade(to){transport&&to.name!==transport.name&&(debug('"%s" works - aborting "%s"',to.name,transport.name),freezeTransport())}function cleanup(){transport.removeListener("open",onTransportOpen),transport.removeListener("error",onerror),transport.removeListener("close",onTransportClose),self.removeListener("close",onclose),self.removeListener("upgrading",onupgrade)}Socket.priorWebsocketSuccess=!1,transport.once("open",onTransportOpen),transport.once("error",onerror),transport.once("close",onTransportClose),this.once("close",onclose),this.once("upgrading",onupgrade),transport.open()},Socket.prototype.onOpen=function(){if(debug("socket open"),this.readyState="open",Socket.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){debug("starting upgrade probes");for(var i=0,l=this.upgrades.length;i<l;i++)this.probe(this.upgrades[i])}},Socket.prototype.onPacket=function(packet){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(debug('socket receive: type "%s", data "%s"',packet.type,packet.data),this.emit("packet",packet),this.emit("heartbeat"),packet.type){case"open":this.onHandshake(JSON.parse(packet.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var err=new Error("server error");err.code=packet.data,this.onError(err);break;case"message":this.emit("data",packet.data),this.emit("message",packet.data)}else debug('packet received with socket readyState "%s"',this.readyState)},Socket.prototype.onHandshake=function(data){this.emit("handshake",data),this.id=data.sid,this.transport.query.sid=data.sid,this.upgrades=this.filterUpgrades(data.upgrades),this.pingInterval=data.pingInterval,this.pingTimeout=data.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},Socket.prototype.onHeartbeat=function(timeout){clearTimeout(this.pingTimeoutTimer);var self=this;self.pingTimeoutTimer=setTimeout(function(){"closed"!==self.readyState&&self.onClose("ping timeout")},timeout||self.pingInterval+self.pingTimeout)},Socket.prototype.setPing=function(){var self=this;clearTimeout(self.pingIntervalTimer),self.pingIntervalTimer=setTimeout(function(){debug("writing ping packet - expecting pong within %sms",self.pingTimeout),self.ping(),self.onHeartbeat(self.pingTimeout)},self.pingInterval)},Socket.prototype.ping=function(){var self=this;this.sendPacket("ping",function(){self.emit("ping")})},Socket.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},Socket.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(debug("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},Socket.prototype.write=Socket.prototype.send=function(msg,options,fn){return this.sendPacket("message",msg,options,fn),this},Socket.prototype.sendPacket=function(type,data,options,fn){if("function"==typeof data&&(fn=data,data=void 0),"function"==typeof options&&(fn=options,options=null),"closing"!==this.readyState&&"closed"!==this.readyState){(options=options||{}).compress=!1!==options.compress;var packet={type:type,data:data,options:options};this.emit("packetCreate",packet),this.writeBuffer.push(packet),fn&&this.once("flush",fn),this.flush()}},Socket.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var self=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?waitForUpgrade():close()}):this.upgrading?waitForUpgrade():close()}function close(){self.onClose("forced close"),debug("socket closing - telling transport to close"),self.transport.close()}function cleanupAndClose(){self.removeListener("upgrade",cleanupAndClose),self.removeListener("upgradeError",cleanupAndClose),close()}function waitForUpgrade(){self.once("upgrade",cleanupAndClose),self.once("upgradeError",cleanupAndClose)}return this},Socket.prototype.onError=function(err){debug("socket error %j",err),Socket.priorWebsocketSuccess=!1,this.emit("error",err),this.onClose("transport error",err)},Socket.prototype.onClose=function(reason,desc){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){debug('socket close with reason: "%s"',reason);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",reason,desc),this.writeBuffer=[],this.prevBufferLen=0}},Socket.prototype.filterUpgrades=function(upgrades){for(var filteredUpgrades=[],i=0,j=upgrades.length;i<j;i++)~index(this.transports,upgrades[i])&&filteredUpgrades.push(upgrades[i]);return filteredUpgrades}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":158,"./transports/index":159,"component-emitter":152,debug:154,"engine.io-parser":165,indexof:171,parseqs:173,parseuri:174}],158:[function(require,module,exports){var parser=require("engine.io-parser"),Emitter=require("component-emitter");function Transport(opts){this.path=opts.path,this.hostname=opts.hostname,this.port=opts.port,this.secure=opts.secure,this.query=opts.query,this.timestampParam=opts.timestampParam,this.timestampRequests=opts.timestampRequests,this.readyState="",this.agent=opts.agent||!1,this.socket=opts.socket,this.enablesXDR=opts.enablesXDR,this.pfx=opts.pfx,this.key=opts.key,this.passphrase=opts.passphrase,this.cert=opts.cert,this.ca=opts.ca,this.ciphers=opts.ciphers,this.rejectUnauthorized=opts.rejectUnauthorized,this.forceNode=opts.forceNode,this.extraHeaders=opts.extraHeaders,this.localAddress=opts.localAddress}module.exports=Transport,Emitter(Transport.prototype),Transport.prototype.onError=function(msg,desc){var err=new Error(msg);return err.type="TransportError",err.description=desc,this.emit("error",err),this},Transport.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},Transport.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},Transport.prototype.send=function(packets){if("open"!==this.readyState)throw new Error("Transport not open");this.write(packets)},Transport.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Transport.prototype.onData=function(data){var packet=parser.decodePacket(data,this.socket.binaryType);this.onPacket(packet)},Transport.prototype.onPacket=function(packet){this.emit("packet",packet)},Transport.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":152,"engine.io-parser":165}],159:[function(require,module,exports){(function(global){var XMLHttpRequest=require("xmlhttprequest-ssl"),XHR=require("./polling-xhr"),JSONP=require("./polling-jsonp"),websocket=require("./websocket");exports.polling=function(opts){var xd=!1,xs=!1,jsonp=!1!==opts.jsonp;if(global.location){var isSSL="https:"===location.protocol,port=location.port;port||(port=isSSL?443:80),xd=opts.hostname!==location.hostname||port!==opts.port,xs=opts.secure!==isSSL}if(opts.xdomain=xd,opts.xscheme=xs,"open"in new XMLHttpRequest(opts)&&!opts.forceJSONP)return new XHR(opts);if(!jsonp)throw new Error("JSONP disabled");return new JSONP(opts)},exports.websocket=websocket}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":160,"./polling-xhr":161,"./websocket":163,"xmlhttprequest-ssl":164}],160:[function(require,module,exports){(function(global){var Polling=require("./polling"),inherit=require("component-inherit");module.exports=JSONPPolling;var callbacks,rNewline=/\n/g,rEscapedNewline=/\\n/g;function empty(){}function JSONPPolling(opts){Polling.call(this,opts),this.query=this.query||{},callbacks||(global.___eio||(global.___eio=[]),callbacks=global.___eio),this.index=callbacks.length;var self=this;callbacks.push(function(msg){self.onData(msg)}),this.query.j=this.index,global.document&&global.addEventListener&&global.addEventListener("beforeunload",function(){self.script&&(self.script.onerror=empty)},!1)}inherit(JSONPPolling,Polling),JSONPPolling.prototype.supportsBinary=!1,JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Polling.prototype.doClose.call(this)},JSONPPolling.prototype.doPoll=function(){var self=this,script=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),script.async=!0,script.src=this.uri(),script.onerror=function(e){self.onError("jsonp poll error",e)};var insertAt=document.getElementsByTagName("script")[0];insertAt?insertAt.parentNode.insertBefore(script,insertAt):(document.head||document.body).appendChild(script),this.script=script,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var iframe=document.createElement("iframe");document.body.appendChild(iframe),document.body.removeChild(iframe)},100)},JSONPPolling.prototype.doWrite=function(data,fn){var self=this;if(!this.form){var iframe,form=document.createElement("form"),area=document.createElement("textarea"),id=this.iframeId="eio_iframe_"+this.index;form.className="socketio",form.style.position="absolute",form.style.top="-1000px",form.style.left="-1000px",form.target=id,form.method="POST",form.setAttribute("accept-charset","utf-8"),area.name="d",form.appendChild(area),document.body.appendChild(form),this.form=form,this.area=area}function complete(){initIframe(),fn()}function initIframe(){if(self.iframe)try{self.form.removeChild(self.iframe)}catch(e){self.onError("jsonp polling iframe removal error",e)}try{var html='<iframe src="javascript:0" name="'+self.iframeId+'">';iframe=document.createElement(html)}catch(e){(iframe=document.createElement("iframe")).name=self.iframeId,iframe.src="javascript:0"}iframe.id=self.iframeId,self.form.appendChild(iframe),self.iframe=iframe}this.form.action=this.uri(),initIframe(),data=data.replace(rEscapedNewline,"\\\n"),this.area.value=data.replace(rNewline,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===self.iframe.readyState&&complete()}:this.iframe.onload=complete}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":162,"component-inherit":153}],161:[function(require,module,exports){(function(global){var XMLHttpRequest=require("xmlhttprequest-ssl"),Polling=require("./polling"),Emitter=require("component-emitter"),inherit=require("component-inherit"),debug=require("debug")("engine.io-client:polling-xhr");function empty(){}function XHR(opts){if(Polling.call(this,opts),this.requestTimeout=opts.requestTimeout,this.extraHeaders=opts.extraHeaders,global.location){var isSSL="https:"===location.protocol,port=location.port;port||(port=isSSL?443:80),this.xd=opts.hostname!==global.location.hostname||port!==opts.port,this.xs=opts.secure!==isSSL}}function Request(opts){this.method=opts.method||"GET",this.uri=opts.uri,this.xd=!!opts.xd,this.xs=!!opts.xs,this.async=!1!==opts.async,this.data=void 0!==opts.data?opts.data:null,this.agent=opts.agent,this.isBinary=opts.isBinary,this.supportsBinary=opts.supportsBinary,this.enablesXDR=opts.enablesXDR,this.requestTimeout=opts.requestTimeout,this.pfx=opts.pfx,this.key=opts.key,this.passphrase=opts.passphrase,this.cert=opts.cert,this.ca=opts.ca,this.ciphers=opts.ciphers,this.rejectUnauthorized=opts.rejectUnauthorized,this.extraHeaders=opts.extraHeaders,this.create()}function unloadHandler(){for(var i in Request.requests)Request.requests.hasOwnProperty(i)&&Request.requests[i].abort()}module.exports=XHR,module.exports.Request=Request,inherit(XHR,Polling),XHR.prototype.supportsBinary=!0,XHR.prototype.request=function(opts){return(opts=opts||{}).uri=this.uri(),opts.xd=this.xd,opts.xs=this.xs,opts.agent=this.agent||!1,opts.supportsBinary=this.supportsBinary,opts.enablesXDR=this.enablesXDR,opts.pfx=this.pfx,opts.key=this.key,opts.passphrase=this.passphrase,opts.cert=this.cert,opts.ca=this.ca,opts.ciphers=this.ciphers,opts.rejectUnauthorized=this.rejectUnauthorized,opts.requestTimeout=this.requestTimeout,opts.extraHeaders=this.extraHeaders,new Request(opts)},XHR.prototype.doWrite=function(data,fn){var isBinary="string"!=typeof data&&void 0!==data,req=this.request({method:"POST",data:data,isBinary:isBinary}),self=this;req.on("success",fn),req.on("error",function(err){self.onError("xhr post error",err)}),this.sendXhr=req},XHR.prototype.doPoll=function(){debug("xhr poll");var req=this.request(),self=this;req.on("data",function(data){self.onData(data)}),req.on("error",function(err){self.onError("xhr poll error",err)}),this.pollXhr=req},Emitter(Request.prototype),Request.prototype.create=function(){var opts={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};opts.pfx=this.pfx,opts.key=this.key,opts.passphrase=this.passphrase,opts.cert=this.cert,opts.ca=this.ca,opts.ciphers=this.ciphers,opts.rejectUnauthorized=this.rejectUnauthorized;var xhr=this.xhr=new XMLHttpRequest(opts),self=this;try{debug("xhr open %s: %s",this.method,this.uri),xhr.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in xhr.setDisableHeaderCheck&&xhr.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&xhr.setRequestHeader(i,this.extraHeaders[i])}catch(e){}if("POST"===this.method)try{this.isBinary?xhr.setRequestHeader("Content-type","application/octet-stream"):xhr.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{xhr.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in xhr&&(xhr.withCredentials=!0),this.requestTimeout&&(xhr.timeout=this.requestTimeout),this.hasXDR()?(xhr.onload=function(){self.onLoad()},xhr.onerror=function(){self.onError(xhr.responseText)}):xhr.onreadystatechange=function(){if(2===xhr.readyState)try{var contentType=xhr.getResponseHeader("Content-Type");self.supportsBinary&&"application/octet-stream"===contentType&&(xhr.responseType="arraybuffer")}catch(e){}4===xhr.readyState&&(200===xhr.status||1223===xhr.status?self.onLoad():setTimeout(function(){self.onError(xhr.status)},0))},debug("xhr data %s",this.data),xhr.send(this.data)}catch(e){return void setTimeout(function(){self.onError(e)},0)}global.document&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)},Request.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Request.prototype.onData=function(data){this.emit("data",data),this.onSuccess()},Request.prototype.onError=function(err){this.emit("error",err),this.cleanup(!0)},Request.prototype.cleanup=function(fromError){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=empty:this.xhr.onreadystatechange=empty,fromError)try{this.xhr.abort()}catch(e){}global.document&&delete Request.requests[this.index],this.xhr=null}},Request.prototype.onLoad=function(){var data;try{var contentType;try{contentType=this.xhr.getResponseHeader("Content-Type")}catch(e){}data="application/octet-stream"===contentType&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=data&&this.onData(data)},Request.prototype.hasXDR=function(){return void 0!==global.XDomainRequest&&!this.xs&&this.enablesXDR},Request.prototype.abort=function(){this.cleanup()},Request.requestsCount=0,Request.requests={},global.document&&(global.attachEvent?global.attachEvent("onunload",unloadHandler):global.addEventListener&&global.addEventListener("beforeunload",unloadHandler,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":162,"component-emitter":152,"component-inherit":153,debug:154,"xmlhttprequest-ssl":164}],162:[function(require,module,exports){var Transport=require("../transport"),parseqs=require("parseqs"),parser=require("engine.io-parser"),inherit=require("component-inherit"),yeast=require("yeast"),debug=require("debug")("engine.io-client:polling");module.exports=Polling;var hasXHR2=null!=new(require("xmlhttprequest-ssl"))({xdomain:!1}).responseType;function Polling(opts){var forceBase64=opts&&opts.forceBase64;hasXHR2&&!forceBase64||(this.supportsBinary=!1),Transport.call(this,opts)}inherit(Polling,Transport),Polling.prototype.name="polling",Polling.prototype.doOpen=function(){this.poll()},Polling.prototype.pause=function(onPause){var self=this;function pause(){debug("paused"),self.readyState="paused",onPause()}if(this.readyState="pausing",this.polling||!this.writable){var total=0;this.polling&&(debug("we are currently polling - waiting to pause"),total++,this.once("pollComplete",function(){debug("pre-pause polling complete"),--total||pause()})),this.writable||(debug("we are currently writing - waiting to pause"),total++,this.once("drain",function(){debug("pre-pause writing complete"),--total||pause()}))}else pause()},Polling.prototype.poll=function(){debug("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},Polling.prototype.onData=function(data){var self=this;debug("polling got data %s",data);parser.decodePayload(data,this.socket.binaryType,function(packet,index,total){if("opening"===self.readyState&&self.onOpen(),"close"===packet.type)return self.onClose(),!1;self.onPacket(packet)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():debug('ignoring poll - transport state "%s"',this.readyState))},Polling.prototype.doClose=function(){var self=this;function close(){debug("writing close packet"),self.write([{type:"close"}])}"open"===this.readyState?(debug("transport open - closing"),close()):(debug("transport not open - deferring close"),this.once("open",close))},Polling.prototype.write=function(packets){var self=this;this.writable=!1;var callbackfn=function(){self.writable=!0,self.emit("drain")};parser.encodePayload(packets,this.supportsBinary,function(data){self.doWrite(data,callbackfn)})},Polling.prototype.uri=function(){var query=this.query||{},schema=this.secure?"https":"http",port="";return!1!==this.timestampRequests&&(query[this.timestampParam]=yeast()),this.supportsBinary||query.sid||(query.b64=1),query=parseqs.encode(query),this.port&&("https"===schema&&443!==Number(this.port)||"http"===schema&&80!==Number(this.port))&&(port=":"+this.port),query.length&&(query="?"+query),schema+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+port+this.path+query}},{"../transport":158,"component-inherit":153,debug:154,"engine.io-parser":165,parseqs:173,"xmlhttprequest-ssl":164,yeast:185}],163:[function(require,module,exports){(function(global){var NodeWebSocket,Transport=require("../transport"),parser=require("engine.io-parser"),parseqs=require("parseqs"),inherit=require("component-inherit"),yeast=require("yeast"),debug=require("debug")("engine.io-client:websocket"),BrowserWebSocket=global.WebSocket||global.MozWebSocket;if("undefined"==typeof window)try{NodeWebSocket=require("ws")}catch(e){}var WebSocket=BrowserWebSocket;function WS(opts){opts&&opts.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=opts.perMessageDeflate,this.usingBrowserWebSocket=BrowserWebSocket&&!opts.forceNode,this.protocols=opts.protocols,this.usingBrowserWebSocket||(WebSocket=NodeWebSocket),Transport.call(this,opts)}WebSocket||"undefined"!=typeof window||(WebSocket=NodeWebSocket),module.exports=WS,inherit(WS,Transport),WS.prototype.name="websocket",WS.prototype.supportsBinary=!0,WS.prototype.doOpen=function(){if(this.check()){var uri=this.uri(),protocols=this.protocols,opts={agent:this.agent,perMessageDeflate:this.perMessageDeflate};opts.pfx=this.pfx,opts.key=this.key,opts.passphrase=this.passphrase,opts.cert=this.cert,opts.ca=this.ca,opts.ciphers=this.ciphers,opts.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(opts.headers=this.extraHeaders),this.localAddress&&(opts.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?protocols?new WebSocket(uri,protocols):new WebSocket(uri):new WebSocket(uri,protocols,opts)}catch(err){return this.emit("error",err)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},WS.prototype.addEventListeners=function(){var self=this;this.ws.onopen=function(){self.onOpen()},this.ws.onclose=function(){self.onClose()},this.ws.onmessage=function(ev){self.onData(ev.data)},this.ws.onerror=function(e){self.onError("websocket error",e)}},WS.prototype.write=function(packets){var self=this;this.writable=!1;for(var total=packets.length,i=0,l=total;i<l;i++)!function(packet){parser.encodePacket(packet,self.supportsBinary,function(data){if(!self.usingBrowserWebSocket){var opts={};if(packet.options&&(opts.compress=packet.options.compress),self.perMessageDeflate)("string"==typeof data?global.Buffer.byteLength(data):data.length)<self.perMessageDeflate.threshold&&(opts.compress=!1)}try{self.usingBrowserWebSocket?self.ws.send(data):self.ws.send(data,opts)}catch(e){debug("websocket closed before onclose event")}--total||done()})}(packets[i]);function done(){self.emit("flush"),setTimeout(function(){self.writable=!0,self.emit("drain")},0)}},WS.prototype.onClose=function(){Transport.prototype.onClose.call(this)},WS.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},WS.prototype.uri=function(){var query=this.query||{},schema=this.secure?"wss":"ws",port="";return this.port&&("wss"===schema&&443!==Number(this.port)||"ws"===schema&&80!==Number(this.port))&&(port=":"+this.port),this.timestampRequests&&(query[this.timestampParam]=yeast()),this.supportsBinary||(query.b64=1),(query=parseqs.encode(query)).length&&(query="?"+query),schema+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+port+this.path+query},WS.prototype.check=function(){return!(!WebSocket||"__initialize"in WebSocket&&this.name===WS.prototype.name)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transport":158,"component-inherit":153,debug:154,"engine.io-parser":165,parseqs:173,ws:216,yeast:185}],164:[function(require,module,exports){(function(global){var hasCORS=require("has-cors");module.exports=function(opts){var xdomain=opts.xdomain,xscheme=opts.xscheme,enablesXDR=opts.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!xdomain||hasCORS))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!xscheme&&enablesXDR)return new XDomainRequest}catch(e){}if(!xdomain)try{return new(global[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"has-cors":170}],165:[function(require,module,exports){(function(global){var base64encoder,keys=require("./keys"),hasBinary=require("has-binary2"),sliceBuffer=require("arraybuffer.slice"),after=require("after"),utf8=require("./utf8");global&&global.ArrayBuffer&&(base64encoder=require("base64-arraybuffer"));var isAndroid="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),isPhantomJS="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),dontSendBlobs=isAndroid||isPhantomJS;exports.protocol=3;var packets=exports.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},packetslist=keys(packets),err={type:"error",data:"parser error"},Blob=require("blob");function map(ary,each,done){for(var result=new Array(ary.length),next=after(ary.length,done),eachWithIndex=function(i,el,cb){each(el,function(error,msg){result[i]=msg,cb(error,result)})},i=0;i<ary.length;i++)eachWithIndex(i,ary[i],next)}exports.encodePacket=function(packet,supportsBinary,utf8encode,callback){"function"==typeof supportsBinary&&(callback=supportsBinary,supportsBinary=!1),"function"==typeof utf8encode&&(callback=utf8encode,utf8encode=null);var data=void 0===packet.data?void 0:packet.data.buffer||packet.data;if(global.ArrayBuffer&&data instanceof ArrayBuffer)return function(packet,supportsBinary,callback){if(!supportsBinary)return exports.encodeBase64Packet(packet,callback);var data=packet.data,contentArray=new Uint8Array(data),resultBuffer=new Uint8Array(1+data.byteLength);resultBuffer[0]=packets[packet.type];for(var i=0;i<contentArray.length;i++)resultBuffer[i+1]=contentArray[i];return callback(resultBuffer.buffer)}(packet,supportsBinary,callback);if(Blob&&data instanceof global.Blob)return function(packet,supportsBinary,callback){if(!supportsBinary)return exports.encodeBase64Packet(packet,callback);if(dontSendBlobs)return function(packet,supportsBinary,callback){if(!supportsBinary)return exports.encodeBase64Packet(packet,callback);var fr=new FileReader;return fr.onload=function(){packet.data=fr.result,exports.encodePacket(packet,supportsBinary,!0,callback)},fr.readAsArrayBuffer(packet.data)}(packet,supportsBinary,callback);var length=new Uint8Array(1);length[0]=packets[packet.type];var blob=new Blob([length.buffer,packet.data]);return callback(blob)}(packet,supportsBinary,callback);if(data&&data.base64)return function(packet,callback){var message="b"+exports.packets[packet.type]+packet.data.data;return callback(message)}(packet,callback);var encoded=packets[packet.type];return void 0!==packet.data&&(encoded+=utf8encode?utf8.encode(String(packet.data),{strict:!1}):String(packet.data)),callback(""+encoded)},exports.encodeBase64Packet=function(packet,callback){var b64data,message="b"+exports.packets[packet.type];if(Blob&&packet.data instanceof global.Blob){var fr=new FileReader;return fr.onload=function(){var b64=fr.result.split(",")[1];callback(message+b64)},fr.readAsDataURL(packet.data)}try{b64data=String.fromCharCode.apply(null,new Uint8Array(packet.data))}catch(e){for(var typed=new Uint8Array(packet.data),basic=new Array(typed.length),i=0;i<typed.length;i++)basic[i]=typed[i];b64data=String.fromCharCode.apply(null,basic)}return message+=global.btoa(b64data),callback(message)},exports.decodePacket=function(data,binaryType,utf8decode){if(void 0===data)return err;if("string"==typeof data){if("b"===data.charAt(0))return exports.decodeBase64Packet(data.substr(1),binaryType);if(utf8decode&&!1===(data=function(data){try{data=utf8.decode(data,{strict:!1})}catch(e){return!1}return data}(data)))return err;var type=data.charAt(0);return Number(type)==type&&packetslist[type]?data.length>1?{type:packetslist[type],data:data.substring(1)}:{type:packetslist[type]}:err}type=new Uint8Array(data)[0];var rest=sliceBuffer(data,1);return Blob&&"blob"===binaryType&&(rest=new Blob([rest])),{type:packetslist[type],data:rest}},exports.decodeBase64Packet=function(msg,binaryType){var type=packetslist[msg.charAt(0)];if(!base64encoder)return{type:type,data:{base64:!0,data:msg.substr(1)}};var data=base64encoder.decode(msg.substr(1));return"blob"===binaryType&&Blob&&(data=new Blob([data])),{type:type,data:data}},exports.encodePayload=function(packets,supportsBinary,callback){"function"==typeof supportsBinary&&(callback=supportsBinary,supportsBinary=null);var isBinary=hasBinary(packets);if(supportsBinary&&isBinary)return Blob&&!dontSendBlobs?exports.encodePayloadAsBlob(packets,callback):exports.encodePayloadAsArrayBuffer(packets,callback);if(!packets.length)return callback("0:");map(packets,function(packet,doneCallback){exports.encodePacket(packet,!!isBinary&&supportsBinary,!1,function(message){doneCallback(null,function(message){return message.length+":"+message}(message))})},function(err,results){return callback(results.join(""))})},exports.decodePayload=function(data,binaryType,callback){if("string"!=typeof data)return exports.decodePayloadAsBinary(data,binaryType,callback);var packet;if("function"==typeof binaryType&&(callback=binaryType,binaryType=null),""===data)return callback(err,0,1);for(var n,msg,length="",i=0,l=data.length;i<l;i++){var chr=data.charAt(i);if(":"===chr){if(""===length||length!=(n=Number(length)))return callback(err,0,1);if(length!=(msg=data.substr(i+1,n)).length)return callback(err,0,1);if(msg.length){if(packet=exports.decodePacket(msg,binaryType,!1),err.type===packet.type&&err.data===packet.data)return callback(err,0,1);if(!1===callback(packet,i+n,l))return}i+=n,length=""}else length+=chr}return""!==length?callback(err,0,1):void 0},exports.encodePayloadAsArrayBuffer=function(packets,callback){if(!packets.length)return callback(new ArrayBuffer(0));map(packets,function(packet,doneCallback){exports.encodePacket(packet,!0,!0,function(data){return doneCallback(null,data)})},function(err,encodedPackets){var totalLength=encodedPackets.reduce(function(acc,p){var len;return acc+(len="string"==typeof p?p.length:p.byteLength).toString().length+len+2},0),resultArray=new Uint8Array(totalLength),bufferIndex=0;return encodedPackets.forEach(function(p){var isString="string"==typeof p,ab=p;if(isString){for(var view=new Uint8Array(p.length),i=0;i<p.length;i++)view[i]=p.charCodeAt(i);ab=view.buffer}resultArray[bufferIndex++]=isString?0:1;var lenStr=ab.byteLength.toString();for(i=0;i<lenStr.length;i++)resultArray[bufferIndex++]=parseInt(lenStr[i]);resultArray[bufferIndex++]=255;for(view=new Uint8Array(ab),i=0;i<view.length;i++)resultArray[bufferIndex++]=view[i]}),callback(resultArray.buffer)})},exports.encodePayloadAsBlob=function(packets,callback){map(packets,function(packet,doneCallback){exports.encodePacket(packet,!0,!0,function(encoded){var binaryIdentifier=new Uint8Array(1);if(binaryIdentifier[0]=1,"string"==typeof encoded){for(var view=new Uint8Array(encoded.length),i=0;i<encoded.length;i++)view[i]=encoded.charCodeAt(i);encoded=view.buffer,binaryIdentifier[0]=0}var lenStr=(encoded instanceof ArrayBuffer?encoded.byteLength:encoded.size).toString(),lengthAry=new Uint8Array(lenStr.length+1);for(i=0;i<lenStr.length;i++)lengthAry[i]=parseInt(lenStr[i]);if(lengthAry[lenStr.length]=255,Blob){var blob=new Blob([binaryIdentifier.buffer,lengthAry.buffer,encoded]);doneCallback(null,blob)}})},function(err,results){return callback(new Blob(results))})},exports.decodePayloadAsBinary=function(data,binaryType,callback){"function"==typeof binaryType&&(callback=binaryType,binaryType=null);for(var bufferTail=data,buffers=[];bufferTail.byteLength>0;){for(var tailArray=new Uint8Array(bufferTail),isString=0===tailArray[0],msgLength="",i=1;255!==tailArray[i];i++){if(msgLength.length>310)return callback(err,0,1);msgLength+=tailArray[i]}bufferTail=sliceBuffer(bufferTail,2+msgLength.length),msgLength=parseInt(msgLength);var msg=sliceBuffer(bufferTail,0,msgLength);if(isString)try{msg=String.fromCharCode.apply(null,new Uint8Array(msg))}catch(e){var typed=new Uint8Array(msg);msg="";for(i=0;i<typed.length;i++)msg+=String.fromCharCode(typed[i])}buffers.push(msg),bufferTail=sliceBuffer(bufferTail,msgLength)}var total=buffers.length;buffers.forEach(function(buffer,i){callback(exports.decodePacket(buffer,binaryType,!0),i,total)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":166,"./utf8":167,after:146,"arraybuffer.slice":147,"base64-arraybuffer":149,blob:150,"has-binary2":168}],166:[function(require,module,exports){module.exports=Object.keys||function(obj){var arr=[],has=Object.prototype.hasOwnProperty;for(var i in obj)has.call(obj,i)&&arr.push(i);return arr}},{}],167:[function(require,module,exports){(function(global){!function(root){var freeExports="object"==typeof exports&&exports,freeModule="object"==typeof module&&module&&module.exports==freeExports&&module,freeGlobal="object"==typeof global&&global;freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(root=freeGlobal);var byteArray,byteCount,byteIndex,stringFromCharCode=String.fromCharCode;function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;counter<length;)(value=string.charCodeAt(counter++))>=55296&&value<=56319&&counter<length?56320==(64512&(extra=string.charCodeAt(counter++)))?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--):output.push(value);return output}function checkScalarValue(codePoint,strict){if(codePoint>=55296&&codePoint<=57343){if(strict)throw Error("Lone surrogate U+"+codePoint.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function createByte(codePoint,shift){return stringFromCharCode(codePoint>>shift&63|128)}function encodeCodePoint(codePoint,strict){if(0==(4294967168&codePoint))return stringFromCharCode(codePoint);var symbol="";return 0==(4294965248&codePoint)?symbol=stringFromCharCode(codePoint>>6&31|192):0==(4294901760&codePoint)?(checkScalarValue(codePoint,strict)||(codePoint=65533),symbol=stringFromCharCode(codePoint>>12&15|224),symbol+=createByte(codePoint,6)):0==(4292870144&codePoint)&&(symbol=stringFromCharCode(codePoint>>18&7|240),symbol+=createByte(codePoint,12),symbol+=createByte(codePoint,6)),symbol+=stringFromCharCode(63&codePoint|128)}function readContinuationByte(){if(byteIndex>=byteCount)throw Error("Invalid byte index");var continuationByte=255&byteArray[byteIndex];if(byteIndex++,128==(192&continuationByte))return 63&continuationByte;throw Error("Invalid continuation byte")}function decodeSymbol(strict){var byte1,codePoint;if(byteIndex>byteCount)throw Error("Invalid byte index");if(byteIndex==byteCount)return!1;if(byte1=255&byteArray[byteIndex],byteIndex++,0==(128&byte1))return byte1;if(192==(224&byte1)){if((codePoint=(31&byte1)<<6|readContinuationByte())>=128)return codePoint;throw Error("Invalid continuation byte")}if(224==(240&byte1)){if((codePoint=(15&byte1)<<12|readContinuationByte()<<6|readContinuationByte())>=2048)return checkScalarValue(codePoint,strict)?codePoint:65533;throw Error("Invalid continuation byte")}if(240==(248&byte1)&&(codePoint=(7&byte1)<<18|readContinuationByte()<<12|readContinuationByte()<<6|readContinuationByte())>=65536&&codePoint<=1114111)return codePoint;throw Error("Invalid UTF-8 detected")}var utf8={version:"2.1.2",encode:function(string,opts){for(var strict=!1!==(opts=opts||{}).strict,codePoints=ucs2decode(string),length=codePoints.length,index=-1,byteString="";++index<length;)byteString+=encodeCodePoint(codePoints[index],strict);return byteString},decode:function(byteString,opts){var strict=!1!==(opts=opts||{}).strict;byteArray=ucs2decode(byteString),byteCount=byteArray.length,byteIndex=0;for(var tmp,codePoints=[];!1!==(tmp=decodeSymbol(strict));)codePoints.push(tmp);return function(array){for(var value,length=array.length,index=-1,output="";++index<length;)(value=array[index])>65535&&(output+=stringFromCharCode((value-=65536)>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value);return output}(codePoints)}};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return utf8});else if(freeExports&&!freeExports.nodeType)if(freeModule)freeModule.exports=utf8;else{var hasOwnProperty={}.hasOwnProperty;for(var key in utf8)hasOwnProperty.call(utf8,key)&&(freeExports[key]=utf8[key])}else root.utf8=utf8}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],168:[function(require,module,exports){(function(Buffer){var isArray=require("isarray"),toString=Object.prototype.toString,withNativeBlob="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===toString.call(Blob),withNativeFile="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===toString.call(File);module.exports=function hasBinary(obj){if(!obj||"object"!=typeof obj)return!1;if(isArray(obj)){for(var i=0,l=obj.length;i<l;i++)if(hasBinary(obj[i]))return!0;return!1}if("function"==typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(obj)||"function"==typeof ArrayBuffer&&obj instanceof ArrayBuffer||withNativeBlob&&obj instanceof Blob||withNativeFile&&obj instanceof File)return!0;if(obj.toJSON&&"function"==typeof obj.toJSON&&1===arguments.length)return hasBinary(obj.toJSON(),!0);for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)&&hasBinary(obj[key]))return!0;return!1}}).call(this,require("buffer").Buffer)},{buffer:246,isarray:169}],169:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},{}],170:[function(require,module,exports){try{module.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(err){module.exports=!1}},{}],171:[function(require,module,exports){var indexOf=[].indexOf;module.exports=function(arr,obj){if(indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i)if(arr[i]===obj)return i;return-1}},{}],172:[function(require,module,exports){var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;function plural(ms,n,name){if(!(ms<n))return ms<1.5*n?Math.floor(ms/n)+" "+name:Math.ceil(ms/n)+" "+name+"s"}module.exports=function(val,options){options=options||{};var ms,type=typeof val;if("string"===type&&val.length>0)return function(str){if((str=String(str)).length>100)return;var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(!match)return;var n=parseFloat(match[1]);switch((match[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*y;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(val);if("number"===type&&!1===isNaN(val))return options.long?plural(ms=val,d,"day")||plural(ms,h,"hour")||plural(ms,m,"minute")||plural(ms,s,"second")||ms+" ms":function(ms){if(ms>=d)return Math.round(ms/d)+"d";if(ms>=h)return Math.round(ms/h)+"h";if(ms>=m)return Math.round(ms/m)+"m";if(ms>=s)return Math.round(ms/s)+"s";return ms+"ms"}(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))}},{}],173:[function(require,module,exports){exports.encode=function(obj){var str="";for(var i in obj)obj.hasOwnProperty(i)&&(str.length&&(str+="&"),str+=encodeURIComponent(i)+"="+encodeURIComponent(obj[i]));return str},exports.decode=function(qs){for(var qry={},pairs=qs.split("&"),i=0,l=pairs.length;i<l;i++){var pair=pairs[i].split("=");qry[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1])}return qry}},{}],174:[function(require,module,exports){var re=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];module.exports=function(str){var src=str,b=str.indexOf("["),e=str.indexOf("]");-1!=b&&-1!=e&&(str=str.substring(0,b)+str.substring(b,e).replace(/:/g,";")+str.substring(e,str.length));for(var m=re.exec(str||""),uri={},i=14;i--;)uri[parts[i]]=m[i]||"";return-1!=b&&-1!=e&&(uri.source=src,uri.host=uri.host.substring(1,uri.host.length-1).replace(/;/g,":"),uri.authority=uri.authority.replace("[","").replace("]","").replace(/;/g,":"),uri.ipv6uri=!0),uri}},{}],175:[function(require,module,exports){var url=require("./url"),parser=require("socket.io-parser"),Manager=require("./manager"),debug=require("debug")("socket.io-client");module.exports=exports=lookup;var cache=exports.managers={};function lookup(uri,opts){"object"==typeof uri&&(opts=uri,uri=void 0),opts=opts||{};var io,parsed=url(uri),source=parsed.source,id=parsed.id,path=parsed.path,sameNamespace=cache[id]&&path in cache[id].nsps;return opts.forceNew||opts["force new connection"]||!1===opts.multiplex||sameNamespace?(debug("ignoring socket cache for %s",source),io=Manager(source,opts)):(cache[id]||(debug("new io instance for %s",source),cache[id]=Manager(source,opts)),io=cache[id]),parsed.query&&!opts.query&&(opts.query=parsed.query),io.socket(parsed.path,opts)}exports.protocol=parser.protocol,exports.connect=lookup,exports.Manager=require("./manager"),exports.Socket=require("./socket")},{"./manager":176,"./socket":178,"./url":179,debug:154,"socket.io-parser":181}],176:[function(require,module,exports){var eio=require("engine.io-client"),Socket=require("./socket"),Emitter=require("component-emitter"),parser=require("socket.io-parser"),on=require("./on"),bind=require("component-bind"),debug=require("debug")("socket.io-client:manager"),indexOf=require("indexof"),Backoff=require("backo2"),has=Object.prototype.hasOwnProperty;function Manager(uri,opts){if(!(this instanceof Manager))return new Manager(uri,opts);uri&&"object"==typeof uri&&(opts=uri,uri=void 0),(opts=opts||{}).path=opts.path||"/socket.io",this.nsps={},this.subs=[],this.opts=opts,this.reconnection(!1!==opts.reconnection),this.reconnectionAttempts(opts.reconnectionAttempts||1/0),this.reconnectionDelay(opts.reconnectionDelay||1e3),this.reconnectionDelayMax(opts.reconnectionDelayMax||5e3),this.randomizationFactor(opts.randomizationFactor||.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==opts.timeout?2e4:opts.timeout),this.readyState="closed",this.uri=uri,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var _parser=opts.parser||parser;this.encoder=new _parser.Encoder,this.decoder=new _parser.Decoder,this.autoConnect=!1!==opts.autoConnect,this.autoConnect&&this.open()}module.exports=Manager,Manager.prototype.emitAll=function(){for(var nsp in this.emit.apply(this,arguments),this.nsps)has.call(this.nsps,nsp)&&this.nsps[nsp].emit.apply(this.nsps[nsp],arguments)},Manager.prototype.updateSocketIds=function(){for(var nsp in this.nsps)has.call(this.nsps,nsp)&&(this.nsps[nsp].id=this.generateId(nsp))},Manager.prototype.generateId=function(nsp){return("/"===nsp?"":nsp+"#")+this.engine.id},Emitter(Manager.prototype),Manager.prototype.reconnection=function(v){return arguments.length?(this._reconnection=!!v,this):this._reconnection},Manager.prototype.reconnectionAttempts=function(v){return arguments.length?(this._reconnectionAttempts=v,this):this._reconnectionAttempts},Manager.prototype.reconnectionDelay=function(v){return arguments.length?(this._reconnectionDelay=v,this.backoff&&this.backoff.setMin(v),this):this._reconnectionDelay},Manager.prototype.randomizationFactor=function(v){return arguments.length?(this._randomizationFactor=v,this.backoff&&this.backoff.setJitter(v),this):this._randomizationFactor},Manager.prototype.reconnectionDelayMax=function(v){return arguments.length?(this._reconnectionDelayMax=v,this.backoff&&this.backoff.setMax(v),this):this._reconnectionDelayMax},Manager.prototype.timeout=function(v){return arguments.length?(this._timeout=v,this):this._timeout},Manager.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Manager.prototype.open=Manager.prototype.connect=function(fn,opts){if(debug("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;debug("opening %s",this.uri),this.engine=eio(this.uri,this.opts);var socket=this.engine,self=this;this.readyState="opening",this.skipReconnect=!1;var openSub=on(socket,"open",function(){self.onopen(),fn&&fn()}),errorSub=on(socket,"error",function(data){if(debug("connect_error"),self.cleanup(),self.readyState="closed",self.emitAll("connect_error",data),fn){var err=new Error("Connection error");err.data=data,fn(err)}else self.maybeReconnectOnOpen()});if(!1!==this._timeout){var timeout=this._timeout;debug("connect attempt will timeout after %d",timeout);var timer=setTimeout(function(){debug("connect attempt timed out after %d",timeout),openSub.destroy(),socket.close(),socket.emit("error","timeout"),self.emitAll("connect_timeout",timeout)},timeout);this.subs.push({destroy:function(){clearTimeout(timer)}})}return this.subs.push(openSub),this.subs.push(errorSub),this},Manager.prototype.onopen=function(){debug("open"),this.cleanup(),this.readyState="open",this.emit("open");var socket=this.engine;this.subs.push(on(socket,"data",bind(this,"ondata"))),this.subs.push(on(socket,"ping",bind(this,"onping"))),this.subs.push(on(socket,"pong",bind(this,"onpong"))),this.subs.push(on(socket,"error",bind(this,"onerror"))),this.subs.push(on(socket,"close",bind(this,"onclose"))),this.subs.push(on(this.decoder,"decoded",bind(this,"ondecoded")))},Manager.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Manager.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Manager.prototype.ondata=function(data){this.decoder.add(data)},Manager.prototype.ondecoded=function(packet){this.emit("packet",packet)},Manager.prototype.onerror=function(err){debug("error",err),this.emitAll("error",err)},Manager.prototype.socket=function(nsp,opts){var socket=this.nsps[nsp];if(!socket){socket=new Socket(this,nsp,opts),this.nsps[nsp]=socket;var self=this;socket.on("connecting",onConnecting),socket.on("connect",function(){socket.id=self.generateId(nsp)}),this.autoConnect&&onConnecting()}function onConnecting(){~indexOf(self.connecting,socket)||self.connecting.push(socket)}return socket},Manager.prototype.destroy=function(socket){var index=indexOf(this.connecting,socket);~index&&this.connecting.splice(index,1),this.connecting.length||this.close()},Manager.prototype.packet=function(packet){debug("writing packet %j",packet);var self=this;packet.query&&0===packet.type&&(packet.nsp+="?"+packet.query),self.encoding?self.packetBuffer.push(packet):(self.encoding=!0,this.encoder.encode(packet,function(encodedPackets){for(var i=0;i<encodedPackets.length;i++)self.engine.write(encodedPackets[i],packet.options);self.encoding=!1,self.processPacketQueue()}))},Manager.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var pack=this.packetBuffer.shift();this.packet(pack)}},Manager.prototype.cleanup=function(){debug("cleanup");for(var subsLength=this.subs.length,i=0;i<subsLength;i++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Manager.prototype.close=Manager.prototype.disconnect=function(){debug("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Manager.prototype.onclose=function(reason){debug("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",reason),this._reconnection&&!this.skipReconnect&&this.reconnect()},Manager.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var self=this;if(this.backoff.attempts>=this._reconnectionAttempts)debug("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var delay=this.backoff.duration();debug("will wait %dms before reconnect attempt",delay),this.reconnecting=!0;var timer=setTimeout(function(){self.skipReconnect||(debug("attempting reconnect"),self.emitAll("reconnect_attempt",self.backoff.attempts),self.emitAll("reconnecting",self.backoff.attempts),self.skipReconnect||self.open(function(err){err?(debug("reconnect attempt error"),self.reconnecting=!1,self.reconnect(),self.emitAll("reconnect_error",err.data)):(debug("reconnect success"),self.onreconnect())}))},delay);this.subs.push({destroy:function(){clearTimeout(timer)}})}},Manager.prototype.onreconnect=function(){var attempt=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",attempt)}},{"./on":177,"./socket":178,backo2:148,"component-bind":151,"component-emitter":152,debug:154,"engine.io-client":156,indexof:171,"socket.io-parser":181}],177:[function(require,module,exports){module.exports=function(obj,ev,fn){return obj.on(ev,fn),{destroy:function(){obj.removeListener(ev,fn)}}}},{}],178:[function(require,module,exports){var parser=require("socket.io-parser"),Emitter=require("component-emitter"),toArray=require("to-array"),on=require("./on"),bind=require("component-bind"),debug=require("debug")("socket.io-client:socket"),parseqs=require("parseqs"),hasBin=require("has-binary2");module.exports=Socket;var events={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},emit=Emitter.prototype.emit;function Socket(io,nsp,opts){this.io=io,this.nsp=nsp,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},opts&&opts.query&&(this.query=opts.query),this.io.autoConnect&&this.open()}Emitter(Socket.prototype),Socket.prototype.subEvents=function(){if(!this.subs){var io=this.io;this.subs=[on(io,"open",bind(this,"onopen")),on(io,"packet",bind(this,"onpacket")),on(io,"close",bind(this,"onclose"))]}},Socket.prototype.open=Socket.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},Socket.prototype.send=function(){var args=toArray(arguments);return args.unshift("message"),this.emit.apply(this,args),this},Socket.prototype.emit=function(ev){if(events.hasOwnProperty(ev))return emit.apply(this,arguments),this;var args=toArray(arguments),packet={type:(void 0!==this.flags.binary?this.flags.binary:hasBin(args))?parser.BINARY_EVENT:parser.EVENT,data:args,options:{}};return packet.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof args[args.length-1]&&(debug("emitting packet with ack id %d",this.ids),this.acks[this.ids]=args.pop(),packet.id=this.ids++),this.connected?this.packet(packet):this.sendBuffer.push(packet),this.flags={},this},Socket.prototype.packet=function(packet){packet.nsp=this.nsp,this.io.packet(packet)},Socket.prototype.onopen=function(){if(debug("transport is open - connecting"),"/"!==this.nsp)if(this.query){var query="object"==typeof this.query?parseqs.encode(this.query):this.query;debug("sending connect packet with query %s",query),this.packet({type:parser.CONNECT,query:query})}else this.packet({type:parser.CONNECT})},Socket.prototype.onclose=function(reason){debug("close (%s)",reason),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",reason)},Socket.prototype.onpacket=function(packet){var sameNamespace=packet.nsp===this.nsp,rootNamespaceError=packet.type===parser.ERROR&&"/"===packet.nsp;if(sameNamespace||rootNamespaceError)switch(packet.type){case parser.CONNECT:this.onconnect();break;case parser.EVENT:case parser.BINARY_EVENT:this.onevent(packet);break;case parser.ACK:case parser.BINARY_ACK:this.onack(packet);break;case parser.DISCONNECT:this.ondisconnect();break;case parser.ERROR:this.emit("error",packet.data)}},Socket.prototype.onevent=function(packet){var args=packet.data||[];debug("emitting event %j",args),null!=packet.id&&(debug("attaching ack callback to event"),args.push(this.ack(packet.id))),this.connected?emit.apply(this,args):this.receiveBuffer.push(args)},Socket.prototype.ack=function(id){var self=this,sent=!1;return function(){if(!sent){sent=!0;var args=toArray(arguments);debug("sending ack %j",args),self.packet({type:hasBin(args)?parser.BINARY_ACK:parser.ACK,id:id,data:args})}}},Socket.prototype.onack=function(packet){var ack=this.acks[packet.id];"function"==typeof ack?(debug("calling ack %s with %j",packet.id,packet.data),ack.apply(this,packet.data),delete this.acks[packet.id]):debug("bad ack %s",packet.id)},Socket.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},Socket.prototype.emitBuffered=function(){var i;for(i=0;i<this.receiveBuffer.length;i++)emit.apply(this,this.receiveBuffer[i]);for(this.receiveBuffer=[],i=0;i<this.sendBuffer.length;i++)this.packet(this.sendBuffer[i]);this.sendBuffer=[]},Socket.prototype.ondisconnect=function(){debug("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},Socket.prototype.destroy=function(){if(this.subs){for(var i=0;i<this.subs.length;i++)this.subs[i].destroy();this.subs=null}this.io.destroy(this)},Socket.prototype.close=Socket.prototype.disconnect=function(){return this.connected&&(debug("performing disconnect (%s)",this.nsp),this.packet({type:parser.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},Socket.prototype.compress=function(compress){return this.flags.compress=compress,this},Socket.prototype.binary=function(binary){return this.flags.binary=binary,this}},{"./on":177,"component-bind":151,"component-emitter":152,debug:154,"has-binary2":168,parseqs:173,"socket.io-parser":181,"to-array":184}],179:[function(require,module,exports){(function(global){var parseuri=require("parseuri"),debug=require("debug")("socket.io-client:url");module.exports=function(uri,loc){var obj=uri;loc=loc||global.location,null==uri&&(uri=loc.protocol+"//"+loc.host);"string"==typeof uri&&("/"===uri.charAt(0)&&(uri="/"===uri.charAt(1)?loc.protocol+uri:loc.host+uri),/^(https?|wss?):\/\//.test(uri)||(debug("protocol-less url %s",uri),uri=void 0!==loc?loc.protocol+"//"+uri:"https://"+uri),debug("parse %s",uri),obj=parseuri(uri));obj.port||(/^(http|ws)$/.test(obj.protocol)?obj.port="80":/^(http|ws)s$/.test(obj.protocol)&&(obj.port="443"));obj.path=obj.path||"/";var host=-1!==obj.host.indexOf(":")?"["+obj.host+"]":obj.host;return obj.id=obj.protocol+"://"+host+":"+obj.port,obj.href=obj.protocol+"://"+host+(loc&&loc.port===obj.port?"":":"+obj.port),obj}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:154,parseuri:174}],180:[function(require,module,exports){(function(global){var isArray=require("isarray"),isBuf=require("./is-buffer"),toString=Object.prototype.toString,withNativeBlob="function"==typeof global.Blob||"[object BlobConstructor]"===toString.call(global.Blob),withNativeFile="function"==typeof global.File||"[object FileConstructor]"===toString.call(global.File);exports.deconstructPacket=function(packet){var buffers=[],packetData=packet.data,pack=packet;return pack.data=function _deconstructPacket(data,buffers){if(!data)return data;if(isBuf(data)){var placeholder={_placeholder:!0,num:buffers.length};return buffers.push(data),placeholder}if(isArray(data)){for(var newData=new Array(data.length),i=0;i<data.length;i++)newData[i]=_deconstructPacket(data[i],buffers);return newData}if("object"==typeof data&&!(data instanceof Date)){var newData={};for(var key in data)newData[key]=_deconstructPacket(data[key],buffers);return newData}return data}(packetData,buffers),pack.attachments=buffers.length,{packet:pack,buffers:buffers}},exports.reconstructPacket=function(packet,buffers){return packet.data=function _reconstructPacket(data,buffers){if(!data)return data;if(data&&data._placeholder)return buffers[data.num];if(isArray(data))for(var i=0;i<data.length;i++)data[i]=_reconstructPacket(data[i],buffers);else if("object"==typeof data)for(var key in data)data[key]=_reconstructPacket(data[key],buffers);return data}(packet.data,buffers),packet.attachments=void 0,packet},exports.removeBlobs=function(data,callback){var pendingBlobs=0,bloblessData=data;!function _removeBlobs(obj,curKey,containingObject){if(!obj)return obj;if(withNativeBlob&&obj instanceof Blob||withNativeFile&&obj instanceof File){pendingBlobs++;var fileReader=new FileReader;fileReader.onload=function(){containingObject?containingObject[curKey]=this.result:bloblessData=this.result,--pendingBlobs||callback(bloblessData)},fileReader.readAsArrayBuffer(obj)}else if(isArray(obj))for(var i=0;i<obj.length;i++)_removeBlobs(obj[i],i,obj);else if("object"==typeof obj&&!isBuf(obj))for(var key in obj)_removeBlobs(obj[key],key,obj)}(bloblessData),pendingBlobs||callback(bloblessData)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":182,isarray:183}],181:[function(require,module,exports){var debug=require("debug")("socket.io-parser"),Emitter=require("component-emitter"),binary=require("./binary"),isArray=require("isarray"),isBuf=require("./is-buffer");function Encoder(){}exports.protocol=4,exports.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],exports.CONNECT=0,exports.DISCONNECT=1,exports.EVENT=2,exports.ACK=3,exports.ERROR=4,exports.BINARY_EVENT=5,exports.BINARY_ACK=6,exports.Encoder=Encoder,exports.Decoder=Decoder;var ERROR_PACKET=exports.ERROR+'"encode error"';function encodeAsString(obj){var str=""+obj.type;if(exports.BINARY_EVENT!==obj.type&&exports.BINARY_ACK!==obj.type||(str+=obj.attachments+"-"),obj.nsp&&"/"!==obj.nsp&&(str+=obj.nsp+","),null!=obj.id&&(str+=obj.id),null!=obj.data){var payload=function(str){try{return JSON.stringify(str)}catch(e){return!1}}(obj.data);if(!1===payload)return ERROR_PACKET;str+=payload}return debug("encoded %j as %s",obj,str),str}function Decoder(){this.reconstructor=null}function BinaryReconstructor(packet){this.reconPack=packet,this.buffers=[]}function error(msg){return{type:exports.ERROR,data:"parser error: "+msg}}Encoder.prototype.encode=function(obj,callback){(debug("encoding packet %j",obj),exports.BINARY_EVENT===obj.type||exports.BINARY_ACK===obj.type)?function(obj,callback){binary.removeBlobs(obj,function(bloblessData){var deconstruction=binary.deconstructPacket(bloblessData),pack=encodeAsString(deconstruction.packet),buffers=deconstruction.buffers;buffers.unshift(pack),callback(buffers)})}(obj,callback):callback([encodeAsString(obj)])},Emitter(Decoder.prototype),Decoder.prototype.add=function(obj){var packet;if("string"==typeof obj)packet=function(str){var i=0,p={type:Number(str.charAt(0))};if(null==exports.types[p.type])return error("unknown packet type "+p.type);if(exports.BINARY_EVENT===p.type||exports.BINARY_ACK===p.type){for(var buf="";"-"!==str.charAt(++i)&&(buf+=str.charAt(i),i!=str.length););if(buf!=Number(buf)||"-"!==str.charAt(i))throw new Error("Illegal attachments");p.attachments=Number(buf)}if("/"===str.charAt(i+1))for(p.nsp="";++i;){var c=str.charAt(i);if(","===c)break;if(p.nsp+=c,i===str.length)break}else p.nsp="/";var next=str.charAt(i+1);if(""!==next&&Number(next)==next){for(p.id="";++i;){var c=str.charAt(i);if(null==c||Number(c)!=c){--i;break}if(p.id+=str.charAt(i),i===str.length)break}p.id=Number(p.id)}if(str.charAt(++i)){var payload=function(str){try{return JSON.parse(str)}catch(e){return!1}}(str.substr(i)),isPayloadValid=!1!==payload&&(p.type===exports.ERROR||isArray(payload));if(!isPayloadValid)return error("invalid payload");p.data=payload}return debug("decoded %s as %j",str,p),p}(obj),exports.BINARY_EVENT===packet.type||exports.BINARY_ACK===packet.type?(this.reconstructor=new BinaryReconstructor(packet),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",packet)):this.emit("decoded",packet);else{if(!isBuf(obj)&&!obj.base64)throw new Error("Unknown type: "+obj);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(packet=this.reconstructor.takeBinaryData(obj))&&(this.reconstructor=null,this.emit("decoded",packet))}},Decoder.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},BinaryReconstructor.prototype.takeBinaryData=function(binData){if(this.buffers.push(binData),this.buffers.length===this.reconPack.attachments){var packet=binary.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),packet}return null},BinaryReconstructor.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":180,"./is-buffer":182,"component-emitter":152,debug:154,isarray:183}],182:[function(require,module,exports){(function(global){module.exports=function(obj){return withNativeBuffer&&global.Buffer.isBuffer(obj)||withNativeArrayBuffer&&(obj instanceof global.ArrayBuffer||isView(obj))};var withNativeBuffer="function"==typeof global.Buffer&&"function"==typeof global.Buffer.isBuffer,withNativeArrayBuffer="function"==typeof global.ArrayBuffer,isView=withNativeArrayBuffer&&"function"==typeof global.ArrayBuffer.isView?global.ArrayBuffer.isView:function(obj){return obj.buffer instanceof global.ArrayBuffer}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],183:[function(require,module,exports){arguments[4][169][0].apply(exports,arguments)},{dup:169}],184:[function(require,module,exports){module.exports=function(list,index){for(var array=[],i=(index=index||0)||0;i<list.length;i++)array[i-index]=list[i];return array}},{}],185:[function(require,module,exports){"use strict";var prev,alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={},seed=0,i=0;function encode(num){var encoded="";do{encoded=alphabet[num%length]+encoded,num=Math.floor(num/length)}while(num>0);return encoded}function yeast(){var now=encode(+new Date);return now!==prev?(seed=0,prev=now):now+"."+encode(seed++)}for(;i<length;i++)map[alphabet[i]]=i;yeast.encode=encode,yeast.decode=function(str){var decoded=0;for(i=0;i<str.length;i++)decoded=decoded*length+map[str.charAt(i)];return decoded},module.exports=yeast},{}],186:[function(require,module,exports){var ref$,reject,find,routeMatch,Logger,hex,brief,out$=void 0!==exports&&exports||this,slice$=[].slice;ref$=require("prelude-ls"),reject=ref$.reject,find=ref$.find,routeMatch=require("./topic-match").topicMatch,ref$=require("../lib"),Logger=ref$.Logger,ref$.sleep,hex=ref$.hex,brief=require("../lib/debug-tools").brief,out$.ActorManager=function(){ActorManager.displayName="ActorManager";var prototype=ActorManager.prototype,constructor=ActorManager;function ActorManager(){if(constructor.instance)return constructor.instance;constructor.instance=this,this.actorUid=1,this.actors=[],this.managerId=hex(Date.now()),this.log=new Logger("ActorMan."+this.managerId)}return ActorManager.instance=null,prototype.nextActorId=function(){return"a"+this.actorUid+++"-"+this.managerId},prototype.registerActor=function(actor){if(!find(function(it){return it.id===actor.id},this.actors))return this.actors.push(actor)},prototype.findActor=function(id){if(!id)throw"id is required!";return find(function(it){return it.id===id},this.actors)},prototype.deregisterActor=function(actor){return this.actors=reject(function(it){return it.id===actor.id},this.actors)},prototype.distribute=function(msg,sender){var dueDate,i$,ref$,len$,actor,that,delay,results$=[];for(msg.debug&&this.log.debug("Distributing message: ",brief(msg)),dueDate=Date.now(),i$=0,len$=(ref$=this.actors).length;i$<len$;++i$)if((actor=ref$[i$]).id!==sender)if(routeMatch(msg.to,actor.subscriptions)){if(that=msg._exclude){if(that===actor.id)continue;delete msg._exclude}(delay=Date.now()-dueDate)>100&&this.log.warn("System load is high? Message is delivered after "+delay+"ms"),results$.push(actor._inbox(msg))}else results$.push(null);return results$},prototype.kill=function(){var args,i$,ref$,len$,actor,results$=[];for(args=slice$.call(arguments),i$=0,len$=(ref$=this.actors).length;i$<len$;++i$)actor=ref$[i$],results$.push(actor.trigger.apply(actor,["kill"].concat(slice$.call(args))));return results$},ActorManager}()},{"../lib":86,"../lib/debug-tools":84,"./topic-match":197,"prelude-ls":128}],187:[function(require,module,exports){(function(setImmediate){var ref$,EventEmitter,Logger,merge,brief,ActorManager,Signal,flatten,keys,unique,routeMatch,messageOwner,Actor,out$=void 0!==exports&&exports||this,toString$={}.toString,slice$=[].slice;function extend$(sub,sup){function fun(){}return fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub),sub}function import$(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}function in$(x,xs){for(var i=-1,l=xs.length>>>0;++i<l;)if(x===xs[i])return!0;return!1}(ref$=require("../lib")).sleep,ref$.pack,EventEmitter=ref$.EventEmitter,Logger=ref$.Logger,merge=ref$.merge,brief=require("../lib/debug-tools").brief,ActorManager=require("./actor-manager").ActorManager,Signal=require("./signal").Signal,(ref$=require("prelude-ls")).split,flatten=ref$.flatten,keys=ref$.keys,unique=ref$.unique,ref$.isItNaN,routeMatch=require("./topic-match").topicMatch,out$.TopicTypeError=function(superclass){extend$((import$(TopicTypeError,superclass).displayName="TopicTypeError",TopicTypeError),superclass).prototype;function TopicTypeError(message,route){this.message=message,this.route=route,TopicTypeError.superclass.apply(this,arguments),Error.captureStackTrace(this,TopicTypeError),this.type="TopicTypeError"}return TopicTypeError}(Error),messageOwner=function(it){var ref$;return(ref$=it.to.split("."))[ref$.length-1]},out$.Actor=Actor=function(superclass){var prototype=extend$((import$(Actor,superclass).displayName="Actor",Actor),superclass).prototype;function Actor(name,opts){var obj,key,target;null==opts&&(opts={}),this.send=(obj=this,key="send",target=prototype,function(){return(target||obj)[key].apply(obj,arguments)}),Actor.superclass.call(this),this.mgr=new ActorManager,this.id=this.mgr.nextActorId(),this.me=this.id,this.name=name||this.id,this.log=new Logger(this.name),this.msgSeq=0,this.subscriptions=[this.me],this.requestQueue={},this._route_handlers={},this._state={},this._partial_msg_states={},this._request_concat_cache={},this._last_login=0,this.mgr.registerActor(this),"Function"===toString$.call(this.action).slice(8,-1)&&this.action()}return prototype.setName=function(name){return this.name=name,this.log.name=name},prototype.subscribe=function(routes){var i$,ref$,len$,route,results$=[];for(i$=0,len$=(ref$=unique(flatten([routes]))).length;i$<len$;++i$)route=ref$[i$],results$.push(this.subscriptions.push(route));return results$},prototype.unsubscribe=function(route){return this.subscriptions.splice(this.subscriptions.indexOf(route),1)},prototype.send=function(route,data){var enveloped;return"String"===toString$.call(route).slice(8,-1)&&(route={to:route}),enveloped=import$({from:this.me,data:data,seq:this.msgSeq++},route),this.sendEnveloped(enveloped)},prototype.sendRequest=function(opts,data,callback){var meta,timeout,that,seq,requestId,enveloped,partHandler,completeHandler,lastPartSent,regPartHandlers,responseSignal,error,message,mergeMethodManual,requestDate,this$=this;return meta={},timeout=5e3,"String"===toString$.call(opts).slice(8,-1)?meta.to=opts:(meta.to=opts.topic||opts.route||opts.to,(that=opts.timeout)&&(timeout=that)),seq=this.msgSeq++,requestId=seq+"",meta.part=this.getNextPartId(opts.part,requestId),opts.debug&&(meta.debug=!0),"Function"===toString$.call(data).slice(8,-1)&&(callback=data,data=null),meta.from=this.me,meta.seq=seq,meta.data=data,meta.req=!0,meta.timestamp=Date.now(),enveloped=meta,this.subscribe(meta.to),partHandler=function(){},completeHandler=function(){},lastPartSent=!1,regPartHandlers={onPart:function(func){return partHandler=func},onReceive:function(func){return completeHandler=func},sendPart:function(data,lastPart){var msg;if(null==lastPart&&(lastPart=!0),!lastPartSent)return enveloped.data=data,(msg=enveloped).part=this$.getNextPartId(!lastPart,requestId),this$.log.log("Sending next part with id: ",msg.part),this$.sendEnveloped(msg),lastPart?lastPartSent=!0:void 0;this$.log.err("Last part is already sent.")}},responseSignal=new Signal({debug:enveloped.debug,name:"ReqSig:"+enveloped.seq}),this.requestQueue[requestId]=responseSignal,error=null,{},message={},mergeMethodManual=!1,requestDate=Date.now(),function lo(op){return responseSignal.clear(),responseSignal.wait(timeout,function(err,msg){return err?(error=err,op()):(partHandler(msg),null!=requestDate&&(requestDate+200<Date.now()&&this$.log.debug("First response is too late for seq:"+enveloped.seq+" latency:"+(Date.now()-requestDate)+"ms, req: ",enveloped),requestDate=void 0),msg.timeout&&(enveloped.debug&&this$.log.debug("New timeout is set from target: "+msg.timeout+"ms for request seq: "+enveloped.seq),timeout=msg.timeout),null!=msg.merge&&!1===msg.merge&&(mergeMethodManual=!0),mergeMethodManual||merge(message,msg),null==msg.part||msg.part<0?op():lo(op))})}(function(){if(!this$._state.killFinished)return"TIMEOUT"===error&&this$.log.warn("Request is timed out. Timeout was "+timeout+"ms, seq: "+enveloped.seq+". req was:",brief(enveloped)),this$.unsubscribe(meta.to),delete this$.requestQueue[requestId],mergeMethodManual&&(error="Merge method is set to manual. We can't concat the messages."),completeHandler(error,message),"Function"===toString$.call(callback).slice(8,-1)?callback(error,message):void 0;this$.log.warn("Got response activity after killed?",error,message)}),meta.debug&&this.log.debug("Sending request seq: "+enveloped.seq),this.sendEnveloped(enveloped),regPartHandlers},prototype.getNextPartId=function(autoinc,msgId){var nextPart;return nextPart=void 0,autoinc?(null==this._partial_msg_states[msgId]&&(this._partial_msg_states[msgId]=0),nextPart=this._partial_msg_states[msgId]++):null!=this._partial_msg_states[msgId]&&(delete this._partial_msg_states[msgId],nextPart=-1),nextPart},prototype.sendResponse=function(req,meta,data){var enveloped;if(req.req)return"Undefined"===toString$.call(data).slice(8,-1)&&(data=meta,meta={}),meta.part=this.getNextPartId(meta.part,req.from+"."+req.seq),enveloped=import$({from:this.me,to:req.from,seq:this.msgSeq++,data:data,re:req.seq,resToken:req.resToken,debug:req.debug},meta),(req.debug||meta.debug)&&this.log.debug("sending the response for request: ",brief(enveloped)),this.sendEnveloped(enveloped);this.log.err("No request is required, doing nothing.")},prototype._inbox=function(msg){var this$=this;return(this.debug||msg.debug)&&this.log.debug("Got msg to inbox: ",brief(msg)),this._state.killFinished,msg.permissions=msg.permissions||[],setImmediate(function(){var ref$;if(null==msg.re||messageOwner(msg)!==this$.me)return"data"in msg&&this$.trigger("data",msg),this$.trigger("receive",msg);this$.requestQueue[msg.re]?((this$.debug||msg.debug)&&(this$.log.debug("We were expecting this response: ",msg),this$.log.debug("Current request queue: ",keys(this$.requestQueue))),null!=(ref$=this$.requestQueue[msg.re])&&ref$.go(null,msg)):(this$.log.err("This is not a message we were expecting (or interested in)?is it timed out already? I'm "+this$.me+")",msg),this$.debug&&this$.log.warn("Current request queue: ",this$.requestQueue))})},prototype.onTopic=function(route,handler){var ref$,this$=this;if(!route)throw"Need a route.";return in$(route,this.subscriptions)||this.subscribe(route),this.on("data",function(msg){var requestId,message;if(routeMatch(msg.to,route))return msg.req&&null!=msg.part?(this$.sendResponse(msg,{part:!0,ack:!0},null),requestId=msg.from+"."+msg.seq,this$._request_concat_cache[requestId]||(this$._request_concat_cache[requestId]=(message={},function(msg){var ref$,ref1$;if(merge(message,msg),-1===msg.part)return handler.call(this$,message),ref1$=(ref$=this$._request_concat_cache)[requestId],delete ref$[requestId],ref1$})),this$._request_concat_cache[requestId](msg)):handler.call(this$,msg)}),((ref$=this._route_handlers)[route]||(ref$[route]=[])).push(handler)},prototype.triggerTopic=function(route){var args,that,i$,len$,handler,results$=[];if(args=slice$.call(arguments,1),that=this._route_handlers[route]){for(i$=0,len$=that.length;i$<len$;++i$)handler=that[i$],results$.push(handler.apply(null,args));return results$}return this.log.debug("No such route handler found: "+route)},prototype.onceTopic=function(route,handler){var this$=this;return in$(route,this.subscriptions)||this.subscribe(route),this.once("data",function(msg){if(routeMatch(msg.to,route))return handler(msg),this$.unsubscribe(route)})},prototype.sendEnveloped=function(msg){var this$=this;if(!(msg.to||"auth"in msg))return this.log.err("send-enveloped: Message has no route. Not sending.",msg);setImmediate(function(){return msg.timestamp||(msg.timestamp=Date.now()),this$.debug&&this$.log.debug("sending message: ",msg),this$.mgr.distribute(msg,this$.id)})},prototype.kill=function(reason){var id,ref$;if(!this._state.killStarted){for(id in this._state.killStarted=!0,this.mgr.deregisterActor(this),ref$=this.requestQueue)ref$[id].reset();return this.trigger("kill",reason),this._state.killFinished=!0}},prototype.onEveryLogin=function(callback){var this$=this;return 1e3,this.onTopic("app.dcs.connect",function(msg){if(this$._last_login+1e3<Date.now())return callback(msg),this$._last_login=Date.now()}),this.sendRequest("app.dcs.update",function(err,msg){if(!err&&null!=msg&&msg.data&&this$._last_login+1e3<Date.now())return callback(msg),this$._last_login=Date.now()})},Actor}(EventEmitter),require.main===module&&(console.log("initializing actor test"),new(function(superclass){function A1(){A1.superclass.apply(this,arguments)}return extend$((import$(A1,superclass).displayName="A1",A1),superclass).prototype.action=function(){var this$=this;return this.onTopic("hello",function(msg){return this$.log.log("received hello message",msg)})},A1}(Actor)),new(function(superclass){function A2(){A2.superclass.apply(this,arguments)}return extend$((import$(A2,superclass).displayName="A2",A2),superclass).prototype.action=function(){var this$=this;return this.onTopic("hello",function(msg){return this$.log.err("received hello message",msg)}),this.send("hello",{hello:"there"})},A2}(Actor)))}).call(this,require("timers").setImmediate)},{"../lib":86,"../lib/debug-tools":84,"./actor-manager":186,"./signal":194,"./topic-match":197,"prelude-ls":128,timers:367}],188:[function(require,module,exports){var ref$,sleep,Logger,pack,EventEmitter,uuid4,green,yellow,bgRed,bgYellow,bgGreen,bgCyan,AuthError,topicMatch,CodingError,SessionCache,out$=void 0!==exports&&exports||this;require("./signal").Signal,ref$=require("../lib"),sleep=ref$.sleep,Logger=ref$.Logger,pack=ref$.pack,EventEmitter=ref$.EventEmitter,uuid4=require("uuid4"),(ref$=require("colors")).red,green=ref$.green,yellow=ref$.yellow,bgRed=ref$.bgRed,bgYellow=ref$.bgYellow,bgGreen=ref$.bgGreen,bgCyan=ref$.bgCyan,(ref$=require("./auth-helpers")).hashPasswd,AuthError=ref$.AuthError,topicMatch=require("./topic-match").topicMatch,CodingError=require("./errors").CodingError,SessionCache=function(){SessionCache.displayName="SessionCache";var prototype=SessionCache.prototype,constructor=SessionCache;function SessionCache(){if(constructor.instance)return constructor.instance;constructor.instance=this,this.log=new Logger("SessionCache"),this.log.log(green("SessionCache is initialized",pack(constructor.cache)))}return SessionCache.cache={},SessionCache.instance=null,prototype.add=function(session){return this.log.log(green("Adding session for "+session.user,yellow(session.token))),constructor.cache[session.token]=session},prototype.get=function(token){return constructor.cache[token]},prototype.drop=function(token){var ref$,ref1$;return this.log.log(yellow("Dropping session for user: "+constructor.cache[token].user+" token: "+token)),ref1$=(ref$=constructor.cache)[token],delete ref$[token],ref1$},SessionCache}(),out$.AuthHandler=function(superclass){var prototype=function(sub,sup){function fun(){}fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub);return sub}(((function(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}(AuthHandler,superclass)).displayName="AuthHandler",AuthHandler),superclass).prototype,constructor=AuthHandler;function AuthHandler(db,name){var this$=this;null!=db||function(){throw new CodingError("AuthDB instance is required.")}(),AuthHandler.superclass.call(this),this.log=new Logger(name||"AuthHandler."+constructor.i++),this.sessionCache=new SessionCache,this.on("check-auth",function(msg){var user,e,ref$,foundSession;if(msg.debug&&this$.log.log("Processing authentication message",msg),!("user"in msg.auth))return"logout"in msg.auth?this$.sessionCache.get(msg.token)?(this$.log.log("logging out for "+pack(this$.sessionCache.get(msg.token))),this$.sessionCache.drop(msg.token),this$.trigger("to-client",{auth:{logout:"ok"}}),this$.trigger("logout")):(this$.log.log(bgYellow("No user found with the following token: "+msg.token+" ")),this$.trigger("to-client",{auth:{logout:"ok",error:"no such user found"}}),this$.trigger("logout")):"token"in msg.auth?(this$.log.log("Attempting to login with token: ",pack(msg.auth)),(null!=(ref$=this$.sessionCache.get(msg.auth.token))?ref$.token:void 0)===msg.auth.token?(foundSession=this$.sessionCache.get(msg.auth.token),this$.log.log(bgCyan('User "'+foundSession.user+'" has been logged in with token.')),this$.trigger("login",foundSession),sleep(constructor.loginDelay,function(){return this$.trigger("to-client",{auth:{session:foundSession}})})):(this$.log.log(bgYellow("client doesn't seem to be logged in yet.")),sleep(constructor.loginDelay,function(){return this$.trigger("to-client",{auth:{session:{logout:"yes"}}})}))):this$.log.err(yellow("Can not determine which auth request this was: ",pack(msg)));try{return(user=db.get(msg.auth.user)).passwdHash===msg.auth.password?(this$.session={token:uuid4(),user:msg.auth.user,date:Date.now(),routes:user.routes,permissions:user.permissions},this$.sessionCache.add(this$.session),this$.log.log(bgGreen("new Login: "+msg.auth.user+" ("+this$.session.token+")")),this$.log.log("(...sending with "+constructor.loginDelay+"ms delay)"),this$.trigger("login",this$.session),sleep(constructor.loginDelay,function(){return this$.trigger("to-client",{auth:{session:this$.session}})})):(this$.log.err("wrong password, tried:"+msg.auth.user+", "+msg.auth.password),this$.trigger("to-client",{auth:{error:"wrong password"}}))}catch(e$){return e=e$,this$.log.err('user "'+msg.auth.user+'" is not found. err: ',e),this$.trigger("to-client",{auth:{error:e}})}})}return AuthHandler.loginDelay=10,AuthHandler.i=0,prototype.checkRoutes=function(msg){var session,i$,x$,ref$,len$;if(session=this.sessionCache.get(msg.token)){for(i$=0,len$=(ref$=session.routes).length;i$<len$;++i$)if(x$=ref$[i$],topicMatch(x$,msg.to))return delete msg.token,msg;if(null!=msg.re)return delete msg.token,msg}return this.log.err(bgRed("filter-incoming dropping unauthorized message!"),function(){throw new AuthError("unauthorized message route")}())},prototype.modifySender=function(msg){var session;if(!(session=this.sessionCache.get(msg.token)))throw new AuthError("No appropriate session is found.");return msg.from="@"+session.user+"."+msg.from,msg},prototype.addCtx=function(msg){var session;return session=this.sessionCache.get(msg.token),msg.permissions=session.permissions,msg.user=session.user,msg},AuthHandler}(EventEmitter)},{"../lib":86,"./auth-helpers":189,"./errors":191,"./signal":194,"./topic-match":197,colors:96,uuid4:139}],189:[function(require,module,exports){var createHash,out$=void 0!==exports&&exports||this;createHash=require("sha.js"),out$.hashPasswd=function(passwd){return createHash("sha512").update(passwd,"utf-8").digest("hex")},out$.AuthError=function(superclass){(function(sub,sup){function fun(){}fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub);return sub})(((function(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}(AuthError,superclass)).displayName="AuthError",AuthError),superclass).prototype;function AuthError(message){this.message=message,AuthError.superclass.apply(this,arguments),Error.captureStackTrace(this,AuthError),this.type="AuthError"}return AuthError}(Error)},{"sha.js":132}],190:[function(require,module,exports){var Signal,ref$,clone,Logger,hashPasswd,keys,out$=void 0!==exports&&exports||this;Signal=require("./signal").Signal,(ref$=require("../lib")).sleep,ref$.pack,clone=ref$.clone,ref$.EventEmitter,Logger=ref$.Logger,(ref$=require("colors")).red,ref$.green,ref$.yellow,ref$.bgRed,ref$.bgYellow,hashPasswd=require("./auth-helpers").hashPasswd,require("./topic-match").topicMatch,ref$=require("prelude-ls"),keys=ref$.keys,ref$.join,out$.AuthRequest=function(){AuthRequest.displayName="AuthRequest";var prototype=AuthRequest.prototype,constructor=AuthRequest;function AuthRequest(name){this.log=new Logger(name||"AuthRequest."+constructor.i++),this.replySignal=new Signal}return AuthRequest.i=0,prototype.inbox=function(msg){return this.replySignal.go(null,msg)},prototype.login=function(_credentials,callback){var credentials,err,this$=this;if(null==_credentials&&(_credentials={}),(credentials=clone(_credentials)).password)credentials.password=hashPasswd(credentials.password);else if(null!=credentials.token&&(this.log.info("token is: ",credentials),credentials.token.length<10))return err="Token seems empty, not attempting to login.",this.log.log(err),void callback(err="Not a valid token",null);return this.log.log("Trying to authenticate with",keys(credentials).join(", ")),0===keys(credentials).length?(this.log.warn("Credentials empty! (why? is server restarted?)"),void callback(err="EMPTY_CREDENTIALS")):(this.write({auth:credentials}),this.replySignal.clear(),this.replySignal.wait(3e3,function(err,res){var that,ref$,ref1$,ref2$;return(that=null!=res&&null!=(ref$=res.auth)&&null!=(ref1$=ref$.session)?ref1$.token:void 0)&&(this$.token=that),callback(err||(null!=res&&null!=(ref2$=res.auth)?ref2$.error:void 0),res)}))},prototype.logout=function(callback){var this$=this;return this.write(this.addToken({auth:{logout:!0}})),this.replySignal.wait(3e3,function(err,msg){return err||"ok"!==msg.auth.logout||(this$.log.log("clearing token from AuthRequest cache"),this$.token=null),callback(err,msg)})},prototype.addToken=function(msg){return msg.token=this.token,msg},AuthRequest}()},{"../lib":86,"./auth-helpers":189,"./signal":194,"./topic-match":197,colors:96,"prelude-ls":128}],191:[function(require,module,exports){(void 0!==exports&&exports||this).CodingError=function(superclass){(function(sub,sup){function fun(){}fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub);return sub})(((function(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}(CodingError,superclass)).displayName="CodingError",CodingError),superclass).prototype;function CodingError(message){this.message=message,CodingError.superclass.apply(this,arguments),Error.captureStackTrace(this,CodingError),this.type="CodingError"}return CodingError}(Error)},{}],192:[function(require,module,exports){var sleep,out$=void 0!==exports&&exports||this,toString$={}.toString,slice$=[].slice;sleep=require("../lib").sleep,out$.FpsExec=function(){FpsExec.displayName="FpsExec";var prototype=FpsExec.prototype;function FpsExec(opts){var fps,this$=this instanceof ctor$?this:new ctor$;return null==opts&&(opts=20),fps="Number"===toString$.call(opts).slice(8,-1)?opts:void 0,this$.debug=function(){try{return opts.debug}catch(e$){}}(),this$.period=opts.period||1e3/fps,this$.timer=null,this$.lastExec=0,this$.paused=!1,this$}function ctor$(){}return ctor$.prototype=prototype,prototype.now=function(){return(new Date).getTime()},prototype.pause=function(){return this.paused=!0},prototype.resume=function(){var that;return null!=(that=this._fn)&&(that.apply(null,this._args),this._fn=null),this.paused=!1},prototype.exec=function(func){var args,timeToExec,this$=this;args=slice$.call(arguments,1),(timeToExec=this.period-(this.now()-this.lastExec))<0&&(timeToExec=0);try{clearTimeout(this.timer),this.debug&&console.info("FpsExec is skipping an execution.")}catch(e$){}return this.timer=sleep(timeToExec,function(){return this$.paused?(this$._fn=func,this$._args=args):(func.apply(null,args),this$.lastExec=this$.now())})},FpsExec}()},{"../lib":86}],193:[function(require,module,exports){var ref$,sleep,Logger;sleep=(ref$=require("../../lib")).sleep,Logger=ref$.Logger,module.exports={sleep:sleep,Logger:Logger}},{"../../lib":86}],194:[function(require,module,exports){(function(global){var Signal,SignalBranch;Signal=require("./src/signal").Signal,SignalBranch=require("./src/signal-branch").SignalBranch,module.exports={Signal:Signal,SignalBranch:SignalBranch},global.Signal=Signal,global.SignalBranch=SignalBranch}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./src/signal":196,"./src/signal-branch":195}],195:[function(require,module,exports){var Signal,out$=void 0!==exports&&exports||this;Signal=require("./signal").Signal,out$.SignalBranch=function(){SignalBranch.displayName="SignalBranch";var prototype=SignalBranch.prototype;function SignalBranch(opts){null==opts&&(opts={}),this.timeout=opts.timeout||-1,this.count=0,this.main=new Signal,this.signals=[],this.error=null}return prototype.add=function(opts){var timeout,name,signal,this$=this;return timeout=(null!=opts?opts.timeout:void 0)||this.timeout,name=(null!=opts?opts.name:void 0)||this.count+"",signal=new Signal({name:name}),this.signals.push(signal),this.count++,signal.wait(timeout,function(err){var that;if((that=err)&&(this$.error=that),0==--this$.count)return this$.main.go(this$.error)}),signal},prototype.joined=function(callback){var this$=this;return 0===this.count&&this.main.go(null),this.main.wait(this.timeout,function(err){var i$,x$,ref$,len$;for(i$=0,len$=(ref$=this$.signals).length;i$<len$;++i$)(x$=ref$[i$]).error&&(err||(err={}),err.signals=!0),x$.clear();return callback(err,this$.signals)})},SignalBranch}()},{"./signal":196}],196:[function(require,module,exports){(function(setImmediate){var ref$,sleep,Logger,isItNaN,out$=void 0!==exports&&exports||this,toString$={}.toString,slice$=[].slice;ref$=require("../deps"),sleep=ref$.sleep,Logger=ref$.Logger,isItNaN=require("prelude-ls").isItNaN,out$.Signal=function(){Signal.displayName="Signal";var prototype=Signal.prototype;function Signal(opts){null==opts&&(opts={}),opts.debug&&(this.debug=!0),this.name=opts.name||"Signal",this.log=new Logger(this.name),this.response=[],this.callback={ctx:null,handler:null},this.debug&&this.log.debug("Initialized new signal."),this.reset()}return prototype.reset=function(){delete this.callback.handler,delete this.callback.ctx,this.shouldRun=!1,this.waiting=!1;try{clearTimeout(this.timer)}catch(e$){}return this.timer=void 0,this.skipNext=!1},prototype.fire=function(error){var ref$,params,ref1$,handler,ctx,t0,err,this$=this;if("Function"===toString$.call(null!=(ref$=this.callback)?ref$.handler:void 0).slice(8,-1))return params=this.error?[]:this.response,ref1$=this.callback,handler=ref1$.handler,ctx=ref1$.ctx,t0=Date.now(),err=this.error,setImmediate(function(){if(this$.reset(),handler.call.apply(handler,[ctx,err].concat(slice$.call(params))),this$.debug&&this$.log.debug("...signal has been fired."),Date.now()-t0>100)return this$.log.warn("System seems busy now? Actual firing took place after "+(Date.now()-t0)+"ms")})},prototype.wait=function(timeout,callback){if("Function"===toString$.call(timeout).slice(8,-1)&&(callback=timeout,timeout=0),!this.waiting)return this.callback={ctx:this,handler:callback},this.waiting=!0,isItNaN(timeout)||timeout>0&&(this.timeout=timeout,this.debug&&this.log.info("Heartbeating! timeout: "+this.timeout),this.heartbeat()),this.shouldRun?this.fire():void 0;this.log.error("Can not wait over and over, skipping this one.")},prototype.skipNextGo=function(){return this.skipNext=!0},prototype.clear=function(){return this.shouldRun=!1},prototype.go=function(err){var args;if(args=slice$.call(arguments,1),!this.skipNext)return this.shouldRun=!0,this.response=args,this.error=err,this.waiting?this.fire():void 0;this.skipNext=!1},prototype.heartbeat=function(duration){var this$=this;duration>0&&(this.timeout=duration);try{clearTimeout(this.timer)}catch(e$){}return this.timer=sleep(this.timeout,function(){if(this$.waiting)return this$.shouldRun=!0,this$.error="TIMEOUT",this$.fire()})},Signal}()}).call(this,require("timers").setImmediate)},{"../deps":193,"prelude-ls":128,timers:367}],197:[function(require,module,exports){(function(process){var ref$,max,split,splitDot,topicMatch,out$=void 0!==exports&&exports||this,toString$={}.toString;ref$=require("prelude-ls"),max=ref$.max,split=ref$.split,splitDot=split("."),out$.topicMatch=topicMatch=function(topics,keypaths,opts){var asArray,i$,ref$,len$,topic,j$,ref1$,len1$,keypath,topicArr,keypathArr,k$,ref2$,len2$,index,topicPart,keypathPart;if(null==opts&&(opts={}),null==topics||null==keypaths)return!1;for(i$=0,len$=(ref$=(asArray=function(x){return"String"===toString$.call(x).slice(8,-1)?x.trim().split(" "):x})(topics)).length;i$<len$;++i$)for(topic=ref$[i$],j$=0,len1$=(ref1$=asArray(keypaths)).length;j$<len1$;++j$){keypath=ref1$[j$];try{if("**"===topic||"**"===keypath)return opts.debug&&console.log("topic is **, immediately matches with anything"),!0;try{topicArr=splitDot(topic),keypathArr=splitDot(keypath)}catch(e$){return e$,console.error("both topic and keypath should be string."),!1}for(k$=0,len2$=(ref2$=fn$()).length;k$<len2$;++k$)if(index=ref2$[k$],topicPart=fn1$(),keypathPart=fn2$(),opts.debug&&console.log("topic-part: "+topicPart+", keypath-part: "+keypathPart),"*"!==keypathPart&&"*"!==topicPart){if("**"!==keypathPart&&"**"!==topicPart&&(void 0===keypathPart||void 0===topicPart))throw opts.debug&&console.log("returning false because there is no command to look for match"),null;if("**"===keypathPart||"**"===topicPart)return opts.debug&&console.log("returning true because '**' will match with anything."),!0;if(topicPart!==keypathPart)throw"not matching"}else if(void 0===keypathPart||void 0===topicPart)throw opts.debug&&console.log("returning false because there is no command to look for match"),null;return opts.debug&&console.log("no condition broke the match."),!0}catch(e$){}}return!1;function fn$(){var i$,to$,results$=[];for(i$=0,to$=max(topicArr.length,keypathArr.length);i$<to$;++i$)results$.push(i$);return results$}function fn1$(){try{return topicArr[index]}catch(e$){}}function fn2$(){try{return keypathArr[index]}catch(e$){}}},function(){var examples,num,example,results$=[];for(num in examples=[{topic:"foo.bar",keypath:"foo.*",expected:!0},{topic:"*.bar",keypath:"foo.*",expected:!0},{topic:"foo.bar",keypath:"baz.bar",expected:!1},{topic:"foo.bar",keypath:"baz.bar foo.*",expected:!0},{topic:"foo.bar",keypath:"foo.*.*",expected:!1},{topic:"foo.*.bar",keypath:"foo.*",expected:!1},{topic:"foo.**",keypath:"foo",expected:!0},{topic:"@foo",keypath:["@foo.**","@bar.**"],expected:!0},{topic:["@bar.**","@foo-bar.**"],keypath:"@foo-bar",expected:!0},{topic:"foo.*.**",keypath:"foo.bar.baz",expected:!0},{topic:"foo.*.**",keypath:"foo.bar",expected:!0},{topic:"foo.*.**",keypath:"foo.bar.baz.qux",expected:!0},{topic:"foo.**",keypath:"foo.bar.baz.qux",expected:!0},{topic:"foo.**",keypath:"*.bar.baz.qux",expected:!0},{topic:"foo.bar",keypath:"*.*",expected:!0},{topic:"foo.bar",keypath:"*",expected:!1},{topic:"*",keypath:"foo.bar",expected:!1},{topic:"foo.bar",keypath:"**",expected:!0},{topic:"*",keypath:"*",expected:!0},{topic:"**",keypath:"*",expected:!0},{topic:"*",keypath:"**",expected:!0},{topic:"**",keypath:"**",expected:!0},{topic:"*.*",keypath:"**",expected:!0},{topic:"**",keypath:"*.*",expected:!0}])topicMatch((example=examples[num]).topic,example.keypath)!==example.expected&&(console.log("Test failed in #"+num+", re-running in debug mode: "),console.log("comparing if '"+example.topic+"' matches with '"+example.keypath+"' expecting: "+example.expected),console.log("---------------------------------------------------"),topicMatch(example.topic,example.keypath,{debug:!0}),console.log("---------------------------------------------------"),results$.push(process.exit(1)))}()}).call(this,require("_process"))},{_process:332,"prelude-ls":128}],198:[function(require,module,exports){var EventEmitter,out$=void 0!==exports&&exports||this;EventEmitter=require("../../lib").EventEmitter,out$.SocketIOTransport=function(superclass){function SocketIOTransport(orig){var this$=this;this.orig=orig,SocketIOTransport.superclass.call(this),this.orig.on("aea",function(data){return this$.trigger("data",data)}),this.orig.on("disconnect",function(){return this$.trigger("disconnect")}),this.orig.on("connect",function(){return this$.trigger("connect")})}return function(sub,sup){function fun(){}fun.prototype=(sub.superclass=sup).prototype,(sub.prototype=new fun).constructor=sub,"function"==typeof sup.extended&&sup.extended(sub);return sub}(((function(obj,src){var own={}.hasOwnProperty;for(var key in src)own.call(src,key)&&(obj[key]=src[key]);return obj}(SocketIOTransport,superclass)).displayName="SocketIOTransport",SocketIOTransport),superclass).prototype.write=function(data){return this.orig.emit("aea",data)},SocketIOTransport}(EventEmitter)},{"../../lib":86}],199:[function(require,module,exports){var asn1=exports;asn1.bignum=require("bn.js"),asn1.define=require("./asn1/api").define,asn1.base=require("./asn1/base"),asn1.constants=require("./asn1/constants"),asn1.decoders=require("./asn1/decoders"),asn1.encoders=require("./asn1/encoders")},{"./asn1/api":200,"./asn1/base":202,"./asn1/constants":206,"./asn1/decoders":208,"./asn1/encoders":211,"bn.js":214}],200:[function(require,module,exports){var asn1=require("../asn1"),inherits=require("inherits");function Entity(name,body){this.name=name,this.body=body,this.decoders={},this.encoders={}}exports.define=function(name,body){return new Entity(name,body)},Entity.prototype._createNamed=function(base){var named;try{named=require("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){named=function(entity){this._initNamed(entity)}}return inherits(named,base),named.prototype._initNamed=function(entity){base.call(this,entity)},new named(this)},Entity.prototype._getDecoder=function(enc){return enc=enc||"der",this.decoders.hasOwnProperty(enc)||(this.decoders[enc]=this._createNamed(asn1.decoders[enc])),this.decoders[enc]},Entity.prototype.decode=function(data,enc,options){return this._getDecoder(enc).decode(data,options)},Entity.prototype._getEncoder=function(enc){return enc=enc||"der",this.encoders.hasOwnProperty(enc)||(this.encoders[enc]=this._createNamed(asn1.encoders[enc])),this.encoders[enc]},Entity.prototype.encode=function(data,enc,reporter){return this._getEncoder(enc).encode(data,reporter)}},{"../asn1":199,inherits:300,vm:372}],201:[function(require,module,exports){var inherits=require("inherits"),Reporter=require("../base").Reporter,Buffer=require("buffer").Buffer;function DecoderBuffer(base,options){Reporter.call(this,options),Buffer.isBuffer(base)?(this.base=base,this.offset=0,this.length=base.length):this.error("Input not Buffer")}function EncoderBuffer(value,reporter){if(Array.isArray(value))this.length=0,this.value=value.map(function(item){return item instanceof EncoderBuffer||(item=new EncoderBuffer(item,reporter)),this.length+=item.length,item},this);else if("number"==typeof value){if(!(0<=value&&value<=255))return reporter.error("non-byte EncoderBuffer value");this.value=value,this.length=1}else if("string"==typeof value)this.value=value,this.length=Buffer.byteLength(value);else{if(!Buffer.isBuffer(value))return reporter.error("Unsupported type: "+typeof value);this.value=value,this.length=value.length}}inherits(DecoderBuffer,Reporter),exports.DecoderBuffer=DecoderBuffer,DecoderBuffer.prototype.save=function(){return{offset:this.offset,reporter:Reporter.prototype.save.call(this)}},DecoderBuffer.prototype.restore=function(save){var res=new DecoderBuffer(this.base);return res.offset=save.offset,res.length=this.offset,this.offset=save.offset,Reporter.prototype.restore.call(this,save.reporter),res},DecoderBuffer.prototype.isEmpty=function(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function(fail){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(fail||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function(bytes,fail){if(!(this.offset+bytes<=this.length))return this.error(fail||"DecoderBuffer overrun");var res=new DecoderBuffer(this.base);return res._reporterState=this._reporterState,res.offset=this.offset,res.length=this.offset+bytes,this.offset+=bytes,res},DecoderBuffer.prototype.raw=function(save){return this.base.slice(save?save.offset:this.offset,this.length)},exports.EncoderBuffer=EncoderBuffer,EncoderBuffer.prototype.join=function(out,offset){return out||(out=new Buffer(this.length)),offset||(offset=0),0===this.length?out:(Array.isArray(this.value)?this.value.forEach(function(item){item.join(out,offset),offset+=item.length}):("number"==typeof this.value?out[offset]=this.value:"string"==typeof this.value?out.write(this.value,offset):Buffer.isBuffer(this.value)&&this.value.copy(out,offset),offset+=this.length),out)}},{"../base":202,buffer:246,inherits:300}],202:[function(require,module,exports){var base=exports;base.Reporter=require("./reporter").Reporter,base.DecoderBuffer=require("./buffer").DecoderBuffer,base.EncoderBuffer=require("./buffer").EncoderBuffer,base.Node=require("./node")},{"./buffer":201,"./node":203,"./reporter":204}],203:[function(require,module,exports){var Reporter=require("../base").Reporter,EncoderBuffer=require("../base").EncoderBuffer,DecoderBuffer=require("../base").DecoderBuffer,assert=require("minimalistic-assert"),tags=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],methods=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(tags);function Node(enc,parent){var state={};this._baseState=state,state.enc=enc,state.parent=parent||null,state.children=null,state.tag=null,state.args=null,state.reverseArgs=null,state.choice=null,state.optional=!1,state.any=!1,state.obj=!1,state.use=null,state.useDecoder=null,state.key=null,state.default=null,state.explicit=null,state.implicit=null,state.contains=null,state.parent||(state.children=[],this._wrap())}module.exports=Node;var stateProps=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function(){var state=this._baseState,cstate={};stateProps.forEach(function(prop){cstate[prop]=state[prop]});var res=new this.constructor(cstate.parent);return res._baseState=cstate,res},Node.prototype._wrap=function(){var state=this._baseState;methods.forEach(function(method){this[method]=function(){var clone=new this.constructor(this);return state.children.push(clone),clone[method].apply(clone,arguments)}},this)},Node.prototype._init=function(body){var state=this._baseState;assert(null===state.parent),body.call(this),state.children=state.children.filter(function(child){return child._baseState.parent===this},this),assert.equal(state.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function(args){var state=this._baseState,children=args.filter(function(arg){return arg instanceof this.constructor},this);args=args.filter(function(arg){return!(arg instanceof this.constructor)},this),0!==children.length&&(assert(null===state.children),state.children=children,children.forEach(function(child){child._baseState.parent=this},this)),0!==args.length&&(assert(null===state.args),state.args=args,state.reverseArgs=args.map(function(arg){if("object"!=typeof arg||arg.constructor!==Object)return arg;var res={};return Object.keys(arg).forEach(function(key){key==(0|key)&&(key|=0);var value=arg[key];res[value]=key}),res}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(method){Node.prototype[method]=function(){var state=this._baseState;throw new Error(method+" not implemented for encoding: "+state.enc)}}),tags.forEach(function(tag){Node.prototype[tag]=function(){var state=this._baseState,args=Array.prototype.slice.call(arguments);return assert(null===state.tag),state.tag=tag,this._useArgs(args),this}}),Node.prototype.use=function(item){assert(item);var state=this._baseState;return assert(null===state.use),state.use=item,this},Node.prototype.optional=function(){return this._baseState.optional=!0,this},Node.prototype.def=function(val){var state=this._baseState;return assert(null===state.default),state.default=val,state.optional=!0,this},Node.prototype.explicit=function(num){var state=this._baseState;return assert(null===state.explicit&&null===state.implicit),state.explicit=num,this},Node.prototype.implicit=function(num){var state=this._baseState;return assert(null===state.explicit&&null===state.implicit),state.implicit=num,this},Node.prototype.obj=function(){var state=this._baseState,args=Array.prototype.slice.call(arguments);return state.obj=!0,0!==args.length&&this._useArgs(args),this},Node.prototype.key=function(newKey){var state=this._baseState;return assert(null===state.key),state.key=newKey,this},Node.prototype.any=function(){return this._baseState.any=!0,this},Node.prototype.choice=function(obj){var state=this._baseState;return assert(null===state.choice),state.choice=obj,this._useArgs(Object.keys(obj).map(function(key){return obj[key]})),this},Node.prototype.contains=function(item){var state=this._baseState;return assert(null===state.use),state.contains=item,this},Node.prototype._decode=function(input,options){var state=this._baseState;if(null===state.parent)return input.wrapResult(state.children[0]._decode(input,options));var prevObj,result=state.default,present=!0,prevKey=null;if(null!==state.key&&(prevKey=input.enterKey(state.key)),state.optional){var tag=null;if(null!==state.explicit?tag=state.explicit:null!==state.implicit?tag=state.implicit:null!==state.tag&&(tag=state.tag),null!==tag||state.any){if(present=this._peekTag(input,tag,state.any),input.isError(present))return present}else{var save=input.save();try{null===state.choice?this._decodeGeneric(state.tag,input,options):this._decodeChoice(input,options),present=!0}catch(e){present=!1}input.restore(save)}}if(state.obj&&present&&(prevObj=input.enterObject()),present){if(null!==state.explicit){var explicit=this._decodeTag(input,state.explicit);if(input.isError(explicit))return explicit;input=explicit}var start=input.offset;if(null===state.use&&null===state.choice){if(state.any)save=input.save();var body=this._decodeTag(input,null!==state.implicit?state.implicit:state.tag,state.any);if(input.isError(body))return body;state.any?result=input.raw(save):input=body}if(options&&options.track&&null!==state.tag&&options.track(input.path(),start,input.length,"tagged"),options&&options.track&&null!==state.tag&&options.track(input.path(),input.offset,input.length,"content"),result=state.any?result:null===state.choice?this._decodeGeneric(state.tag,input,options):this._decodeChoice(input,options),input.isError(result))return result;if(state.any||null!==state.choice||null===state.children||state.children.forEach(function(child){child._decode(input,options)}),state.contains&&("octstr"===state.tag||"bitstr"===state.tag)){var data=new DecoderBuffer(result);result=this._getUse(state.contains,input._reporterState.obj)._decode(data,options)}}return state.obj&&present&&(result=input.leaveObject(prevObj)),null===state.key||null===result&&!0!==present?null!==prevKey&&input.exitKey(prevKey):input.leaveKey(prevKey,state.key,result),result},Node.prototype._decodeGeneric=function(tag,input,options){var state=this._baseState;return"seq"===tag||"set"===tag?null:"seqof"===tag||"setof"===tag?this._decodeList(input,tag,state.args[0],options):/str$/.test(tag)?this._decodeStr(input,tag,options):"objid"===tag&&state.args?this._decodeObjid(input,state.args[0],state.args[1],options):"objid"===tag?this._decodeObjid(input,null,null,options):"gentime"===tag||"utctime"===tag?this._decodeTime(input,tag,options):"null_"===tag?this._decodeNull(input,options):"bool"===tag?this._decodeBool(input,options):"objDesc"===tag?this._decodeStr(input,tag,options):"int"===tag||"enum"===tag?this._decodeInt(input,state.args&&state.args[0],options):null!==state.use?this._getUse(state.use,input._reporterState.obj)._decode(input,options):input.error("unknown tag: "+tag)},Node.prototype._getUse=function(entity,obj){var state=this._baseState;return state.useDecoder=this._use(entity,obj),assert(null===state.useDecoder._baseState.parent),state.useDecoder=state.useDecoder._baseState.children[0],state.implicit!==state.useDecoder._baseState.implicit&&(state.useDecoder=state.useDecoder.clone(),state.useDecoder._baseState.implicit=state.implicit),state.useDecoder},Node.prototype._decodeChoice=function(input,options){var state=this._baseState,result=null,match=!1;return Object.keys(state.choice).some(function(key){var save=input.save(),node=state.choice[key];try{var value=node._decode(input,options);if(input.isError(value))return!1;result={type:key,value:value},match=!0}catch(e){return input.restore(save),!1}return!0},this),match?result:input.error("Choice not matched")},Node.prototype._createEncoderBuffer=function(data){return new EncoderBuffer(data,this.reporter)},Node.prototype._encode=function(data,reporter,parent){var state=this._baseState;if(null===state.default||state.default!==data){var result=this._encodeValue(data,reporter,parent);if(void 0!==result&&!this._skipDefault(result,reporter,parent))return result}},Node.prototype._encodeValue=function(data,reporter,parent){var state=this._baseState;if(null===state.parent)return state.children[0]._encode(data,reporter||new Reporter);var result=null;if(this.reporter=reporter,state.optional&&void 0===data){if(null===state.default)return;data=state.default}var content=null,primitive=!1;if(state.any)result=this._createEncoderBuffer(data);else if(state.choice)result=this._encodeChoice(data,reporter);else if(state.contains)content=this._getUse(state.contains,parent)._encode(data,reporter),primitive=!0;else if(state.children)content=state.children.map(function(child){if("null_"===child._baseState.tag)return child._encode(null,reporter,data);if(null===child._baseState.key)return reporter.error("Child should have a key");var prevKey=reporter.enterKey(child._baseState.key);if("object"!=typeof data)return reporter.error("Child expected, but input is not object");var res=child._encode(data[child._baseState.key],reporter,data);return reporter.leaveKey(prevKey),res},this).filter(function(child){return child}),content=this._createEncoderBuffer(content);else if("seqof"===state.tag||"setof"===state.tag){if(!state.args||1!==state.args.length)return reporter.error("Too many args for : "+state.tag);if(!Array.isArray(data))return reporter.error("seqof/setof, but data is not Array");var child=this.clone();child._baseState.implicit=null,content=this._createEncoderBuffer(data.map(function(item){var state=this._baseState;return this._getUse(state.args[0],data)._encode(item,reporter)},child))}else null!==state.use?result=this._getUse(state.use,parent)._encode(data,reporter):(content=this._encodePrimitive(state.tag,data),primitive=!0);if(!state.any&&null===state.choice){var tag=null!==state.implicit?state.implicit:state.tag,cls=null===state.implicit?"universal":"context";null===tag?null===state.use&&reporter.error("Tag could be omitted only for .use()"):null===state.use&&(result=this._encodeComposite(tag,primitive,cls,content))}return null!==state.explicit&&(result=this._encodeComposite(state.explicit,!1,"context",result)),result},Node.prototype._encodeChoice=function(data,reporter){var state=this._baseState,node=state.choice[data.type];return node||assert(!1,data.type+" not found in "+JSON.stringify(Object.keys(state.choice))),node._encode(data.value,reporter)},Node.prototype._encodePrimitive=function(tag,data){var state=this._baseState;if(/str$/.test(tag))return this._encodeStr(data,tag);if("objid"===tag&&state.args)return this._encodeObjid(data,state.reverseArgs[0],state.args[1]);if("objid"===tag)return this._encodeObjid(data,null,null);if("gentime"===tag||"utctime"===tag)return this._encodeTime(data,tag);if("null_"===tag)return this._encodeNull();if("int"===tag||"enum"===tag)return this._encodeInt(data,state.args&&state.reverseArgs[0]);if("bool"===tag)return this._encodeBool(data);if("objDesc"===tag)return this._encodeStr(data,tag);throw new Error("Unsupported tag: "+tag)},Node.prototype._isNumstr=function(str){return/^[0-9 ]*$/.test(str)},Node.prototype._isPrintstr=function(str){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(str)}},{"../base":202,"minimalistic-assert":305}],204:[function(require,module,exports){var inherits=require("inherits");function Reporter(options){this._reporterState={obj:null,path:[],options:options||{},errors:[]}}function ReporterError(path,msg){this.path=path,this.rethrow(msg)}exports.Reporter=Reporter,Reporter.prototype.isError=function(obj){return obj instanceof ReporterError},Reporter.prototype.save=function(){var state=this._reporterState;return{obj:state.obj,pathLen:state.path.length}},Reporter.prototype.restore=function(data){var state=this._reporterState;state.obj=data.obj,state.path=state.path.slice(0,data.pathLen)},Reporter.prototype.enterKey=function(key){return this._reporterState.path.push(key)},Reporter.prototype.exitKey=function(index){var state=this._reporterState;state.path=state.path.slice(0,index-1)},Reporter.prototype.leaveKey=function(index,key,value){var state=this._reporterState;this.exitKey(index),null!==state.obj&&(state.obj[key]=value)},Reporter.prototype.path=function(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function(){var state=this._reporterState,prev=state.obj;return state.obj={},prev},Reporter.prototype.leaveObject=function(prev){var state=this._reporterState,now=state.obj;return state.obj=prev,now},Reporter.prototype.error=function(msg){var err,state=this._reporterState,inherited=msg instanceof ReporterError;if(err=inherited?msg:new ReporterError(state.path.map(function(elem){return"["+JSON.stringify(elem)+"]"}).join(""),msg.message||msg,msg.stack),!state.options.partial)throw err;return inherited||state.errors.push(err),err},Reporter.prototype.wrapResult=function(result){var state=this._reporterState;return state.options.partial?{result:this.isError(result)?null:result,errors:state.errors}:result},inherits(ReporterError,Error),ReporterError.prototype.rethrow=function(msg){if(this.message=msg+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:300}],205:[function(require,module,exports){var constants=require("../constants");exports.tagClass={0:"universal",1:"application",2:"context",3:"private"},exports.tagClassByName=constants._reverse(exports.tagClass),exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},exports.tagByName=constants._reverse(exports.tag)},{"../constants":206}],206:[function(require,module,exports){var constants=exports;constants._reverse=function(map){var res={};return Object.keys(map).forEach(function(key){(0|key)==key&&(key|=0);var value=map[key];res[value]=key}),res},constants.der=require("./der")},{"./der":205}],207:[function(require,module,exports){var inherits=require("inherits"),asn1=require("../../asn1"),base=asn1.base,bignum=asn1.bignum,der=asn1.constants.der;function DERDecoder(entity){this.enc="der",this.name=entity.name,this.entity=entity,this.tree=new DERNode,this.tree._init(entity.body)}function DERNode(parent){base.Node.call(this,"der",parent)}function derDecodeTag(buf,fail){var tag=buf.readUInt8(fail);if(buf.isError(tag))return tag;var cls=der.tagClass[tag>>6],primitive=0==(32&tag);if(31==(31&tag)){var oct=tag;for(tag=0;128==(128&oct);){if(oct=buf.readUInt8(fail),buf.isError(oct))return oct;tag<<=7,tag|=127&oct}}else tag&=31;return{cls:cls,primitive:primitive,tag:tag,tagStr:der.tag[tag]}}function derDecodeLen(buf,primitive,fail){var len=buf.readUInt8(fail);if(buf.isError(len))return len;if(!primitive&&128===len)return null;if(0==(128&len))return len;var num=127&len;if(num>4)return buf.error("length octect is too long");len=0;for(var i=0;i<num;i++){len<<=8;var j=buf.readUInt8(fail);if(buf.isError(j))return j;len|=j}return len}module.exports=DERDecoder,DERDecoder.prototype.decode=function(data,options){return data instanceof base.DecoderBuffer||(data=new base.DecoderBuffer(data,options)),this.tree._decode(data,options)},inherits(DERNode,base.Node),DERNode.prototype._peekTag=function(buffer,tag,any){if(buffer.isEmpty())return!1;var state=buffer.save(),decodedTag=derDecodeTag(buffer,'Failed to peek tag: "'+tag+'"');return buffer.isError(decodedTag)?decodedTag:(buffer.restore(state),decodedTag.tag===tag||decodedTag.tagStr===tag||decodedTag.tagStr+"of"===tag||any)},DERNode.prototype._decodeTag=function(buffer,tag,any){var decodedTag=derDecodeTag(buffer,'Failed to decode tag of "'+tag+'"');if(buffer.isError(decodedTag))return decodedTag;var len=derDecodeLen(buffer,decodedTag.primitive,'Failed to get length of "'+tag+'"');if(buffer.isError(len))return len;if(!any&&decodedTag.tag!==tag&&decodedTag.tagStr!==tag&&decodedTag.tagStr+"of"!==tag)return buffer.error('Failed to match tag: "'+tag+'"');if(decodedTag.primitive||null!==len)return buffer.skip(len,'Failed to match body of: "'+tag+'"');var state=buffer.save(),res=this._skipUntilEnd(buffer,'Failed to skip indefinite length body: "'+this.tag+'"');return buffer.isError(res)?res:(len=buffer.offset-state.offset,buffer.restore(state),buffer.skip(len,'Failed to match body of: "'+tag+'"'))},DERNode.prototype._skipUntilEnd=function(buffer,fail){for(;;){var tag=derDecodeTag(buffer,fail);if(buffer.isError(tag))return tag;var res,len=derDecodeLen(buffer,tag.primitive,fail);if(buffer.isError(len))return len;if(res=tag.primitive||null!==len?buffer.skip(len):this._skipUntilEnd(buffer,fail),buffer.isError(res))return res;if("end"===tag.tagStr)break}},DERNode.prototype._decodeList=function(buffer,tag,decoder,options){for(var result=[];!buffer.isEmpty();){var possibleEnd=this._peekTag(buffer,"end");if(buffer.isError(possibleEnd))return possibleEnd;var res=decoder.decode(buffer,"der",options);if(buffer.isError(res)&&possibleEnd)break;result.push(res)}return result},DERNode.prototype._decodeStr=function(buffer,tag){if("bitstr"===tag){var unused=buffer.readUInt8();return buffer.isError(unused)?unused:{unused:unused,data:buffer.raw()}}if("bmpstr"===tag){var raw=buffer.raw();if(raw.length%2==1)return buffer.error("Decoding of string type: bmpstr length mismatch");for(var str="",i=0;i<raw.length/2;i++)str+=String.fromCharCode(raw.readUInt16BE(2*i));return str}if("numstr"===tag){var numstr=buffer.raw().toString("ascii");return this._isNumstr(numstr)?numstr:buffer.error("Decoding of string type: numstr unsupported characters")}if("octstr"===tag)return buffer.raw();if("objDesc"===tag)return buffer.raw();if("printstr"===tag){var printstr=buffer.raw().toString("ascii");return this._isPrintstr(printstr)?printstr:buffer.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(tag)?buffer.raw().toString():buffer.error("Decoding of string type: "+tag+" unsupported")},DERNode.prototype._decodeObjid=function(buffer,values,relative){for(var result,identifiers=[],ident=0;!buffer.isEmpty();){var subident=buffer.readUInt8();ident<<=7,ident|=127&subident,0==(128&subident)&&(identifiers.push(ident),ident=0)}128&subident&&identifiers.push(ident);var first=identifiers[0]/40|0,second=identifiers[0]%40;if(result=relative?identifiers:[first,second].concat(identifiers.slice(1)),values){var tmp=values[result.join(" ")];void 0===tmp&&(tmp=values[result.join(".")]),void 0!==tmp&&(result=tmp)}return result},DERNode.prototype._decodeTime=function(buffer,tag){var str=buffer.raw().toString();if("gentime"===tag)var year=0|str.slice(0,4),mon=0|str.slice(4,6),day=0|str.slice(6,8),hour=0|str.slice(8,10),min=0|str.slice(10,12),sec=0|str.slice(12,14);else{if("utctime"!==tag)return buffer.error("Decoding "+tag+" time is not supported yet");year=0|str.slice(0,2),mon=0|str.slice(2,4),day=0|str.slice(4,6),hour=0|str.slice(6,8),min=0|str.slice(8,10),sec=0|str.slice(10,12);year=year<70?2e3+year:1900+year}return Date.UTC(year,mon-1,day,hour,min,sec,0)},DERNode.prototype._decodeNull=function(buffer){return null},DERNode.prototype._decodeBool=function(buffer){var res=buffer.readUInt8();return buffer.isError(res)?res:0!==res},DERNode.prototype._decodeInt=function(buffer,values){var raw=buffer.raw(),res=new bignum(raw);return values&&(res=values[res.toString(10)]||res),res},DERNode.prototype._use=function(entity,obj){return"function"==typeof entity&&(entity=entity(obj)),entity._getDecoder("der").tree}},{"../../asn1":199,inherits:300}],208:[function(require,module,exports){var decoders=exports;decoders.der=require("./der"),decoders.pem=require("./pem")},{"./der":207,"./pem":209}],209:[function(require,module,exports){var inherits=require("inherits"),Buffer=require("buffer").Buffer,DERDecoder=require("./der");function PEMDecoder(entity){DERDecoder.call(this,entity),this.enc="pem"}inherits(PEMDecoder,DERDecoder),module.exports=PEMDecoder,PEMDecoder.prototype.decode=function(data,options){for(var lines=data.toString().split(/[\r\n]+/g),label=options.label.toUpperCase(),re=/^-----(BEGIN|END) ([^-]+)-----$/,start=-1,end=-1,i=0;i<lines.length;i++){var match=lines[i].match(re);if(null!==match&&match[2]===label){if(-1!==start){if("END"!==match[1])break;end=i;break}if("BEGIN"!==match[1])break;start=i}}if(-1===start||-1===end)throw new Error("PEM section not found for: "+label);var base64=lines.slice(start+1,end).join("");base64.replace(/[^a-z0-9\+\/=]+/gi,"");var input=new Buffer(base64,"base64");return DERDecoder.prototype.decode.call(this,input,options)}},{"./der":207,buffer:246,inherits:300}],210:[function(require,module,exports){var inherits=require("inherits"),Buffer=require("buffer").Buffer,asn1=require("../../asn1"),base=asn1.base,der=asn1.constants.der;function DEREncoder(entity){this.enc="der",this.name=entity.name,this.entity=entity,this.tree=new DERNode,this.tree._init(entity.body)}function DERNode(parent){base.Node.call(this,"der",parent)}function two(num){return num<10?"0"+num:num}module.exports=DEREncoder,DEREncoder.prototype.encode=function(data,reporter){return this.tree._encode(data,reporter).join()},inherits(DERNode,base.Node),DERNode.prototype._encodeComposite=function(tag,primitive,cls,content){var header,encodedTag=function(tag,primitive,cls,reporter){var res;"seqof"===tag?tag="seq":"setof"===tag&&(tag="set");if(der.tagByName.hasOwnProperty(tag))res=der.tagByName[tag];else{if("number"!=typeof tag||(0|tag)!==tag)return reporter.error("Unknown tag: "+tag);res=tag}if(res>=31)return reporter.error("Multi-octet tag encoding unsupported");primitive||(res|=32);return res|=der.tagClassByName[cls||"universal"]<<6}(tag,primitive,cls,this.reporter);if(content.length<128)return(header=new Buffer(2))[0]=encodedTag,header[1]=content.length,this._createEncoderBuffer([header,content]);for(var lenOctets=1,i=content.length;i>=256;i>>=8)lenOctets++;(header=new Buffer(2+lenOctets))[0]=encodedTag,header[1]=128|lenOctets;i=1+lenOctets;for(var j=content.length;j>0;i--,j>>=8)header[i]=255&j;return this._createEncoderBuffer([header,content])},DERNode.prototype._encodeStr=function(str,tag){if("bitstr"===tag)return this._createEncoderBuffer([0|str.unused,str.data]);if("bmpstr"===tag){for(var buf=new Buffer(2*str.length),i=0;i<str.length;i++)buf.writeUInt16BE(str.charCodeAt(i),2*i);return this._createEncoderBuffer(buf)}return"numstr"===tag?this._isNumstr(str)?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===tag?this._isPrintstr(str)?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(tag)?this._createEncoderBuffer(str):"objDesc"===tag?this._createEncoderBuffer(str):this.reporter.error("Encoding of string type: "+tag+" unsupported")},DERNode.prototype._encodeObjid=function(id,values,relative){if("string"==typeof id){if(!values)return this.reporter.error("string objid given, but no values map found");if(!values.hasOwnProperty(id))return this.reporter.error("objid not found in values map");id=values[id].split(/[\s\.]+/g);for(var i=0;i<id.length;i++)id[i]|=0}else if(Array.isArray(id)){id=id.slice();for(i=0;i<id.length;i++)id[i]|=0}if(!Array.isArray(id))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(id));if(!relative){if(id[1]>=40)return this.reporter.error("Second objid identifier OOB");id.splice(0,2,40*id[0]+id[1])}var size=0;for(i=0;i<id.length;i++){var ident=id[i];for(size++;ident>=128;ident>>=7)size++}var objid=new Buffer(size),offset=objid.length-1;for(i=id.length-1;i>=0;i--){ident=id[i];for(objid[offset--]=127&ident;(ident>>=7)>0;)objid[offset--]=128|127&ident}return this._createEncoderBuffer(objid)},DERNode.prototype._encodeTime=function(time,tag){var str,date=new Date(time);return"gentime"===tag?str=[two(date.getFullYear()),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join(""):"utctime"===tag?str=[two(date.getFullYear()%100),two(date.getUTCMonth()+1),two(date.getUTCDate()),two(date.getUTCHours()),two(date.getUTCMinutes()),two(date.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+tag+" time is not supported yet"),this._encodeStr(str,"octstr")},DERNode.prototype._encodeNull=function(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function(num,values){if("string"==typeof num){if(!values)return this.reporter.error("String int or enum given, but no values map");if(!values.hasOwnProperty(num))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(num));num=values[num]}if("number"!=typeof num&&!Buffer.isBuffer(num)){var numArray=num.toArray();!num.sign&&128&numArray[0]&&numArray.unshift(0),num=new Buffer(numArray)}if(Buffer.isBuffer(num)){var size=num.length;0===num.length&&size++;var out=new Buffer(size);return num.copy(out),0===num.length&&(out[0]=0),this._createEncoderBuffer(out)}if(num<128)return this._createEncoderBuffer(num);if(num<256)return this._createEncoderBuffer([0,num]);size=1;for(var i=num;i>=256;i>>=8)size++;for(i=(out=new Array(size)).length-1;i>=0;i--)out[i]=255&num,num>>=8;return 128&out[0]&&out.unshift(0),this._createEncoderBuffer(new Buffer(out))},DERNode.prototype._encodeBool=function(value){return this._createEncoderBuffer(value?255:0)},DERNode.prototype._use=function(entity,obj){return"function"==typeof entity&&(entity=entity(obj)),entity._getEncoder("der").tree},DERNode.prototype._skipDefault=function(dataBuffer,reporter,parent){var i,state=this._baseState;if(null===state.default)return!1;var data=dataBuffer.join();if(void 0===state.defaultBuffer&&(state.defaultBuffer=this._encodeValue(state.default,reporter,parent).join()),data.length!==state.defaultBuffer.length)return!1;for(i=0;i<data.length;i++)if(data[i]!==state.defaultBuffer[i])return!1;return!0}},{"../../asn1":199,buffer:246,inherits:300}],211:[function(require,module,exports){var encoders=exports;encoders.der=require("./der"),encoders.pem=require("./pem")},{"./der":210,"./pem":212}],212:[function(require,module,exports){var inherits=require("inherits"),DEREncoder=require("./der");function PEMEncoder(entity){DEREncoder.call(this,entity),this.enc="pem"}inherits(PEMEncoder,DEREncoder),module.exports=PEMEncoder,PEMEncoder.prototype.encode=function(data,options){for(var p=DEREncoder.prototype.encode.call(this,data).toString("base64"),out=["-----BEGIN "+options.label+"-----"],i=0;i<p.length;i+=64)out.push(p.slice(i,i+64));return out.push("-----END "+options.label+"-----"),out.join("\n")}},{"./der":210,inherits:300}],213:[function(require,module,exports){"use strict";exports.byteLength=function(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function(b64){for(var tmp,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen,i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp);1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp);return arr},exports.fromByteArray=function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"="));return parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("=");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function encodeChunk(uint8,start,end){for(var tmp,num,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(lookup[(num=tmp)>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]);return output.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},{}],214:[function(require,module,exports){!function(module,exports){"use strict";function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}function BN(number,base,endian){if(BN.isBN(number))return number;this.negative=0,this.words=null,this.length=0,this.red=null,null!==number&&("le"!==base&&"be"!==base||(endian=base,base=10),this._init(number||0,base||10,endian||"be"))}var Buffer;"object"==typeof module?module.exports=BN:exports.BN=BN,BN.BN=BN,BN.wordSize=26;try{Buffer=require("buffer").Buffer}catch(e){}function parseHex(str,start,end){for(var r=0,len=Math.min(str.length,end),i=start;i<len;i++){var c=str.charCodeAt(i)-48;r<<=4,r|=c>=49&&c<=54?c-49+10:c>=17&&c<=22?c-17+10:15&c}return r}function parseBase(str,start,end,mul){for(var r=0,len=Math.min(str.length,end),i=start;i<len;i++){var c=str.charCodeAt(i)-48;r*=mul,r+=c>=49?c-49+10:c>=17?c-17+10:c}return r}BN.isBN=function(num){return num instanceof BN||null!==num&&"object"==typeof num&&num.constructor.wordSize===BN.wordSize&&Array.isArray(num.words)},BN.max=function(left,right){return left.cmp(right)>0?left:right},BN.min=function(left,right){return left.cmp(right)<0?left:right},BN.prototype._init=function(number,base,endian){if("number"==typeof number)return this._initNumber(number,base,endian);if("object"==typeof number)return this._initArray(number,base,endian);"hex"===base&&(base=16),assert(base===(0|base)&&base>=2&&base<=36);var start=0;"-"===(number=number.toString().replace(/\s+/g,""))[0]&&start++,16===base?this._parseHex(number,start):this._parseBase(number,base,start),"-"===number[0]&&(this.negative=1),this.strip(),"le"===endian&&this._initArray(this.toArray(),base,endian)},BN.prototype._initNumber=function(number,base,endian){number<0&&(this.negative=1,number=-number),number<67108864?(this.words=[67108863&number],this.length=1):number<4503599627370496?(this.words=[67108863&number,number/67108864&67108863],this.length=2):(assert(number<9007199254740992),this.words=[67108863&number,number/67108864&67108863,1],this.length=3),"le"===endian&&this._initArray(this.toArray(),base,endian)},BN.prototype._initArray=function(number,base,endian){if(assert("number"==typeof number.length),number.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(number.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var j,w,off=0;if("be"===endian)for(i=number.length-1,j=0;i>=0;i-=3)w=number[i]|number[i-1]<<8|number[i-2]<<16,this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,(off+=24)>=26&&(off-=26,j++);else if("le"===endian)for(i=0,j=0;i<number.length;i+=3)w=number[i]|number[i+1]<<8|number[i+2]<<16,this.words[j]|=w<<off&67108863,this.words[j+1]=w>>>26-off&67108863,(off+=24)>=26&&(off-=26,j++);return this.strip()},BN.prototype._parseHex=function(number,start){this.length=Math.ceil((number.length-start)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var j,w,off=0;for(i=number.length-6,j=0;i>=start;i-=6)w=parseHex(number,i,i+6),this.words[j]|=w<<off&67108863,this.words[j+1]|=w>>>26-off&4194303,(off+=24)>=26&&(off-=26,j++);i+6!==start&&(w=parseHex(number,start,i+6),this.words[j]|=w<<off&67108863,this.words[j+1]|=w>>>26-off&4194303),this.strip()},BN.prototype._parseBase=function(number,base,start){this.words=[0],this.length=1;for(var limbLen=0,limbPow=1;limbPow<=67108863;limbPow*=base)limbLen++;limbLen--,limbPow=limbPow/base|0;for(var total=number.length-start,mod=total%limbLen,end=Math.min(total,total-mod)+start,word=0,i=start;i<end;i+=limbLen)word=parseBase(number,i,i+limbLen,base),this.imuln(limbPow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word);if(0!==mod){var pow=1;for(word=parseBase(number,i,number.length,base),i=0;i<mod;i++)pow*=base;this.imuln(pow),this.words[0]+word<67108864?this.words[0]+=word:this._iaddn(word)}},BN.prototype.copy=function(dest){dest.words=new Array(this.length);for(var i=0;i<this.length;i++)dest.words[i]=this.words[i];dest.length=this.length,dest.negative=this.negative,dest.red=this.red},BN.prototype.clone=function(){var r=new BN(null);return this.copy(r),r},BN.prototype._expand=function(size){for(;this.length<size;)this.words[this.length++]=0;return this},BN.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var zeros=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],groupSizes=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],groupBases=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function smallMulTo(self,num,out){out.negative=num.negative^self.negative;var len=self.length+num.length|0;out.length=len,len=len-1|0;var a=0|self.words[0],b=0|num.words[0],r=a*b,lo=67108863&r,carry=r/67108864|0;out.words[0]=lo;for(var k=1;k<len;k++){for(var ncarry=carry>>>26,rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j|0;ncarry+=(r=(a=0|self.words[i])*(b=0|num.words[j])+rword)/67108864|0,rword=67108863&r}out.words[k]=0|rword,carry=0|ncarry}return 0!==carry?out.words[k]=0|carry:out.length--,out.strip()}BN.prototype.toString=function(base,padding){var out;if(base=base||10,padding=0|padding||1,16===base||"hex"===base){out="";for(var off=0,carry=0,i=0;i<this.length;i++){var w=this.words[i],word=(16777215&(w<<off|carry)).toString(16);out=0!==(carry=w>>>24-off&16777215)||i!==this.length-1?zeros[6-word.length]+word+out:word+out,(off+=2)>=26&&(off-=26,i--)}for(0!==carry&&(out=carry.toString(16)+out);out.length%padding!=0;)out="0"+out;return 0!==this.negative&&(out="-"+out),out}if(base===(0|base)&&base>=2&&base<=36){var groupSize=groupSizes[base],groupBase=groupBases[base];out="";var c=this.clone();for(c.negative=0;!c.isZero();){var r=c.modn(groupBase).toString(base);out=(c=c.idivn(groupBase)).isZero()?r+out:zeros[groupSize-r.length]+r+out}for(this.isZero()&&(out="0"+out);out.length%padding!=0;)out="0"+out;return 0!==this.negative&&(out="-"+out),out}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function(){var ret=this.words[0];return 2===this.length?ret+=67108864*this.words[1]:3===this.length&&1===this.words[2]?ret+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-ret:ret},BN.prototype.toJSON=function(){return this.toString(16)},BN.prototype.toBuffer=function(endian,length){return assert(void 0!==Buffer),this.toArrayLike(Buffer,endian,length)},BN.prototype.toArray=function(endian,length){return this.toArrayLike(Array,endian,length)},BN.prototype.toArrayLike=function(ArrayType,endian,length){var byteLength=this.byteLength(),reqLength=length||Math.max(1,byteLength);assert(byteLength<=reqLength,"byte array longer than desired length"),assert(reqLength>0,"Requested array length <= 0"),this.strip();var b,i,littleEndian="le"===endian,res=new ArrayType(reqLength),q=this.clone();if(littleEndian){for(i=0;!q.isZero();i++)b=q.andln(255),q.iushrn(8),res[i]=b;for(;i<reqLength;i++)res[i]=0}else{for(i=0;i<reqLength-byteLength;i++)res[i]=0;for(i=0;!q.isZero();i++)b=q.andln(255),q.iushrn(8),res[reqLength-i-1]=b}return res},Math.clz32?BN.prototype._countBits=function(w){return 32-Math.clz32(w)}:BN.prototype._countBits=function(w){var t=w,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},BN.prototype._zeroBits=function(w){if(0===w)return 26;var t=w,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},BN.prototype.bitLength=function(){var w=this.words[this.length-1],hi=this._countBits(w);return 26*(this.length-1)+hi},BN.prototype.zeroBits=function(){if(this.isZero())return 0;for(var r=0,i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);if(r+=b,26!==b)break}return r},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function(width){return 0!==this.negative?this.abs().inotn(width).iaddn(1):this.clone()},BN.prototype.fromTwos=function(width){return this.testn(width-1)?this.notn(width).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function(){return 0!==this.negative},BN.prototype.neg=function(){return this.clone().ineg()},BN.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function(num){for(;this.length<num.length;)this.words[this.length++]=0;for(var i=0;i<num.length;i++)this.words[i]=this.words[i]|num.words[i];return this.strip()},BN.prototype.ior=function(num){return assert(0==(this.negative|num.negative)),this.iuor(num)},BN.prototype.or=function(num){return this.length>num.length?this.clone().ior(num):num.clone().ior(this)},BN.prototype.uor=function(num){return this.length>num.length?this.clone().iuor(num):num.clone().iuor(this)},BN.prototype.iuand=function(num){var b;b=this.length>num.length?num:this;for(var i=0;i<b.length;i++)this.words[i]=this.words[i]&num.words[i];return this.length=b.length,this.strip()},BN.prototype.iand=function(num){return assert(0==(this.negative|num.negative)),this.iuand(num)},BN.prototype.and=function(num){return this.length>num.length?this.clone().iand(num):num.clone().iand(this)},BN.prototype.uand=function(num){return this.length>num.length?this.clone().iuand(num):num.clone().iuand(this)},BN.prototype.iuxor=function(num){var a,b;this.length>num.length?(a=this,b=num):(a=num,b=this);for(var i=0;i<b.length;i++)this.words[i]=a.words[i]^b.words[i];if(this!==a)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=a.length,this.strip()},BN.prototype.ixor=function(num){return assert(0==(this.negative|num.negative)),this.iuxor(num)},BN.prototype.xor=function(num){return this.length>num.length?this.clone().ixor(num):num.clone().ixor(this)},BN.prototype.uxor=function(num){return this.length>num.length?this.clone().iuxor(num):num.clone().iuxor(this)},BN.prototype.inotn=function(width){assert("number"==typeof width&&width>=0);var bytesNeeded=0|Math.ceil(width/26),bitsLeft=width%26;this._expand(bytesNeeded),bitsLeft>0&&bytesNeeded--;for(var i=0;i<bytesNeeded;i++)this.words[i]=67108863&~this.words[i];return bitsLeft>0&&(this.words[i]=~this.words[i]&67108863>>26-bitsLeft),this.strip()},BN.prototype.notn=function(width){return this.clone().inotn(width)},BN.prototype.setn=function(bit,val){assert("number"==typeof bit&&bit>=0);var off=bit/26|0,wbit=bit%26;return this._expand(off+1),this.words[off]=val?this.words[off]|1<<wbit:this.words[off]&~(1<<wbit),this.strip()},BN.prototype.iadd=function(num){var r,a,b;if(0!==this.negative&&0===num.negative)return this.negative=0,r=this.isub(num),this.negative^=1,this._normSign();if(0===this.negative&&0!==num.negative)return num.negative=0,r=this.isub(num),num.negative=1,r._normSign();this.length>num.length?(a=this,b=num):(a=num,b=this);for(var carry=0,i=0;i<b.length;i++)r=(0|a.words[i])+(0|b.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;for(;0!==carry&&i<a.length;i++)r=(0|a.words[i])+carry,this.words[i]=67108863&r,carry=r>>>26;if(this.length=a.length,0!==carry)this.words[this.length]=carry,this.length++;else if(a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this},BN.prototype.add=function(num){var res;return 0!==num.negative&&0===this.negative?(num.negative=0,res=this.sub(num),num.negative^=1,res):0===num.negative&&0!==this.negative?(this.negative=0,res=num.sub(this),this.negative=1,res):this.length>num.length?this.clone().iadd(num):num.clone().iadd(this)},BN.prototype.isub=function(num){if(0!==num.negative){num.negative=0;var r=this.iadd(num);return num.negative=1,r._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(num),this.negative=1,this._normSign();var a,b,cmp=this.cmp(num);if(0===cmp)return this.negative=0,this.length=1,this.words[0]=0,this;cmp>0?(a=this,b=num):(a=num,b=this);for(var carry=0,i=0;i<b.length;i++)carry=(r=(0|a.words[i])-(0|b.words[i])+carry)>>26,this.words[i]=67108863&r;for(;0!==carry&&i<a.length;i++)carry=(r=(0|a.words[i])+carry)>>26,this.words[i]=67108863&r;if(0===carry&&i<a.length&&a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=Math.max(this.length,i),a!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function(num){return this.clone().isub(num)};var comb10MulTo=function(self,num,out){var lo,mid,hi,a=self.words,b=num.words,o=out.words,c=0,a0=0|a[0],al0=8191&a0,ah0=a0>>>13,a1=0|a[1],al1=8191&a1,ah1=a1>>>13,a2=0|a[2],al2=8191&a2,ah2=a2>>>13,a3=0|a[3],al3=8191&a3,ah3=a3>>>13,a4=0|a[4],al4=8191&a4,ah4=a4>>>13,a5=0|a[5],al5=8191&a5,ah5=a5>>>13,a6=0|a[6],al6=8191&a6,ah6=a6>>>13,a7=0|a[7],al7=8191&a7,ah7=a7>>>13,a8=0|a[8],al8=8191&a8,ah8=a8>>>13,a9=0|a[9],al9=8191&a9,ah9=a9>>>13,b0=0|b[0],bl0=8191&b0,bh0=b0>>>13,b1=0|b[1],bl1=8191&b1,bh1=b1>>>13,b2=0|b[2],bl2=8191&b2,bh2=b2>>>13,b3=0|b[3],bl3=8191&b3,bh3=b3>>>13,b4=0|b[4],bl4=8191&b4,bh4=b4>>>13,b5=0|b[5],bl5=8191&b5,bh5=b5>>>13,b6=0|b[6],bl6=8191&b6,bh6=b6>>>13,b7=0|b[7],bl7=8191&b7,bh7=b7>>>13,b8=0|b[8],bl8=8191&b8,bh8=b8>>>13,b9=0|b[9],bl9=8191&b9,bh9=b9>>>13;out.negative=self.negative^num.negative,out.length=19;var w0=(c+(lo=Math.imul(al0,bl0))|0)+((8191&(mid=(mid=Math.imul(al0,bh0))+Math.imul(ah0,bl0)|0))<<13)|0;c=((hi=Math.imul(ah0,bh0))+(mid>>>13)|0)+(w0>>>26)|0,w0&=67108863,lo=Math.imul(al1,bl0),mid=(mid=Math.imul(al1,bh0))+Math.imul(ah1,bl0)|0,hi=Math.imul(ah1,bh0);var w1=(c+(lo=lo+Math.imul(al0,bl1)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh1)|0)+Math.imul(ah0,bl1)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh1)|0)+(mid>>>13)|0)+(w1>>>26)|0,w1&=67108863,lo=Math.imul(al2,bl0),mid=(mid=Math.imul(al2,bh0))+Math.imul(ah2,bl0)|0,hi=Math.imul(ah2,bh0),lo=lo+Math.imul(al1,bl1)|0,mid=(mid=mid+Math.imul(al1,bh1)|0)+Math.imul(ah1,bl1)|0,hi=hi+Math.imul(ah1,bh1)|0;var w2=(c+(lo=lo+Math.imul(al0,bl2)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh2)|0)+Math.imul(ah0,bl2)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh2)|0)+(mid>>>13)|0)+(w2>>>26)|0,w2&=67108863,lo=Math.imul(al3,bl0),mid=(mid=Math.imul(al3,bh0))+Math.imul(ah3,bl0)|0,hi=Math.imul(ah3,bh0),lo=lo+Math.imul(al2,bl1)|0,mid=(mid=mid+Math.imul(al2,bh1)|0)+Math.imul(ah2,bl1)|0,hi=hi+Math.imul(ah2,bh1)|0,lo=lo+Math.imul(al1,bl2)|0,mid=(mid=mid+Math.imul(al1,bh2)|0)+Math.imul(ah1,bl2)|0,hi=hi+Math.imul(ah1,bh2)|0;var w3=(c+(lo=lo+Math.imul(al0,bl3)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh3)|0)+Math.imul(ah0,bl3)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh3)|0)+(mid>>>13)|0)+(w3>>>26)|0,w3&=67108863,lo=Math.imul(al4,bl0),mid=(mid=Math.imul(al4,bh0))+Math.imul(ah4,bl0)|0,hi=Math.imul(ah4,bh0),lo=lo+Math.imul(al3,bl1)|0,mid=(mid=mid+Math.imul(al3,bh1)|0)+Math.imul(ah3,bl1)|0,hi=hi+Math.imul(ah3,bh1)|0,lo=lo+Math.imul(al2,bl2)|0,mid=(mid=mid+Math.imul(al2,bh2)|0)+Math.imul(ah2,bl2)|0,hi=hi+Math.imul(ah2,bh2)|0,lo=lo+Math.imul(al1,bl3)|0,mid=(mid=mid+Math.imul(al1,bh3)|0)+Math.imul(ah1,bl3)|0,hi=hi+Math.imul(ah1,bh3)|0;var w4=(c+(lo=lo+Math.imul(al0,bl4)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh4)|0)+Math.imul(ah0,bl4)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh4)|0)+(mid>>>13)|0)+(w4>>>26)|0,w4&=67108863,lo=Math.imul(al5,bl0),mid=(mid=Math.imul(al5,bh0))+Math.imul(ah5,bl0)|0,hi=Math.imul(ah5,bh0),lo=lo+Math.imul(al4,bl1)|0,mid=(mid=mid+Math.imul(al4,bh1)|0)+Math.imul(ah4,bl1)|0,hi=hi+Math.imul(ah4,bh1)|0,lo=lo+Math.imul(al3,bl2)|0,mid=(mid=mid+Math.imul(al3,bh2)|0)+Math.imul(ah3,bl2)|0,hi=hi+Math.imul(ah3,bh2)|0,lo=lo+Math.imul(al2,bl3)|0,mid=(mid=mid+Math.imul(al2,bh3)|0)+Math.imul(ah2,bl3)|0,hi=hi+Math.imul(ah2,bh3)|0,lo=lo+Math.imul(al1,bl4)|0,mid=(mid=mid+Math.imul(al1,bh4)|0)+Math.imul(ah1,bl4)|0,hi=hi+Math.imul(ah1,bh4)|0;var w5=(c+(lo=lo+Math.imul(al0,bl5)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh5)|0)+Math.imul(ah0,bl5)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh5)|0)+(mid>>>13)|0)+(w5>>>26)|0,w5&=67108863,lo=Math.imul(al6,bl0),mid=(mid=Math.imul(al6,bh0))+Math.imul(ah6,bl0)|0,hi=Math.imul(ah6,bh0),lo=lo+Math.imul(al5,bl1)|0,mid=(mid=mid+Math.imul(al5,bh1)|0)+Math.imul(ah5,bl1)|0,hi=hi+Math.imul(ah5,bh1)|0,lo=lo+Math.imul(al4,bl2)|0,mid=(mid=mid+Math.imul(al4,bh2)|0)+Math.imul(ah4,bl2)|0,hi=hi+Math.imul(ah4,bh2)|0,lo=lo+Math.imul(al3,bl3)|0,mid=(mid=mid+Math.imul(al3,bh3)|0)+Math.imul(ah3,bl3)|0,hi=hi+Math.imul(ah3,bh3)|0,lo=lo+Math.imul(al2,bl4)|0,mid=(mid=mid+Math.imul(al2,bh4)|0)+Math.imul(ah2,bl4)|0,hi=hi+Math.imul(ah2,bh4)|0,lo=lo+Math.imul(al1,bl5)|0,mid=(mid=mid+Math.imul(al1,bh5)|0)+Math.imul(ah1,bl5)|0,hi=hi+Math.imul(ah1,bh5)|0;var w6=(c+(lo=lo+Math.imul(al0,bl6)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh6)|0)+Math.imul(ah0,bl6)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh6)|0)+(mid>>>13)|0)+(w6>>>26)|0,w6&=67108863,lo=Math.imul(al7,bl0),mid=(mid=Math.imul(al7,bh0))+Math.imul(ah7,bl0)|0,hi=Math.imul(ah7,bh0),lo=lo+Math.imul(al6,bl1)|0,mid=(mid=mid+Math.imul(al6,bh1)|0)+Math.imul(ah6,bl1)|0,hi=hi+Math.imul(ah6,bh1)|0,lo=lo+Math.imul(al5,bl2)|0,mid=(mid=mid+Math.imul(al5,bh2)|0)+Math.imul(ah5,bl2)|0,hi=hi+Math.imul(ah5,bh2)|0,lo=lo+Math.imul(al4,bl3)|0,mid=(mid=mid+Math.imul(al4,bh3)|0)+Math.imul(ah4,bl3)|0,hi=hi+Math.imul(ah4,bh3)|0,lo=lo+Math.imul(al3,bl4)|0,mid=(mid=mid+Math.imul(al3,bh4)|0)+Math.imul(ah3,bl4)|0,hi=hi+Math.imul(ah3,bh4)|0,lo=lo+Math.imul(al2,bl5)|0,mid=(mid=mid+Math.imul(al2,bh5)|0)+Math.imul(ah2,bl5)|0,hi=hi+Math.imul(ah2,bh5)|0,lo=lo+Math.imul(al1,bl6)|0,mid=(mid=mid+Math.imul(al1,bh6)|0)+Math.imul(ah1,bl6)|0,hi=hi+Math.imul(ah1,bh6)|0;var w7=(c+(lo=lo+Math.imul(al0,bl7)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh7)|0)+Math.imul(ah0,bl7)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh7)|0)+(mid>>>13)|0)+(w7>>>26)|0,w7&=67108863,lo=Math.imul(al8,bl0),mid=(mid=Math.imul(al8,bh0))+Math.imul(ah8,bl0)|0,hi=Math.imul(ah8,bh0),lo=lo+Math.imul(al7,bl1)|0,mid=(mid=mid+Math.imul(al7,bh1)|0)+Math.imul(ah7,bl1)|0,hi=hi+Math.imul(ah7,bh1)|0,lo=lo+Math.imul(al6,bl2)|0,mid=(mid=mid+Math.imul(al6,bh2)|0)+Math.imul(ah6,bl2)|0,hi=hi+Math.imul(ah6,bh2)|0,lo=lo+Math.imul(al5,bl3)|0,mid=(mid=mid+Math.imul(al5,bh3)|0)+Math.imul(ah5,bl3)|0,hi=hi+Math.imul(ah5,bh3)|0,lo=lo+Math.imul(al4,bl4)|0,mid=(mid=mid+Math.imul(al4,bh4)|0)+Math.imul(ah4,bl4)|0,hi=hi+Math.imul(ah4,bh4)|0,lo=lo+Math.imul(al3,bl5)|0,mid=(mid=mid+Math.imul(al3,bh5)|0)+Math.imul(ah3,bl5)|0,hi=hi+Math.imul(ah3,bh5)|0,lo=lo+Math.imul(al2,bl6)|0,mid=(mid=mid+Math.imul(al2,bh6)|0)+Math.imul(ah2,bl6)|0,hi=hi+Math.imul(ah2,bh6)|0,lo=lo+Math.imul(al1,bl7)|0,mid=(mid=mid+Math.imul(al1,bh7)|0)+Math.imul(ah1,bl7)|0,hi=hi+Math.imul(ah1,bh7)|0;var w8=(c+(lo=lo+Math.imul(al0,bl8)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh8)|0)+Math.imul(ah0,bl8)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh8)|0)+(mid>>>13)|0)+(w8>>>26)|0,w8&=67108863,lo=Math.imul(al9,bl0),mid=(mid=Math.imul(al9,bh0))+Math.imul(ah9,bl0)|0,hi=Math.imul(ah9,bh0),lo=lo+Math.imul(al8,bl1)|0,mid=(mid=mid+Math.imul(al8,bh1)|0)+Math.imul(ah8,bl1)|0,hi=hi+Math.imul(ah8,bh1)|0,lo=lo+Math.imul(al7,bl2)|0,mid=(mid=mid+Math.imul(al7,bh2)|0)+Math.imul(ah7,bl2)|0,hi=hi+Math.imul(ah7,bh2)|0,lo=lo+Math.imul(al6,bl3)|0,mid=(mid=mid+Math.imul(al6,bh3)|0)+Math.imul(ah6,bl3)|0,hi=hi+Math.imul(ah6,bh3)|0,lo=lo+Math.imul(al5,bl4)|0,mid=(mid=mid+Math.imul(al5,bh4)|0)+Math.imul(ah5,bl4)|0,hi=hi+Math.imul(ah5,bh4)|0,lo=lo+Math.imul(al4,bl5)|0,mid=(mid=mid+Math.imul(al4,bh5)|0)+Math.imul(ah4,bl5)|0,hi=hi+Math.imul(ah4,bh5)|0,lo=lo+Math.imul(al3,bl6)|0,mid=(mid=mid+Math.imul(al3,bh6)|0)+Math.imul(ah3,bl6)|0,hi=hi+Math.imul(ah3,bh6)|0,lo=lo+Math.imul(al2,bl7)|0,mid=(mid=mid+Math.imul(al2,bh7)|0)+Math.imul(ah2,bl7)|0,hi=hi+Math.imul(ah2,bh7)|0,lo=lo+Math.imul(al1,bl8)|0,mid=(mid=mid+Math.imul(al1,bh8)|0)+Math.imul(ah1,bl8)|0,hi=hi+Math.imul(ah1,bh8)|0;var w9=(c+(lo=lo+Math.imul(al0,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al0,bh9)|0)+Math.imul(ah0,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah0,bh9)|0)+(mid>>>13)|0)+(w9>>>26)|0,w9&=67108863,lo=Math.imul(al9,bl1),mid=(mid=Math.imul(al9,bh1))+Math.imul(ah9,bl1)|0,hi=Math.imul(ah9,bh1),lo=lo+Math.imul(al8,bl2)|0,mid=(mid=mid+Math.imul(al8,bh2)|0)+Math.imul(ah8,bl2)|0,hi=hi+Math.imul(ah8,bh2)|0,lo=lo+Math.imul(al7,bl3)|0,mid=(mid=mid+Math.imul(al7,bh3)|0)+Math.imul(ah7,bl3)|0,hi=hi+Math.imul(ah7,bh3)|0,lo=lo+Math.imul(al6,bl4)|0,mid=(mid=mid+Math.imul(al6,bh4)|0)+Math.imul(ah6,bl4)|0,hi=hi+Math.imul(ah6,bh4)|0,lo=lo+Math.imul(al5,bl5)|0,mid=(mid=mid+Math.imul(al5,bh5)|0)+Math.imul(ah5,bl5)|0,hi=hi+Math.imul(ah5,bh5)|0,lo=lo+Math.imul(al4,bl6)|0,mid=(mid=mid+Math.imul(al4,bh6)|0)+Math.imul(ah4,bl6)|0,hi=hi+Math.imul(ah4,bh6)|0,lo=lo+Math.imul(al3,bl7)|0,mid=(mid=mid+Math.imul(al3,bh7)|0)+Math.imul(ah3,bl7)|0,hi=hi+Math.imul(ah3,bh7)|0,lo=lo+Math.imul(al2,bl8)|0,mid=(mid=mid+Math.imul(al2,bh8)|0)+Math.imul(ah2,bl8)|0,hi=hi+Math.imul(ah2,bh8)|0;var w10=(c+(lo=lo+Math.imul(al1,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al1,bh9)|0)+Math.imul(ah1,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah1,bh9)|0)+(mid>>>13)|0)+(w10>>>26)|0,w10&=67108863,lo=Math.imul(al9,bl2),mid=(mid=Math.imul(al9,bh2))+Math.imul(ah9,bl2)|0,hi=Math.imul(ah9,bh2),lo=lo+Math.imul(al8,bl3)|0,mid=(mid=mid+Math.imul(al8,bh3)|0)+Math.imul(ah8,bl3)|0,hi=hi+Math.imul(ah8,bh3)|0,lo=lo+Math.imul(al7,bl4)|0,mid=(mid=mid+Math.imul(al7,bh4)|0)+Math.imul(ah7,bl4)|0,hi=hi+Math.imul(ah7,bh4)|0,lo=lo+Math.imul(al6,bl5)|0,mid=(mid=mid+Math.imul(al6,bh5)|0)+Math.imul(ah6,bl5)|0,hi=hi+Math.imul(ah6,bh5)|0,lo=lo+Math.imul(al5,bl6)|0,mid=(mid=mid+Math.imul(al5,bh6)|0)+Math.imul(ah5,bl6)|0,hi=hi+Math.imul(ah5,bh6)|0,lo=lo+Math.imul(al4,bl7)|0,mid=(mid=mid+Math.imul(al4,bh7)|0)+Math.imul(ah4,bl7)|0,hi=hi+Math.imul(ah4,bh7)|0,lo=lo+Math.imul(al3,bl8)|0,mid=(mid=mid+Math.imul(al3,bh8)|0)+Math.imul(ah3,bl8)|0,hi=hi+Math.imul(ah3,bh8)|0;var w11=(c+(lo=lo+Math.imul(al2,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al2,bh9)|0)+Math.imul(ah2,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah2,bh9)|0)+(mid>>>13)|0)+(w11>>>26)|0,w11&=67108863,lo=Math.imul(al9,bl3),mid=(mid=Math.imul(al9,bh3))+Math.imul(ah9,bl3)|0,hi=Math.imul(ah9,bh3),lo=lo+Math.imul(al8,bl4)|0,mid=(mid=mid+Math.imul(al8,bh4)|0)+Math.imul(ah8,bl4)|0,hi=hi+Math.imul(ah8,bh4)|0,lo=lo+Math.imul(al7,bl5)|0,mid=(mid=mid+Math.imul(al7,bh5)|0)+Math.imul(ah7,bl5)|0,hi=hi+Math.imul(ah7,bh5)|0,lo=lo+Math.imul(al6,bl6)|0,mid=(mid=mid+Math.imul(al6,bh6)|0)+Math.imul(ah6,bl6)|0,hi=hi+Math.imul(ah6,bh6)|0,lo=lo+Math.imul(al5,bl7)|0,mid=(mid=mid+Math.imul(al5,bh7)|0)+Math.imul(ah5,bl7)|0,hi=hi+Math.imul(ah5,bh7)|0,lo=lo+Math.imul(al4,bl8)|0,mid=(mid=mid+Math.imul(al4,bh8)|0)+Math.imul(ah4,bl8)|0,hi=hi+Math.imul(ah4,bh8)|0;var w12=(c+(lo=lo+Math.imul(al3,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al3,bh9)|0)+Math.imul(ah3,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah3,bh9)|0)+(mid>>>13)|0)+(w12>>>26)|0,w12&=67108863,lo=Math.imul(al9,bl4),mid=(mid=Math.imul(al9,bh4))+Math.imul(ah9,bl4)|0,hi=Math.imul(ah9,bh4),lo=lo+Math.imul(al8,bl5)|0,mid=(mid=mid+Math.imul(al8,bh5)|0)+Math.imul(ah8,bl5)|0,hi=hi+Math.imul(ah8,bh5)|0,lo=lo+Math.imul(al7,bl6)|0,mid=(mid=mid+Math.imul(al7,bh6)|0)+Math.imul(ah7,bl6)|0,hi=hi+Math.imul(ah7,bh6)|0,lo=lo+Math.imul(al6,bl7)|0,mid=(mid=mid+Math.imul(al6,bh7)|0)+Math.imul(ah6,bl7)|0,hi=hi+Math.imul(ah6,bh7)|0,lo=lo+Math.imul(al5,bl8)|0,mid=(mid=mid+Math.imul(al5,bh8)|0)+Math.imul(ah5,bl8)|0,hi=hi+Math.imul(ah5,bh8)|0;var w13=(c+(lo=lo+Math.imul(al4,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al4,bh9)|0)+Math.imul(ah4,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah4,bh9)|0)+(mid>>>13)|0)+(w13>>>26)|0,w13&=67108863,lo=Math.imul(al9,bl5),mid=(mid=Math.imul(al9,bh5))+Math.imul(ah9,bl5)|0,hi=Math.imul(ah9,bh5),lo=lo+Math.imul(al8,bl6)|0,mid=(mid=mid+Math.imul(al8,bh6)|0)+Math.imul(ah8,bl6)|0,hi=hi+Math.imul(ah8,bh6)|0,lo=lo+Math.imul(al7,bl7)|0,mid=(mid=mid+Math.imul(al7,bh7)|0)+Math.imul(ah7,bl7)|0,hi=hi+Math.imul(ah7,bh7)|0,lo=lo+Math.imul(al6,bl8)|0,mid=(mid=mid+Math.imul(al6,bh8)|0)+Math.imul(ah6,bl8)|0,hi=hi+Math.imul(ah6,bh8)|0;var w14=(c+(lo=lo+Math.imul(al5,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al5,bh9)|0)+Math.imul(ah5,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah5,bh9)|0)+(mid>>>13)|0)+(w14>>>26)|0,w14&=67108863,lo=Math.imul(al9,bl6),mid=(mid=Math.imul(al9,bh6))+Math.imul(ah9,bl6)|0,hi=Math.imul(ah9,bh6),lo=lo+Math.imul(al8,bl7)|0,mid=(mid=mid+Math.imul(al8,bh7)|0)+Math.imul(ah8,bl7)|0,hi=hi+Math.imul(ah8,bh7)|0,lo=lo+Math.imul(al7,bl8)|0,mid=(mid=mid+Math.imul(al7,bh8)|0)+Math.imul(ah7,bl8)|0,hi=hi+Math.imul(ah7,bh8)|0;var w15=(c+(lo=lo+Math.imul(al6,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al6,bh9)|0)+Math.imul(ah6,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah6,bh9)|0)+(mid>>>13)|0)+(w15>>>26)|0,w15&=67108863,lo=Math.imul(al9,bl7),mid=(mid=Math.imul(al9,bh7))+Math.imul(ah9,bl7)|0,hi=Math.imul(ah9,bh7),lo=lo+Math.imul(al8,bl8)|0,mid=(mid=mid+Math.imul(al8,bh8)|0)+Math.imul(ah8,bl8)|0,hi=hi+Math.imul(ah8,bh8)|0;var w16=(c+(lo=lo+Math.imul(al7,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al7,bh9)|0)+Math.imul(ah7,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah7,bh9)|0)+(mid>>>13)|0)+(w16>>>26)|0,w16&=67108863,lo=Math.imul(al9,bl8),mid=(mid=Math.imul(al9,bh8))+Math.imul(ah9,bl8)|0,hi=Math.imul(ah9,bh8);var w17=(c+(lo=lo+Math.imul(al8,bl9)|0)|0)+((8191&(mid=(mid=mid+Math.imul(al8,bh9)|0)+Math.imul(ah8,bl9)|0))<<13)|0;c=((hi=hi+Math.imul(ah8,bh9)|0)+(mid>>>13)|0)+(w17>>>26)|0,w17&=67108863;var w18=(c+(lo=Math.imul(al9,bl9))|0)+((8191&(mid=(mid=Math.imul(al9,bh9))+Math.imul(ah9,bl9)|0))<<13)|0;return c=((hi=Math.imul(ah9,bh9))+(mid>>>13)|0)+(w18>>>26)|0,w18&=67108863,o[0]=w0,o[1]=w1,o[2]=w2,o[3]=w3,o[4]=w4,o[5]=w5,o[6]=w6,o[7]=w7,o[8]=w8,o[9]=w9,o[10]=w10,o[11]=w11,o[12]=w12,o[13]=w13,o[14]=w14,o[15]=w15,o[16]=w16,o[17]=w17,o[18]=w18,0!==c&&(o[19]=c,out.length++),out};function jumboMulTo(self,num,out){return(new FFTM).mulp(self,num,out)}function FFTM(x,y){this.x=x,this.y=y}Math.imul||(comb10MulTo=smallMulTo),BN.prototype.mulTo=function(num,out){var len=this.length+num.length;return 10===this.length&&10===num.length?comb10MulTo(this,num,out):len<63?smallMulTo(this,num,out):len<1024?function(self,num,out){out.negative=num.negative^self.negative,out.length=self.length+num.length;for(var carry=0,hncarry=0,k=0;k<out.length-1;k++){var ncarry=hncarry;hncarry=0;for(var rword=67108863&carry,maxJ=Math.min(k,num.length-1),j=Math.max(0,k-self.length+1);j<=maxJ;j++){var i=k-j,r=(0|self.words[i])*(0|num.words[j]),lo=67108863&r;rword=67108863&(lo=lo+rword|0),hncarry+=(ncarry=(ncarry=ncarry+(r/67108864|0)|0)+(lo>>>26)|0)>>>26,ncarry&=67108863}out.words[k]=rword,carry=ncarry,ncarry=hncarry}return 0!==carry?out.words[k]=carry:out.length--,out.strip()}(this,num,out):jumboMulTo(this,num,out)},FFTM.prototype.makeRBT=function(N){for(var t=new Array(N),l=BN.prototype._countBits(N)-1,i=0;i<N;i++)t[i]=this.revBin(i,l,N);return t},FFTM.prototype.revBin=function(x,l,N){if(0===x||x===N-1)return x;for(var rb=0,i=0;i<l;i++)rb|=(1&x)<<l-i-1,x>>=1;return rb},FFTM.prototype.permute=function(rbt,rws,iws,rtws,itws,N){for(var i=0;i<N;i++)rtws[i]=rws[rbt[i]],itws[i]=iws[rbt[i]]},FFTM.prototype.transform=function(rws,iws,rtws,itws,N,rbt){this.permute(rbt,rws,iws,rtws,itws,N);for(var s=1;s<N;s<<=1)for(var l=s<<1,rtwdf=Math.cos(2*Math.PI/l),itwdf=Math.sin(2*Math.PI/l),p=0;p<N;p+=l)for(var rtwdf_=rtwdf,itwdf_=itwdf,j=0;j<s;j++){var re=rtws[p+j],ie=itws[p+j],ro=rtws[p+j+s],io=itws[p+j+s],rx=rtwdf_*ro-itwdf_*io;io=rtwdf_*io+itwdf_*ro,ro=rx,rtws[p+j]=re+ro,itws[p+j]=ie+io,rtws[p+j+s]=re-ro,itws[p+j+s]=ie-io,j!==l&&(rx=rtwdf*rtwdf_-itwdf*itwdf_,itwdf_=rtwdf*itwdf_+itwdf*rtwdf_,rtwdf_=rx)}},FFTM.prototype.guessLen13b=function(n,m){var N=1|Math.max(m,n),odd=1&N,i=0;for(N=N/2|0;N;N>>>=1)i++;return 1<<i+1+odd},FFTM.prototype.conjugate=function(rws,iws,N){if(!(N<=1))for(var i=0;i<N/2;i++){var t=rws[i];rws[i]=rws[N-i-1],rws[N-i-1]=t,t=iws[i],iws[i]=-iws[N-i-1],iws[N-i-1]=-t}},FFTM.prototype.normalize13b=function(ws,N){for(var carry=0,i=0;i<N/2;i++){var w=8192*Math.round(ws[2*i+1]/N)+Math.round(ws[2*i]/N)+carry;ws[i]=67108863&w,carry=w<67108864?0:w/67108864|0}return ws},FFTM.prototype.convert13b=function(ws,len,rws,N){for(var carry=0,i=0;i<len;i++)carry+=0|ws[i],rws[2*i]=8191&carry,carry>>>=13,rws[2*i+1]=8191&carry,carry>>>=13;for(i=2*len;i<N;++i)rws[i]=0;assert(0===carry),assert(0==(-8192&carry))},FFTM.prototype.stub=function(N){for(var ph=new Array(N),i=0;i<N;i++)ph[i]=0;return ph},FFTM.prototype.mulp=function(x,y,out){var N=2*this.guessLen13b(x.length,y.length),rbt=this.makeRBT(N),_=this.stub(N),rws=new Array(N),rwst=new Array(N),iwst=new Array(N),nrws=new Array(N),nrwst=new Array(N),niwst=new Array(N),rmws=out.words;rmws.length=N,this.convert13b(x.words,x.length,rws,N),this.convert13b(y.words,y.length,nrws,N),this.transform(rws,_,rwst,iwst,N,rbt),this.transform(nrws,_,nrwst,niwst,N,rbt);for(var i=0;i<N;i++){var rx=rwst[i]*nrwst[i]-iwst[i]*niwst[i];iwst[i]=rwst[i]*niwst[i]+iwst[i]*nrwst[i],rwst[i]=rx}return this.conjugate(rwst,iwst,N),this.transform(rwst,iwst,rmws,_,N,rbt),this.conjugate(rmws,_,N),this.normalize13b(rmws,N),out.negative=x.negative^y.negative,out.length=x.length+y.length,out.strip()},BN.prototype.mul=function(num){var out=new BN(null);return out.words=new Array(this.length+num.length),this.mulTo(num,out)},BN.prototype.mulf=function(num){var out=new BN(null);return out.words=new Array(this.length+num.length),jumboMulTo(this,num,out)},BN.prototype.imul=function(num){return this.clone().mulTo(num,this)},BN.prototype.imuln=function(num){assert("number"==typeof num),assert(num<67108864);for(var carry=0,i=0;i<this.length;i++){var w=(0|this.words[i])*num,lo=(67108863&w)+(67108863&carry);carry>>=26,carry+=w/67108864|0,carry+=lo>>>26,this.words[i]=67108863&lo}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN.prototype.muln=function(num){return this.clone().imuln(num)},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.imul(this.clone())},BN.prototype.pow=function(num){var w=function(num){for(var w=new Array(num.bitLength()),bit=0;bit<w.length;bit++){var off=bit/26|0,wbit=bit%26;w[bit]=(num.words[off]&1<<wbit)>>>wbit}return w}(num);if(0===w.length)return new BN(1);for(var res=this,i=0;i<w.length&&0===w[i];i++,res=res.sqr());if(++i<w.length)for(var q=res.sqr();i<w.length;i++,q=q.sqr())0!==w[i]&&(res=res.mul(q));return res},BN.prototype.iushln=function(bits){assert("number"==typeof bits&&bits>=0);var i,r=bits%26,s=(bits-r)/26,carryMask=67108863>>>26-r<<26-r;if(0!==r){var carry=0;for(i=0;i<this.length;i++){var newCarry=this.words[i]&carryMask,c=(0|this.words[i])-newCarry<<r;this.words[i]=c|carry,carry=newCarry>>>26-r}carry&&(this.words[i]=carry,this.length++)}if(0!==s){for(i=this.length-1;i>=0;i--)this.words[i+s]=this.words[i];for(i=0;i<s;i++)this.words[i]=0;this.length+=s}return this.strip()},BN.prototype.ishln=function(bits){return assert(0===this.negative),this.iushln(bits)},BN.prototype.iushrn=function(bits,hint,extended){var h;assert("number"==typeof bits&&bits>=0),h=hint?(hint-hint%26)/26:0;var r=bits%26,s=Math.min((bits-r)/26,this.length),mask=67108863^67108863>>>r<<r,maskedWords=extended;if(h-=s,h=Math.max(0,h),maskedWords){for(var i=0;i<s;i++)maskedWords.words[i]=this.words[i];maskedWords.length=s}if(0===s);else if(this.length>s)for(this.length-=s,i=0;i<this.length;i++)this.words[i]=this.words[i+s];else this.words[0]=0,this.length=1;var carry=0;for(i=this.length-1;i>=0&&(0!==carry||i>=h);i--){var word=0|this.words[i];this.words[i]=carry<<26-r|word>>>r,carry=word&mask}return maskedWords&&0!==carry&&(maskedWords.words[maskedWords.length++]=carry),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function(bits,hint,extended){return assert(0===this.negative),this.iushrn(bits,hint,extended)},BN.prototype.shln=function(bits){return this.clone().ishln(bits)},BN.prototype.ushln=function(bits){return this.clone().iushln(bits)},BN.prototype.shrn=function(bits){return this.clone().ishrn(bits)},BN.prototype.ushrn=function(bits){return this.clone().iushrn(bits)},BN.prototype.testn=function(bit){assert("number"==typeof bit&&bit>=0);var r=bit%26,s=(bit-r)/26,q=1<<r;return!(this.length<=s)&&!!(this.words[s]&q)},BN.prototype.imaskn=function(bits){assert("number"==typeof bits&&bits>=0);var r=bits%26,s=(bits-r)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=s)return this;if(0!==r&&s++,this.length=Math.min(s,this.length),0!==r){var mask=67108863^67108863>>>r<<r;this.words[this.length-1]&=mask}return this.strip()},BN.prototype.maskn=function(bits){return this.clone().imaskn(bits)},BN.prototype.iaddn=function(num){return assert("number"==typeof num),assert(num<67108864),num<0?this.isubn(-num):0!==this.negative?1===this.length&&(0|this.words[0])<num?(this.words[0]=num-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(num),this.negative=1,this):this._iaddn(num)},BN.prototype._iaddn=function(num){this.words[0]+=num;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},BN.prototype.isubn=function(num){if(assert("number"==typeof num),assert(num<67108864),num<0)return this.iaddn(-num);if(0!==this.negative)return this.negative=0,this.iaddn(num),this.negative=1,this;if(this.words[0]-=num,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},BN.prototype.addn=function(num){return this.clone().iaddn(num)},BN.prototype.subn=function(num){return this.clone().isubn(num)},BN.prototype.iabs=function(){return this.negative=0,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(num,mul,shift){var i,w,len=num.length+shift;this._expand(len);var carry=0;for(i=0;i<num.length;i++){w=(0|this.words[i+shift])+carry;var right=(0|num.words[i])*mul;carry=((w-=67108863&right)>>26)-(right/67108864|0),this.words[i+shift]=67108863&w}for(;i<this.length-shift;i++)carry=(w=(0|this.words[i+shift])+carry)>>26,this.words[i+shift]=67108863&w;if(0===carry)return this.strip();for(assert(-1===carry),carry=0,i=0;i<this.length;i++)carry=(w=-(0|this.words[i])+carry)>>26,this.words[i]=67108863&w;return this.negative=1,this.strip()},BN.prototype._wordDiv=function(num,mode){var shift=(this.length,num.length),a=this.clone(),b=num,bhi=0|b.words[b.length-1];0!==(shift=26-this._countBits(bhi))&&(b=b.ushln(shift),a.iushln(shift),bhi=0|b.words[b.length-1]);var q,m=a.length-b.length;if("mod"!==mode){(q=new BN(null)).length=m+1,q.words=new Array(q.length);for(var i=0;i<q.length;i++)q.words[i]=0}var diff=a.clone()._ishlnsubmul(b,1,m);0===diff.negative&&(a=diff,q&&(q.words[m]=1));for(var j=m-1;j>=0;j--){var qj=67108864*(0|a.words[b.length+j])+(0|a.words[b.length+j-1]);for(qj=Math.min(qj/bhi|0,67108863),a._ishlnsubmul(b,qj,j);0!==a.negative;)qj--,a.negative=0,a._ishlnsubmul(b,1,j),a.isZero()||(a.negative^=1);q&&(q.words[j]=qj)}return q&&q.strip(),a.strip(),"div"!==mode&&0!==shift&&a.iushrn(shift),{div:q||null,mod:a}},BN.prototype.divmod=function(num,mode,positive){return assert(!num.isZero()),this.isZero()?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===num.negative?(res=this.neg().divmod(num,mode),"mod"!==mode&&(div=res.div.neg()),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.iadd(num)),{div:div,mod:mod}):0===this.negative&&0!==num.negative?(res=this.divmod(num.neg(),mode),"mod"!==mode&&(div=res.div.neg()),{div:div,mod:res.mod}):0!=(this.negative&num.negative)?(res=this.neg().divmod(num.neg(),mode),"div"!==mode&&(mod=res.mod.neg(),positive&&0!==mod.negative&&mod.isub(num)),{div:res.div,mod:mod}):num.length>this.length||this.cmp(num)<0?{div:new BN(0),mod:this}:1===num.length?"div"===mode?{div:this.divn(num.words[0]),mod:null}:"mod"===mode?{div:null,mod:new BN(this.modn(num.words[0]))}:{div:this.divn(num.words[0]),mod:new BN(this.modn(num.words[0]))}:this._wordDiv(num,mode);var div,mod,res},BN.prototype.div=function(num){return this.divmod(num,"div",!1).div},BN.prototype.mod=function(num){return this.divmod(num,"mod",!1).mod},BN.prototype.umod=function(num){return this.divmod(num,"mod",!0).mod},BN.prototype.divRound=function(num){var dm=this.divmod(num);if(dm.mod.isZero())return dm.div;var mod=0!==dm.div.negative?dm.mod.isub(num):dm.mod,half=num.ushrn(1),r2=num.andln(1),cmp=mod.cmp(half);return cmp<0||1===r2&&0===cmp?dm.div:0!==dm.div.negative?dm.div.isubn(1):dm.div.iaddn(1)},BN.prototype.modn=function(num){assert(num<=67108863);for(var p=(1<<26)%num,acc=0,i=this.length-1;i>=0;i--)acc=(p*acc+(0|this.words[i]))%num;return acc},BN.prototype.idivn=function(num){assert(num<=67108863);for(var carry=0,i=this.length-1;i>=0;i--){var w=(0|this.words[i])+67108864*carry;this.words[i]=w/num|0,carry=w%num}return this.strip()},BN.prototype.divn=function(num){return this.clone().idivn(num)},BN.prototype.egcd=function(p){assert(0===p.negative),assert(!p.isZero());var x=this,y=p.clone();x=0!==x.negative?x.umod(p):x.clone();for(var A=new BN(1),B=new BN(0),C=new BN(0),D=new BN(1),g=0;x.isEven()&&y.isEven();)x.iushrn(1),y.iushrn(1),++g;for(var yp=y.clone(),xp=x.clone();!x.isZero();){for(var i=0,im=1;0==(x.words[0]&im)&&i<26;++i,im<<=1);if(i>0)for(x.iushrn(i);i-- >0;)(A.isOdd()||B.isOdd())&&(A.iadd(yp),B.isub(xp)),A.iushrn(1),B.iushrn(1);for(var j=0,jm=1;0==(y.words[0]&jm)&&j<26;++j,jm<<=1);if(j>0)for(y.iushrn(j);j-- >0;)(C.isOdd()||D.isOdd())&&(C.iadd(yp),D.isub(xp)),C.iushrn(1),D.iushrn(1);x.cmp(y)>=0?(x.isub(y),A.isub(C),B.isub(D)):(y.isub(x),C.isub(A),D.isub(B))}return{a:C,b:D,gcd:y.iushln(g)}},BN.prototype._invmp=function(p){assert(0===p.negative),assert(!p.isZero());var a=this,b=p.clone();a=0!==a.negative?a.umod(p):a.clone();for(var res,x1=new BN(1),x2=new BN(0),delta=b.clone();a.cmpn(1)>0&&b.cmpn(1)>0;){for(var i=0,im=1;0==(a.words[0]&im)&&i<26;++i,im<<=1);if(i>0)for(a.iushrn(i);i-- >0;)x1.isOdd()&&x1.iadd(delta),x1.iushrn(1);for(var j=0,jm=1;0==(b.words[0]&jm)&&j<26;++j,jm<<=1);if(j>0)for(b.iushrn(j);j-- >0;)x2.isOdd()&&x2.iadd(delta),x2.iushrn(1);a.cmp(b)>=0?(a.isub(b),x1.isub(x2)):(b.isub(a),x2.isub(x1))}return(res=0===a.cmpn(1)?x1:x2).cmpn(0)<0&&res.iadd(p),res},BN.prototype.gcd=function(num){if(this.isZero())return num.abs();if(num.isZero())return this.abs();var a=this.clone(),b=num.clone();a.negative=0,b.negative=0;for(var shift=0;a.isEven()&&b.isEven();shift++)a.iushrn(1),b.iushrn(1);for(;;){for(;a.isEven();)a.iushrn(1);for(;b.isEven();)b.iushrn(1);var r=a.cmp(b);if(r<0){var t=a;a=b,b=t}else if(0===r||0===b.cmpn(1))break;a.isub(b)}return b.iushln(shift)},BN.prototype.invm=function(num){return this.egcd(num).a.umod(num)},BN.prototype.isEven=function(){return 0==(1&this.words[0])},BN.prototype.isOdd=function(){return 1==(1&this.words[0])},BN.prototype.andln=function(num){return this.words[0]&num},BN.prototype.bincn=function(bit){assert("number"==typeof bit);var r=bit%26,s=(bit-r)/26,q=1<<r;if(this.length<=s)return this._expand(s+1),this.words[s]|=q,this;for(var carry=q,i=s;0!==carry&&i<this.length;i++){var w=0|this.words[i];carry=(w+=carry)>>>26,w&=67108863,this.words[i]=w}return 0!==carry&&(this.words[i]=carry,this.length++),this},BN.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function(num){var res,negative=num<0;if(0!==this.negative&&!negative)return-1;if(0===this.negative&&negative)return 1;if(this.strip(),this.length>1)res=1;else{negative&&(num=-num),assert(num<=67108863,"Number is too big");var w=0|this.words[0];res=w===num?0:w<num?-1:1}return 0!==this.negative?0|-res:res},BN.prototype.cmp=function(num){if(0!==this.negative&&0===num.negative)return-1;if(0===this.negative&&0!==num.negative)return 1;var res=this.ucmp(num);return 0!==this.negative?0|-res:res},BN.prototype.ucmp=function(num){if(this.length>num.length)return 1;if(this.length<num.length)return-1;for(var res=0,i=this.length-1;i>=0;i--){var a=0|this.words[i],b=0|num.words[i];if(a!==b){a<b?res=-1:a>b&&(res=1);break}}return res},BN.prototype.gtn=function(num){return 1===this.cmpn(num)},BN.prototype.gt=function(num){return 1===this.cmp(num)},BN.prototype.gten=function(num){return this.cmpn(num)>=0},BN.prototype.gte=function(num){return this.cmp(num)>=0},BN.prototype.ltn=function(num){return-1===this.cmpn(num)},BN.prototype.lt=function(num){return-1===this.cmp(num)},BN.prototype.lten=function(num){return this.cmpn(num)<=0},BN.prototype.lte=function(num){return this.cmp(num)<=0},BN.prototype.eqn=function(num){return 0===this.cmpn(num)},BN.prototype.eq=function(num){return 0===this.cmp(num)},BN.red=function(num){return new Red(num)},BN.prototype.toRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),ctx.convertTo(this)._forceRed(ctx)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(ctx){return this.red=ctx,this},BN.prototype.forceRed=function(ctx){return assert(!this.red,"Already a number in reduction context"),this._forceRed(ctx)},BN.prototype.redAdd=function(num){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,num)},BN.prototype.redIAdd=function(num){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,num)},BN.prototype.redSub=function(num){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,num)},BN.prototype.redISub=function(num){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,num)},BN.prototype.redShl=function(num){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,num)},BN.prototype.redMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.mul(this,num)},BN.prototype.redIMul=function(num){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,num),this.red.imul(this,num)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(num){return assert(this.red&&!num.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,num)};var primes={k256:null,p224:null,p192:null,p25519:null};function MPrime(name,p){this.name=name,this.p=new BN(p,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(m){if("string"==typeof m){var prime=BN._prime(m);this.m=prime.p,this.prime=prime}else assert(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}function Mont(m){Red.call(this,m),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function(){var tmp=new BN(null);return tmp.words=new Array(Math.ceil(this.n/13)),tmp},MPrime.prototype.ireduce=function(num){var rlen,r=num;do{this.split(r,this.tmp),rlen=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(rlen>this.n);var cmp=rlen<this.n?-1:r.ucmp(this.p);return 0===cmp?(r.words[0]=0,r.length=1):cmp>0?r.isub(this.p):r.strip(),r},MPrime.prototype.split=function(input,out){input.iushrn(this.n,0,out)},MPrime.prototype.imulK=function(num){return num.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(input,output){for(var outLen=Math.min(input.length,9),i=0;i<outLen;i++)output.words[i]=input.words[i];if(output.length=outLen,input.length<=9)return input.words[0]=0,void(input.length=1);var prev=input.words[9];for(output.words[output.length++]=4194303&prev,i=10;i<input.length;i++){var next=0|input.words[i];input.words[i-10]=(4194303&next)<<4|prev>>>22,prev=next}prev>>>=22,input.words[i-10]=prev,0===prev&&input.length>10?input.length-=10:input.length-=9},K256.prototype.imulK=function(num){num.words[num.length]=0,num.words[num.length+1]=0,num.length+=2;for(var lo=0,i=0;i<num.length;i++){var w=0|num.words[i];lo+=977*w,num.words[i]=67108863&lo,lo=64*w+(lo/67108864|0)}return 0===num.words[num.length-1]&&(num.length--,0===num.words[num.length-1]&&num.length--),num},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(num){for(var carry=0,i=0;i<num.length;i++){var hi=19*(0|num.words[i])+carry,lo=67108863&hi;hi>>>=26,num.words[i]=lo,carry=hi}return 0!==carry&&(num.words[num.length++]=carry),num},BN._prime=function(name){if(primes[name])return primes[name];var prime;if("k256"===name)prime=new K256;else if("p224"===name)prime=new P224;else if("p192"===name)prime=new P192;else{if("p25519"!==name)throw new Error("Unknown prime "+name);prime=new P25519}return primes[name]=prime,prime},Red.prototype._verify1=function(a){assert(0===a.negative,"red works only with positives"),assert(a.red,"red works only with red numbers")},Red.prototype._verify2=function(a,b){assert(0==(a.negative|b.negative),"red works only with positives"),assert(a.red&&a.red===b.red,"red works only with red numbers")},Red.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Red.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Red.prototype.add=function(a,b){this._verify2(a,b);var res=a.add(b);return res.cmp(this.m)>=0&&res.isub(this.m),res._forceRed(this)},Red.prototype.iadd=function(a,b){this._verify2(a,b);var res=a.iadd(b);return res.cmp(this.m)>=0&&res.isub(this.m),res},Red.prototype.sub=function(a,b){this._verify2(a,b);var res=a.sub(b);return res.cmpn(0)<0&&res.iadd(this.m),res._forceRed(this)},Red.prototype.isub=function(a,b){this._verify2(a,b);var res=a.isub(b);return res.cmpn(0)<0&&res.iadd(this.m),res},Red.prototype.shl=function(a,num){return this._verify1(a),this.imod(a.ushln(num))},Red.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},Red.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},Red.prototype.isqr=function(a){return this.imul(a,a.clone())},Red.prototype.sqr=function(a){return this.mul(a,a)},Red.prototype.sqrt=function(a){if(a.isZero())return a.clone();var mod3=this.m.andln(3);if(assert(mod3%2==1),3===mod3){var pow=this.m.add(new BN(1)).iushrn(2);return this.pow(a,pow)}for(var q=this.m.subn(1),s=0;!q.isZero()&&0===q.andln(1);)s++,q.iushrn(1);assert(!q.isZero());var one=new BN(1).toRed(this),nOne=one.redNeg(),lpow=this.m.subn(1).iushrn(1),z=this.m.bitLength();for(z=new BN(2*z*z).toRed(this);0!==this.pow(z,lpow).cmp(nOne);)z.redIAdd(nOne);for(var c=this.pow(z,q),r=this.pow(a,q.addn(1).iushrn(1)),t=this.pow(a,q),m=s;0!==t.cmp(one);){for(var tmp=t,i=0;0!==tmp.cmp(one);i++)tmp=tmp.redSqr();assert(i<m);var b=this.pow(c,new BN(1).iushln(m-i-1));r=r.redMul(b),c=b.redSqr(),t=t.redMul(c),m=i}return r},Red.prototype.invm=function(a){var inv=a._invmp(this.m);return 0!==inv.negative?(inv.negative=0,this.imod(inv).redNeg()):this.imod(inv)},Red.prototype.pow=function(a,num){if(num.isZero())return new BN(1).toRed(this);if(0===num.cmpn(1))return a.clone();var wnd=new Array(16);wnd[0]=new BN(1).toRed(this),wnd[1]=a;for(var i=2;i<wnd.length;i++)wnd[i]=this.mul(wnd[i-1],a);var res=wnd[0],current=0,currentLen=0,start=num.bitLength()%26;for(0===start&&(start=26),i=num.length-1;i>=0;i--){for(var word=num.words[i],j=start-1;j>=0;j--){var bit=word>>j&1;res!==wnd[0]&&(res=this.sqr(res)),0!==bit||0!==current?(current<<=1,current|=bit,(4===++currentLen||0===i&&0===j)&&(res=this.mul(res,wnd[current]),currentLen=0,current=0)):currentLen=0}start=26}return res},Red.prototype.convertTo=function(num){var r=num.umod(this.m);return r===num?r.clone():r},Red.prototype.convertFrom=function(num){var res=num.clone();return res.red=null,res},BN.mont=function(num){return new Mont(num)},inherits(Mont,Red),Mont.prototype.convertTo=function(num){return this.imod(num.ushln(this.shift))},Mont.prototype.convertFrom=function(num){var r=this.imod(num.mul(this.rinv));return r.red=null,r},Mont.prototype.imul=function(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;var t=a.imul(b),c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(c).iushrn(this.shift),res=u;return u.cmp(this.m)>=0?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.mul=function(a,b){if(a.isZero()||b.isZero())return new BN(0)._forceRed(this);var t=a.mul(b),c=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(c).iushrn(this.shift),res=u;return u.cmp(this.m)>=0?res=u.isub(this.m):u.cmpn(0)<0&&(res=u.iadd(this.m)),res._forceRed(this)},Mont.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===module||module,this)},{buffer:216}],215:[function(require,module,exports){var r;function Rand(rand){this.rand=rand}if(module.exports=function(len){return r||(r=new Rand(null)),r.generate(len)},module.exports.Rand=Rand,Rand.prototype.generate=function(len){return this._rand(len)},Rand.prototype._rand=function(n){if(this.rand.getBytes)return this.rand.getBytes(n);for(var res=new Uint8Array(n),i=0;i<res.length;i++)res[i]=this.rand.getByte();return res},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(n){var arr=new Uint8Array(n);return self.crypto.getRandomValues(arr),arr}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(n){var arr=new Uint8Array(n);return self.msCrypto.getRandomValues(arr),arr}:"object"==typeof window&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var crypto=require("crypto");if("function"!=typeof crypto.randomBytes)throw new Error("Not supported");Rand.prototype._rand=function(n){return crypto.randomBytes(n)}}catch(e){}},{crypto:216}],216:[function(require,module,exports){},{}],217:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;function asUInt32Array(buf){Buffer.isBuffer(buf)||(buf=Buffer.from(buf));for(var len=buf.length/4|0,out=new Array(len),i=0;i<len;i++)out[i]=buf.readUInt32BE(4*i);return out}function scrubVec(v){for(;0<v.length;v++)v[0]=0}function cryptBlock(M,keySchedule,SUB_MIX,SBOX,nRounds){for(var t0,t1,t2,t3,SUB_MIX0=SUB_MIX[0],SUB_MIX1=SUB_MIX[1],SUB_MIX2=SUB_MIX[2],SUB_MIX3=SUB_MIX[3],s0=M[0]^keySchedule[0],s1=M[1]^keySchedule[1],s2=M[2]^keySchedule[2],s3=M[3]^keySchedule[3],ksRow=4,round=1;round<nRounds;round++)t0=SUB_MIX0[s0>>>24]^SUB_MIX1[s1>>>16&255]^SUB_MIX2[s2>>>8&255]^SUB_MIX3[255&s3]^keySchedule[ksRow++],t1=SUB_MIX0[s1>>>24]^SUB_MIX1[s2>>>16&255]^SUB_MIX2[s3>>>8&255]^SUB_MIX3[255&s0]^keySchedule[ksRow++],t2=SUB_MIX0[s2>>>24]^SUB_MIX1[s3>>>16&255]^SUB_MIX2[s0>>>8&255]^SUB_MIX3[255&s1]^keySchedule[ksRow++],t3=SUB_MIX0[s3>>>24]^SUB_MIX1[s0>>>16&255]^SUB_MIX2[s1>>>8&255]^SUB_MIX3[255&s2]^keySchedule[ksRow++],s0=t0,s1=t1,s2=t2,s3=t3;return t0=(SBOX[s0>>>24]<<24|SBOX[s1>>>16&255]<<16|SBOX[s2>>>8&255]<<8|SBOX[255&s3])^keySchedule[ksRow++],t1=(SBOX[s1>>>24]<<24|SBOX[s2>>>16&255]<<16|SBOX[s3>>>8&255]<<8|SBOX[255&s0])^keySchedule[ksRow++],t2=(SBOX[s2>>>24]<<24|SBOX[s3>>>16&255]<<16|SBOX[s0>>>8&255]<<8|SBOX[255&s1])^keySchedule[ksRow++],t3=(SBOX[s3>>>24]<<24|SBOX[s0>>>16&255]<<16|SBOX[s1>>>8&255]<<8|SBOX[255&s2])^keySchedule[ksRow++],[t0>>>=0,t1>>>=0,t2>>>=0,t3>>>=0]}var RCON=[0,1,2,4,8,16,32,64,128,27,54],G=function(){for(var d=new Array(256),j=0;j<256;j++)d[j]=j<128?j<<1:j<<1^283;for(var SBOX=[],INV_SBOX=[],SUB_MIX=[[],[],[],[]],INV_SUB_MIX=[[],[],[],[]],x=0,xi=0,i=0;i<256;++i){var sx=xi^xi<<1^xi<<2^xi<<3^xi<<4;sx=sx>>>8^255&sx^99,SBOX[x]=sx,INV_SBOX[sx]=x;var x2=d[x],x4=d[x2],x8=d[x4],t=257*d[sx]^16843008*sx;SUB_MIX[0][x]=t<<24|t>>>8,SUB_MIX[1][x]=t<<16|t>>>16,SUB_MIX[2][x]=t<<8|t>>>24,SUB_MIX[3][x]=t,t=16843009*x8^65537*x4^257*x2^16843008*x,INV_SUB_MIX[0][sx]=t<<24|t>>>8,INV_SUB_MIX[1][sx]=t<<16|t>>>16,INV_SUB_MIX[2][sx]=t<<8|t>>>24,INV_SUB_MIX[3][sx]=t,0===x?x=xi=1:(x=x2^d[d[d[x8^x2]]],xi^=d[d[xi]])}return{SBOX:SBOX,INV_SBOX:INV_SBOX,SUB_MIX:SUB_MIX,INV_SUB_MIX:INV_SUB_MIX}}();function AES(key){this._key=asUInt32Array(key),this._reset()}AES.blockSize=16,AES.keySize=32,AES.prototype.blockSize=AES.blockSize,AES.prototype.keySize=AES.keySize,AES.prototype._reset=function(){for(var keyWords=this._key,keySize=keyWords.length,nRounds=keySize+6,ksRows=4*(nRounds+1),keySchedule=[],k=0;k<keySize;k++)keySchedule[k]=keyWords[k];for(k=keySize;k<ksRows;k++){var t=keySchedule[k-1];k%keySize==0?(t=t<<8|t>>>24,t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[255&t],t^=RCON[k/keySize|0]<<24):keySize>6&&k%keySize==4&&(t=G.SBOX[t>>>24]<<24|G.SBOX[t>>>16&255]<<16|G.SBOX[t>>>8&255]<<8|G.SBOX[255&t]),keySchedule[k]=keySchedule[k-keySize]^t}for(var invKeySchedule=[],ik=0;ik<ksRows;ik++){var ksR=ksRows-ik,tt=keySchedule[ksR-(ik%4?0:4)];invKeySchedule[ik]=ik<4||ksR<=4?tt:G.INV_SUB_MIX[0][G.SBOX[tt>>>24]]^G.INV_SUB_MIX[1][G.SBOX[tt>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[tt>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[255&tt]]}this._nRounds=nRounds,this._keySchedule=keySchedule,this._invKeySchedule=invKeySchedule},AES.prototype.encryptBlockRaw=function(M){return cryptBlock(M=asUInt32Array(M),this._keySchedule,G.SUB_MIX,G.SBOX,this._nRounds)},AES.prototype.encryptBlock=function(M){var out=this.encryptBlockRaw(M),buf=Buffer.allocUnsafe(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[1],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[3],12),buf},AES.prototype.decryptBlock=function(M){var m1=(M=asUInt32Array(M))[1];M[1]=M[3],M[3]=m1;var out=cryptBlock(M,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX,this._nRounds),buf=Buffer.allocUnsafe(16);return buf.writeUInt32BE(out[0],0),buf.writeUInt32BE(out[3],4),buf.writeUInt32BE(out[2],8),buf.writeUInt32BE(out[1],12),buf},AES.prototype.scrub=function(){scrubVec(this._keySchedule),scrubVec(this._invKeySchedule),scrubVec(this._key)},module.exports.AES=AES},{"safe-buffer":355}],218:[function(require,module,exports){var aes=require("./aes"),Buffer=require("safe-buffer").Buffer,Transform=require("cipher-base"),inherits=require("inherits"),GHASH=require("./ghash"),xor=require("buffer-xor"),incr32=require("./incr32");function StreamCipher(mode,key,iv,decrypt){Transform.call(this);var h=Buffer.alloc(4,0);this._cipher=new aes.AES(key);var ck=this._cipher.encryptBlock(h);this._ghash=new GHASH(ck),iv=function(self,iv,ck){if(12===iv.length)return self._finID=Buffer.concat([iv,Buffer.from([0,0,0,1])]),Buffer.concat([iv,Buffer.from([0,0,0,2])]);var ghash=new GHASH(ck),len=iv.length,toPad=len%16;ghash.update(iv),toPad&&(toPad=16-toPad,ghash.update(Buffer.alloc(toPad,0))),ghash.update(Buffer.alloc(8,0));var ivBits=8*len,tail=Buffer.alloc(8);tail.writeUIntBE(ivBits,0,8),ghash.update(tail),self._finID=ghash.state;var out=Buffer.from(self._finID);return incr32(out),out}(this,iv,ck),this._prev=Buffer.from(iv),this._cache=Buffer.allocUnsafe(0),this._secCache=Buffer.allocUnsafe(0),this._decrypt=decrypt,this._alen=0,this._len=0,this._mode=mode,this._authTag=null,this._called=!1}inherits(StreamCipher,Transform),StreamCipher.prototype._update=function(chunk){if(!this._called&&this._alen){var rump=16-this._alen%16;rump<16&&(rump=Buffer.alloc(rump,0),this._ghash.update(rump))}this._called=!0;var out=this._mode.encrypt(this,chunk);return this._decrypt?this._ghash.update(chunk):this._ghash.update(out),this._len+=chunk.length,out},StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var tag=xor(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(a,b){var out=0;a.length!==b.length&&out++;for(var len=Math.min(a.length,b.length),i=0;i<len;++i)out+=a[i]^b[i];return out}(tag,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=tag,this._cipher.scrub()},StreamCipher.prototype.getAuthTag=function(){if(this._decrypt||!Buffer.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},StreamCipher.prototype.setAuthTag=function(tag){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=tag},StreamCipher.prototype.setAAD=function(buf){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(buf),this._alen+=buf.length},module.exports=StreamCipher},{"./aes":217,"./ghash":222,"./incr32":223,"buffer-xor":245,"cipher-base":247,inherits:300,"safe-buffer":355}],219:[function(require,module,exports){var ciphers=require("./encrypter"),deciphers=require("./decrypter"),modes=require("./modes/list.json");exports.createCipher=exports.Cipher=ciphers.createCipher,exports.createCipheriv=exports.Cipheriv=ciphers.createCipheriv,exports.createDecipher=exports.Decipher=deciphers.createDecipher,exports.createDecipheriv=exports.Decipheriv=deciphers.createDecipheriv,exports.listCiphers=exports.getCiphers=function(){return Object.keys(modes)}},{"./decrypter":220,"./encrypter":221,"./modes/list.json":231}],220:[function(require,module,exports){var AuthCipher=require("./authCipher"),Buffer=require("safe-buffer").Buffer,MODES=require("./modes"),StreamCipher=require("./streamCipher"),Transform=require("cipher-base"),aes=require("./aes"),ebtk=require("evp_bytestokey");function Decipher(mode,key,iv){Transform.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes.AES(key),this._prev=Buffer.from(iv),this._mode=mode,this._autopadding=!0}function Splitter(){this.cache=Buffer.allocUnsafe(0)}function createDecipheriv(suite,password,iv){var config=MODES[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if("string"==typeof iv&&(iv=Buffer.from(iv)),"GCM"!==config.mode&&iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);if("string"==typeof password&&(password=Buffer.from(password)),password.length!==config.key/8)throw new TypeError("invalid key length "+password.length);return"stream"===config.type?new StreamCipher(config.module,password,iv,!0):"auth"===config.type?new AuthCipher(config.module,password,iv,!0):new Decipher(config.module,password,iv)}require("inherits")(Decipher,Transform),Decipher.prototype._update=function(data){var chunk,thing;this._cache.add(data);for(var out=[];chunk=this._cache.get(this._autopadding);)thing=this._mode.decrypt(this,chunk),out.push(thing);return Buffer.concat(out)},Decipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding)return function(last){var padded=last[15];if(padded<1||padded>16)throw new Error("unable to decrypt data");var i=-1;for(;++i<padded;)if(last[i+(16-padded)]!==padded)throw new Error("unable to decrypt data");if(16===padded)return;return last.slice(0,16-padded)}(this._mode.decrypt(this,chunk));if(chunk)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(setTo){return this._autopadding=!!setTo,this},Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])},Splitter.prototype.get=function(autoPadding){var out;if(autoPadding){if(this.cache.length>16)return out=this.cache.slice(0,16),this.cache=this.cache.slice(16),out}else if(this.cache.length>=16)return out=this.cache.slice(0,16),this.cache=this.cache.slice(16),out;return null},Splitter.prototype.flush=function(){if(this.cache.length)return this.cache},exports.createDecipher=function(suite,password){var config=MODES[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");var keys=ebtk(password,!1,config.key,config.iv);return createDecipheriv(suite,keys.key,keys.iv)},exports.createDecipheriv=createDecipheriv},{"./aes":217,"./authCipher":218,"./modes":230,"./streamCipher":233,"cipher-base":247,evp_bytestokey:283,inherits:300,"safe-buffer":355}],221:[function(require,module,exports){var MODES=require("./modes"),AuthCipher=require("./authCipher"),Buffer=require("safe-buffer").Buffer,StreamCipher=require("./streamCipher"),Transform=require("cipher-base"),aes=require("./aes"),ebtk=require("evp_bytestokey");function Cipher(mode,key,iv){Transform.call(this),this._cache=new Splitter,this._cipher=new aes.AES(key),this._prev=Buffer.from(iv),this._mode=mode,this._autopadding=!0}require("inherits")(Cipher,Transform),Cipher.prototype._update=function(data){var chunk,thing;this._cache.add(data);for(var out=[];chunk=this._cache.get();)thing=this._mode.encrypt(this,chunk),out.push(thing);return Buffer.concat(out)};var PADDING=Buffer.alloc(16,16);function Splitter(){this.cache=Buffer.allocUnsafe(0)}function createCipheriv(suite,password,iv){var config=MODES[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");if("string"==typeof password&&(password=Buffer.from(password)),password.length!==config.key/8)throw new TypeError("invalid key length "+password.length);if("string"==typeof iv&&(iv=Buffer.from(iv)),"GCM"!==config.mode&&iv.length!==config.iv)throw new TypeError("invalid iv length "+iv.length);return"stream"===config.type?new StreamCipher(config.module,password,iv):"auth"===config.type?new AuthCipher(config.module,password,iv):new Cipher(config.module,password,iv)}Cipher.prototype._final=function(){var chunk=this._cache.flush();if(this._autopadding)return chunk=this._mode.encrypt(this,chunk),this._cipher.scrub(),chunk;if(!chunk.equals(PADDING))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(setTo){return this._autopadding=!!setTo,this},Splitter.prototype.add=function(data){this.cache=Buffer.concat([this.cache,data])},Splitter.prototype.get=function(){if(this.cache.length>15){var out=this.cache.slice(0,16);return this.cache=this.cache.slice(16),out}return null},Splitter.prototype.flush=function(){for(var len=16-this.cache.length,padBuff=Buffer.allocUnsafe(len),i=-1;++i<len;)padBuff.writeUInt8(len,i);return Buffer.concat([this.cache,padBuff])},exports.createCipheriv=createCipheriv,exports.createCipher=function(suite,password){var config=MODES[suite.toLowerCase()];if(!config)throw new TypeError("invalid suite type");var keys=ebtk(password,!1,config.key,config.iv);return createCipheriv(suite,keys.key,keys.iv)}},{"./aes":217,"./authCipher":218,"./modes":230,"./streamCipher":233,"cipher-base":247,evp_bytestokey:283,inherits:300,"safe-buffer":355}],222:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer,ZEROES=Buffer.alloc(16,0);function fromArray(out){var buf=Buffer.allocUnsafe(16);return buf.writeUInt32BE(out[0]>>>0,0),buf.writeUInt32BE(out[1]>>>0,4),buf.writeUInt32BE(out[2]>>>0,8),buf.writeUInt32BE(out[3]>>>0,12),buf}function GHASH(key){this.h=key,this.state=Buffer.alloc(16,0),this.cache=Buffer.allocUnsafe(0)}GHASH.prototype.ghash=function(block){for(var i=-1;++i<block.length;)this.state[i]^=block[i];this._multiply()},GHASH.prototype._multiply=function(){for(var buf,j,lsbVi,Vi=[(buf=this.h).readUInt32BE(0),buf.readUInt32BE(4),buf.readUInt32BE(8),buf.readUInt32BE(12)],Zi=[0,0,0,0],i=-1;++i<128;){for(0!=(this.state[~~(i/8)]&1<<7-i%8)&&(Zi[0]^=Vi[0],Zi[1]^=Vi[1],Zi[2]^=Vi[2],Zi[3]^=Vi[3]),lsbVi=0!=(1&Vi[3]),j=3;j>0;j--)Vi[j]=Vi[j]>>>1|(1&Vi[j-1])<<31;Vi[0]=Vi[0]>>>1,lsbVi&&(Vi[0]=Vi[0]^225<<24)}this.state=fromArray(Zi)},GHASH.prototype.update=function(buf){var chunk;for(this.cache=Buffer.concat([this.cache,buf]);this.cache.length>=16;)chunk=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(chunk)},GHASH.prototype.final=function(abl,bl){return this.cache.length&&this.ghash(Buffer.concat([this.cache,ZEROES],16)),this.ghash(fromArray([0,abl,0,bl])),this.state},module.exports=GHASH},{"safe-buffer":355}],223:[function(require,module,exports){module.exports=function(iv){for(var item,len=iv.length;len--;){if(255!==(item=iv.readUInt8(len))){item++,iv.writeUInt8(item,len);break}iv.writeUInt8(0,len)}}},{}],224:[function(require,module,exports){var xor=require("buffer-xor");exports.encrypt=function(self,block){var data=xor(block,self._prev);return self._prev=self._cipher.encryptBlock(data),self._prev},exports.decrypt=function(self,block){var pad=self._prev;self._prev=block;var out=self._cipher.decryptBlock(block);return xor(out,pad)}},{"buffer-xor":245}],225:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer,xor=require("buffer-xor");function encryptStart(self,data,decrypt){var len=data.length,out=xor(data,self._cache);return self._cache=self._cache.slice(len),self._prev=Buffer.concat([self._prev,decrypt?data:out]),out}exports.encrypt=function(self,data,decrypt){for(var len,out=Buffer.allocUnsafe(0);data.length;){if(0===self._cache.length&&(self._cache=self._cipher.encryptBlock(self._prev),self._prev=Buffer.allocUnsafe(0)),!(self._cache.length<=data.length)){out=Buffer.concat([out,encryptStart(self,data,decrypt)]);break}len=self._cache.length,out=Buffer.concat([out,encryptStart(self,data.slice(0,len),decrypt)]),data=data.slice(len)}return out}},{"buffer-xor":245,"safe-buffer":355}],226:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;function encryptByte(self,byteParam,decrypt){for(var pad,bit,value,i=-1,out=0;++i<8;)pad=self._cipher.encryptBlock(self._prev),bit=byteParam&1<<7-i?128:0,out+=(128&(value=pad[0]^bit))>>i%8,self._prev=shiftIn(self._prev,decrypt?bit:value);return out}function shiftIn(buffer,value){var len=buffer.length,i=-1,out=Buffer.allocUnsafe(buffer.length);for(buffer=Buffer.concat([buffer,Buffer.from([value])]);++i<len;)out[i]=buffer[i]<<1|buffer[i+1]>>7;return out}exports.encrypt=function(self,chunk,decrypt){for(var len=chunk.length,out=Buffer.allocUnsafe(len),i=-1;++i<len;)out[i]=encryptByte(self,chunk[i],decrypt);return out}},{"safe-buffer":355}],227:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer;function encryptByte(self,byteParam,decrypt){var out=self._cipher.encryptBlock(self._prev)[0]^byteParam;return self._prev=Buffer.concat([self._prev.slice(1),Buffer.from([decrypt?byteParam:out])]),out}exports.encrypt=function(self,chunk,decrypt){for(var len=chunk.length,out=Buffer.allocUnsafe(len),i=-1;++i<len;)out[i]=encryptByte(self,chunk[i],decrypt);return out}},{"safe-buffer":355}],228:[function(require,module,exports){var xor=require("buffer-xor"),Buffer=require("safe-buffer").Buffer,incr32=require("../incr32");function getBlock(self){var out=self._cipher.encryptBlockRaw(self._prev);return incr32(self._prev),out}exports.encrypt=function(self,chunk){var chunkNum=Math.ceil(chunk.length/16),start=self._cache.length;self._cache=Buffer.concat([self._cache,Buffer.allocUnsafe(16*chunkNum)]);for(var i=0;i<chunkNum;i++){var out=getBlock(self),offset=start+16*i;self._cache.writeUInt32BE(out[0],offset+0),self._cache.writeUInt32BE(out[1],offset+4),self._cache.writeUInt32BE(out[2],offset+8),self._cache.writeUInt32BE(out[3],offset+12)}var pad=self._cache.slice(0,chunk.length);return self._cache=self._cache.slice(chunk.length),xor(chunk,pad)}},{"../incr32":223,"buffer-xor":245,"safe-buffer":355}],229:[function(require,module,exports){exports.encrypt=function(self,block){return self._cipher.encryptBlock(block)},exports.decrypt=function(self,block){return self._cipher.decryptBlock(block)}},{}],230:[function(require,module,exports){var modeModules={ECB:require("./ecb"),CBC:require("./cbc"),CFB:require("./cfb"),CFB8:require("./cfb8"),CFB1:require("./cfb1"),OFB:require("./ofb"),CTR:require("./ctr"),GCM:require("./ctr")},modes=require("./list.json");for(var key in modes)modes[key].module=modeModules[modes[key].mode];module.exports=modes},{"./cbc":224,"./cfb":225,"./cfb1":226,"./cfb8":227,"./ctr":228,"./ecb":229,"./list.json":231,"./ofb":232}],231:[function(require,module,exports){module.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],232:[function(require,module,exports){(function(Buffer){var xor=require("buffer-xor");function getBlock(self){return self._prev=self._cipher.encryptBlock(self._prev),self._prev}exports.encrypt=function(self,chunk){for(;self._cache.length<chunk.length;)self._cache=Buffer.concat([self._cache,getBlock(self)]);var pad=self._cache.slice(0,chunk.length);return self._cache=self._cache.slice(chunk.length),xor(chunk,pad)}}).call(this,require("buffer").Buffer)},{buffer:246,"buffer-xor":245}],233:[function(require,module,exports){var aes=require("./aes"),Buffer=require("safe-buffer").Buffer,Transform=require("cipher-base");function StreamCipher(mode,key,iv,decrypt){Transform.call(this),this._cipher=new aes.AES(key),this._prev=Buffer.from(iv),this._cache=Buffer.allocUnsafe(0),this._secCache=Buffer.allocUnsafe(0),this._decrypt=decrypt,this._mode=mode}require("inherits")(StreamCipher,Transform),StreamCipher.prototype._update=function(chunk){return this._mode.encrypt(this,chunk,this._decrypt)},StreamCipher.prototype._final=function(){this._cipher.scrub()},module.exports=StreamCipher},{"./aes":217,"cipher-base":247,inherits:300,"safe-buffer":355}],234:[function(require,module,exports){var DES=require("browserify-des"),aes=require("browserify-aes/browser"),aesModes=require("browserify-aes/modes"),desModes=require("browserify-des/modes"),ebtk=require("evp_bytestokey");function createCipheriv(suite,key,iv){if(suite=suite.toLowerCase(),aesModes[suite])return aes.createCipheriv(suite,key,iv);if(desModes[suite])return new DES({key:key,iv:iv,mode:suite});throw new TypeError("invalid suite type")}function createDecipheriv(suite,key,iv){if(suite=suite.toLowerCase(),aesModes[suite])return aes.createDecipheriv(suite,key,iv);if(desModes[suite])return new DES({key:key,iv:iv,mode:suite,decrypt:!0});throw new TypeError("invalid suite type")}exports.createCipher=exports.Cipher=function(suite,password){var keyLen,ivLen;if(suite=suite.toLowerCase(),aesModes[suite])keyLen=aesModes[suite].key,ivLen=aesModes[suite].iv;else{if(!desModes[suite])throw new TypeError("invalid suite type");keyLen=8*desModes[suite].key,ivLen=desModes[suite].iv}var keys=ebtk(password,!1,keyLen,ivLen);return createCipheriv(suite,keys.key,keys.iv)},exports.createCipheriv=exports.Cipheriv=createCipheriv,exports.createDecipher=exports.Decipher=function(suite,password){var keyLen,ivLen;if(suite=suite.toLowerCase(),aesModes[suite])keyLen=aesModes[suite].key,ivLen=aesModes[suite].iv;else{if(!desModes[suite])throw new TypeError("invalid suite type");keyLen=8*desModes[suite].key,ivLen=desModes[suite].iv}var keys=ebtk(password,!1,keyLen,ivLen);return createDecipheriv(suite,keys.key,keys.iv)},exports.createDecipheriv=exports.Decipheriv=createDecipheriv,exports.listCiphers=exports.getCiphers=function(){return Object.keys(desModes).concat(aes.getCiphers())}},{"browserify-aes/browser":219,"browserify-aes/modes":230,"browserify-des":235,"browserify-des/modes":236,evp_bytestokey:283}],235:[function(require,module,exports){var CipherBase=require("cipher-base"),des=require("des.js"),inherits=require("inherits"),Buffer=require("safe-buffer").Buffer,modes={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};function DES(opts){CipherBase.call(this);var type,modeName=opts.mode.toLowerCase(),mode=modes[modeName];type=opts.decrypt?"decrypt":"encrypt";var key=opts.key;Buffer.isBuffer(key)||(key=Buffer.from(key)),"des-ede"!==modeName&&"des-ede-cbc"!==modeName||(key=Buffer.concat([key,key.slice(0,8)]));var iv=opts.iv;Buffer.isBuffer(iv)||(iv=Buffer.from(iv)),this._des=mode.create({key:key,iv:iv,type:type})}modes.des=modes["des-cbc"],modes.des3=modes["des-ede3-cbc"],module.exports=DES,inherits(DES,CipherBase),DES.prototype._update=function(data){return Buffer.from(this._des.update(data))},DES.prototype._final=function(){return Buffer.from(this._des.final())}},{"cipher-base":247,"des.js":256,inherits:300,"safe-buffer":355}],236:[function(require,module,exports){exports["des-ecb"]={key:8,iv:0},exports["des-cbc"]=exports.des={key:8,iv:8},exports["des-ede3-cbc"]=exports.des3={key:24,iv:8},exports["des-ede3"]={key:24,iv:0},exports["des-ede-cbc"]={key:16,iv:8},exports["des-ede"]={key:16,iv:0}},{}],237:[function(require,module,exports){(function(Buffer){var bn=require("bn.js"),randomBytes=require("randombytes");function crt(msg,priv){var blinds=function(priv){var r=getr(priv);return{blinder:r.toRed(bn.mont(priv.modulus)).redPow(new bn(priv.publicExponent)).fromRed(),unblinder:r.invm(priv.modulus)}}(priv),len=priv.modulus.byteLength(),blinded=(bn.mont(priv.modulus),new bn(msg).mul(blinds.blinder).umod(priv.modulus)),c1=blinded.toRed(bn.mont(priv.prime1)),c2=blinded.toRed(bn.mont(priv.prime2)),qinv=priv.coefficient,p=priv.prime1,q=priv.prime2,m1=c1.redPow(priv.exponent1),m2=c2.redPow(priv.exponent2);m1=m1.fromRed(),m2=m2.fromRed();var h=m1.isub(m2).imul(qinv).umod(p);return h.imul(q),m2.iadd(h),new Buffer(m2.imul(blinds.unblinder).umod(priv.modulus).toArray(!1,len))}function getr(priv){for(var len=priv.modulus.byteLength(),r=new bn(randomBytes(len));r.cmp(priv.modulus)>=0||!r.umod(priv.prime1)||!r.umod(priv.prime2);)r=new bn(randomBytes(len));return r}module.exports=crt,crt.getr=getr}).call(this,require("buffer").Buffer)},{"bn.js":214,buffer:246,randombytes:339}],238:[function(require,module,exports){module.exports=require("./browser/algorithms.json")},{"./browser/algorithms.json":239}],239:[function(require,module,exports){module.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],240:[function(require,module,exports){module.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],241:[function(require,module,exports){(function(Buffer){var createHash=require("create-hash"),stream=require("stream"),inherits=require("inherits"),sign=require("./sign"),verify=require("./verify"),algorithms=require("./algorithms.json");function Sign(algorithm){stream.Writable.call(this);var data=algorithms[algorithm];if(!data)throw new Error("Unknown message digest");this._hashType=data.hash,this._hash=createHash(data.hash),this._tag=data.id,this._signType=data.sign}function Verify(algorithm){stream.Writable.call(this);var data=algorithms[algorithm];if(!data)throw new Error("Unknown message digest");this._hash=createHash(data.hash),this._tag=data.id,this._signType=data.sign}function createSign(algorithm){return new Sign(algorithm)}function createVerify(algorithm){return new Verify(algorithm)}Object.keys(algorithms).forEach(function(key){algorithms[key].id=new Buffer(algorithms[key].id,"hex"),algorithms[key.toLowerCase()]=algorithms[key]}),inherits(Sign,stream.Writable),Sign.prototype._write=function(data,_,done){this._hash.update(data),done()},Sign.prototype.update=function(data,enc){return"string"==typeof data&&(data=new Buffer(data,enc)),this._hash.update(data),this},Sign.prototype.sign=function(key,enc){this.end();var hash=this._hash.digest(),sig=sign(hash,key,this._hashType,this._signType,this._tag);return enc?sig.toString(enc):sig},inherits(Verify,stream.Writable),Verify.prototype._write=function(data,_,done){this._hash.update(data),done()},Verify.prototype.update=function(data,enc){return"string"==typeof data&&(data=new Buffer(data,enc)),this._hash.update(data),this},Verify.prototype.verify=function(key,sig,enc){"string"==typeof sig&&(sig=new Buffer(sig,enc)),this.end();var hash=this._hash.digest();return verify(sig,hash,key,this._signType,this._tag)},module.exports={Sign:createSign,Verify:createVerify,createSign:createSign,createVerify:createVerify}}).call(this,require("buffer").Buffer)},{"./algorithms.json":239,"./sign":242,"./verify":243,buffer:246,"create-hash":250,inherits:300,stream:365}],242:[function(require,module,exports){(function(Buffer){var createHmac=require("create-hmac"),crt=require("browserify-rsa"),EC=require("elliptic").ec,BN=require("bn.js"),parseKeys=require("parse-asn1"),curves=require("./curves.json");function getKey(x,q,hash,algo){if((x=new Buffer(x.toArray())).length<q.byteLength()){var zeros=new Buffer(q.byteLength()-x.length);zeros.fill(0),x=Buffer.concat([zeros,x])}var hlen=hash.length,hbits=function(bits,q){bits=(bits=bits2int(bits,q)).mod(q);var out=new Buffer(bits.toArray());if(out.length<q.byteLength()){var zeros=new Buffer(q.byteLength()-out.length);zeros.fill(0),out=Buffer.concat([zeros,out])}return out}(hash,q),v=new Buffer(hlen);v.fill(1);var k=new Buffer(hlen);return k.fill(0),k=createHmac(algo,k).update(v).update(new Buffer([0])).update(x).update(hbits).digest(),v=createHmac(algo,k).update(v).digest(),{k:k=createHmac(algo,k).update(v).update(new Buffer([1])).update(x).update(hbits).digest(),v:v=createHmac(algo,k).update(v).digest()}}function bits2int(obits,q){var bits=new BN(obits),shift=(obits.length<<3)-q.bitLength();return shift>0&&bits.ishrn(shift),bits}function makeKey(q,kv,algo){var t,k;do{for(t=new Buffer(0);8*t.length<q.bitLength();)kv.v=createHmac(algo,kv.k).update(kv.v).digest(),t=Buffer.concat([t,kv.v]);k=bits2int(t,q),kv.k=createHmac(algo,kv.k).update(kv.v).update(new Buffer([0])).digest(),kv.v=createHmac(algo,kv.k).update(kv.v).digest()}while(-1!==k.cmp(q));return k}function makeR(g,k,p,q){return g.toRed(BN.mont(p)).redPow(k).fromRed().mod(q)}module.exports=function(hash,key,hashType,signType,tag){var priv=parseKeys(key);if(priv.curve){if("ecdsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong private key type");return function(hash,priv){var curveId=curves[priv.curve.join(".")];if(!curveId)throw new Error("unknown curve "+priv.curve.join("."));var out=new EC(curveId).keyFromPrivate(priv.privateKey).sign(hash);return new Buffer(out.toDER())}(hash,priv)}if("dsa"===priv.type){if("dsa"!==signType)throw new Error("wrong private key type");return function(hash,priv,algo){for(var k,x=priv.params.priv_key,p=priv.params.p,q=priv.params.q,g=priv.params.g,r=new BN(0),H=bits2int(hash,q).mod(q),s=!1,kv=getKey(x,q,hash,algo);!1===s;)k=makeKey(q,kv,algo),r=makeR(g,k,p,q),0===(s=k.invm(q).imul(H.add(x.mul(r))).mod(q)).cmpn(0)&&(s=!1,r=new BN(0));return function(r,s){r=r.toArray(),s=s.toArray(),128&r[0]&&(r=[0].concat(r)),128&s[0]&&(s=[0].concat(s));var res=[48,r.length+s.length+4,2,r.length];return res=res.concat(r,[2,s.length],s),new Buffer(res)}(r,s)}(hash,priv,hashType)}if("rsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong private key type");hash=Buffer.concat([tag,hash]);for(var len=priv.modulus.byteLength(),pad=[0,1];hash.length+pad.length+1<len;)pad.push(255);pad.push(0);for(var i=-1;++i<hash.length;)pad.push(hash[i]);return crt(pad,priv)},module.exports.getKey=getKey,module.exports.makeKey=makeKey}).call(this,require("buffer").Buffer)},{"./curves.json":240,"bn.js":214,"browserify-rsa":237,buffer:246,"create-hmac":252,elliptic:266,"parse-asn1":317}],243:[function(require,module,exports){(function(Buffer){var BN=require("bn.js"),EC=require("elliptic").ec,parseKeys=require("parse-asn1"),curves=require("./curves.json");function checkValue(b,q){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(q)>=q)throw new Error("invalid sig")}module.exports=function(sig,hash,key,signType,tag){var pub=parseKeys(key);if("ec"===pub.type){if("ecdsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong public key type");return function(sig,hash,pub){var curveId=curves[pub.data.algorithm.curve.join(".")];if(!curveId)throw new Error("unknown curve "+pub.data.algorithm.curve.join("."));var curve=new EC(curveId),pubkey=pub.data.subjectPrivateKey.data;return curve.verify(hash,sig,pubkey)}(sig,hash,pub)}if("dsa"===pub.type){if("dsa"!==signType)throw new Error("wrong public key type");return function(sig,hash,pub){var p=pub.data.p,q=pub.data.q,g=pub.data.g,y=pub.data.pub_key,unpacked=parseKeys.signature.decode(sig,"der"),s=unpacked.s,r=unpacked.r;checkValue(s,q),checkValue(r,q);var montp=BN.mont(p),w=s.invm(q);return 0===g.toRed(montp).redPow(new BN(hash).mul(w).mod(q)).fromRed().mul(y.toRed(montp).redPow(r.mul(w).mod(q)).fromRed()).mod(p).mod(q).cmp(r)}(sig,hash,pub)}if("rsa"!==signType&&"ecdsa/rsa"!==signType)throw new Error("wrong public key type");hash=Buffer.concat([tag,hash]);for(var len=pub.modulus.byteLength(),pad=[1],padNum=0;hash.length+pad.length+2<len;)pad.push(255),padNum++;pad.push(0);for(var i=-1;++i<hash.length;)pad.push(hash[i]);pad=new Buffer(pad);var red=BN.mont(pub.modulus);sig=(sig=new BN(sig).toRed(red)).redPow(new BN(pub.publicExponent)),sig=new Buffer(sig.fromRed().toArray());var out=padNum<8?1:0;for(len=Math.min(sig.length,pad.length),sig.length!==pad.length&&(out=1),i=-1;++i<len;)out|=sig[i]^pad[i];return 0===out}}).call(this,require("buffer").Buffer)},{"./curves.json":240,"bn.js":214,buffer:246,elliptic:266,"parse-asn1":317}],244:[function(require,module,exports){var Buffer=require("buffer").Buffer,isBufferEncoding=Buffer.isEncoding||function(encoding){switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var StringDecoder=exports.StringDecoder=function(encoding){switch(this.encoding=(encoding||"utf8").toLowerCase().replace(/[-_]/,""),function(encoding){if(encoding&&!isBufferEncoding(encoding))throw new Error("Unknown encoding: "+encoding)}(encoding),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0};function passThroughWrite(buffer){return buffer.toString(this.encoding)}function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3,this.charLength=this.charReceived?3:0}StringDecoder.prototype.write=function(buffer){for(var charStr="";this.charLength;){var available=buffer.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:buffer.length;if(buffer.copy(this.charBuffer,this.charReceived,0,available),this.charReceived+=available,this.charReceived<this.charLength)return"";if(buffer=buffer.slice(available,buffer.length),!((charCode=(charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(charStr.length-1))>=55296&&charCode<=56319)){if(this.charReceived=this.charLength=0,0===buffer.length)return charStr;break}this.charLength+=this.surrogateSize,charStr=""}this.detectIncompleteChar(buffer);var end=buffer.length;this.charLength&&(buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end),end-=this.charReceived);var charCode;end=(charStr+=buffer.toString(this.encoding,0,end)).length-1;if((charCode=charStr.charCodeAt(end))>=55296&&charCode<=56319){var size=this.surrogateSize;return this.charLength+=size,this.charReceived+=size,this.charBuffer.copy(this.charBuffer,size,0,size),buffer.copy(this.charBuffer,0,0,size),charStr.substring(0,end)}return charStr},StringDecoder.prototype.detectIncompleteChar=function(buffer){for(var i=buffer.length>=3?3:buffer.length;i>0;i--){var c=buffer[buffer.length-i];if(1==i&&c>>5==6){this.charLength=2;break}if(i<=2&&c>>4==14){this.charLength=3;break}if(i<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=i},StringDecoder.prototype.end=function(buffer){var res="";if(buffer&&buffer.length&&(res=this.write(buffer)),this.charReceived){var cr=this.charReceived,buf=this.charBuffer,enc=this.encoding;res+=buf.slice(0,cr).toString(enc)}return res}},{buffer:246}],245:[function(require,module,exports){(function(Buffer){module.exports=function(a,b){for(var length=Math.min(a.length,b.length),buffer=new Buffer(length),i=0;i<length;++i)buffer[i]=a[i]^b[i];return buffer}}).call(this,require("buffer").Buffer)},{buffer:246}],246:[function(require,module,exports){(function(global){"use strict";var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("isarray");function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length)).__proto__=Buffer.prototype:(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?function(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length);Buffer.TYPED_ARRAY_SUPPORT?(that=array).__proto__=Buffer.prototype:that=fromArrayLike(that,array);return that}(that,value,encodingOrOffset,length):"string"==typeof value?function(that,string,encoding){"string"==typeof encoding&&""!==encoding||(encoding="utf8");if(!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=0|byteLength(string,encoding),actual=(that=createBuffer(that,length)).write(string,encoding);actual!==length&&(that=that.slice(0,actual));return that}(that,value,encodingOrOffset):function(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return 0===(that=createBuffer(that,len)).length?that:(obj.copy(that,0,0,len),that)}if(obj){if("undefined"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||"length"in obj)return"number"!=typeof obj.length||(val=obj.length)!=val?createBuffer(that,0):fromArrayLike(that,obj);if("Buffer"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}var val;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(that,value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be a number');if(size<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;"string"!=typeof string&&(string=""+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":case void 0:return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError("Invalid hex string");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);var res="",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}(res)}exports.Buffer=Buffer,exports.SlowBuffer=function(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&"function"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return function(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?"string"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):function(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return"";if((end>>>=0)<=(start>>>=0))return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString("hex",0,max).match(/.{2}/g).join(" "),this.length>max&&(str+=" ... ")),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function(start,end){var newBuf,len=this.length;if(start=~~start,end=void 0===end?len:~~end,start<0?(start+=len)<0&&(start=0):start>len&&(start=len),end<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start),Buffer.TYPED_ARRAY_SUPPORT)(newBuf=this.subarray(start,end)).__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding)}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),"number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=function(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}(str).replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":213,ieee754:298,isarray:302}],247:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer,Transform=require("stream").Transform,StringDecoder=require("string_decoder").StringDecoder;function CipherBase(hashMode){Transform.call(this),this.hashMode="string"==typeof hashMode,this.hashMode?this[hashMode]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}require("inherits")(CipherBase,Transform),CipherBase.prototype.update=function(data,inputEnc,outputEnc){"string"==typeof data&&(data=Buffer.from(data,inputEnc));var outData=this._update(data);return this.hashMode?this:(outputEnc&&(outData=this._toString(outData,outputEnc)),outData)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(data,_,next){var err;try{this.hashMode?this._update(data):this.push(this._update(data))}catch(e){err=e}finally{next(err)}},CipherBase.prototype._flush=function(done){var err;try{this.push(this.__final())}catch(e){err=e}done(err)},CipherBase.prototype._finalOrDigest=function(outputEnc){var outData=this.__final()||Buffer.alloc(0);return outputEnc&&(outData=this._toString(outData,outputEnc,!0)),outData},CipherBase.prototype._toString=function(value,enc,fin){if(this._decoder||(this._decoder=new StringDecoder(enc),this._encoding=enc),this._encoding!==enc)throw new Error("can't switch encodings");var out=this._decoder.write(value);return fin&&(out+=this._decoder.end()),out},module.exports=CipherBase},{inherits:300,"safe-buffer":355,stream:365,string_decoder:244}],248:[function(require,module,exports){(function(Buffer){function objectToString(o){return Object.prototype.toString.call(o)}exports.isArray=function(arg){return Array.isArray?Array.isArray(arg):"[object Array]"===objectToString(arg)},exports.isBoolean=function(arg){return"boolean"==typeof arg},exports.isNull=function(arg){return null===arg},exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=function(arg){return"number"==typeof arg},exports.isString=function(arg){return"string"==typeof arg},exports.isSymbol=function(arg){return"symbol"==typeof arg},exports.isUndefined=function(arg){return void 0===arg},exports.isRegExp=function(re){return"[object RegExp]"===objectToString(re)},exports.isObject=function(arg){return"object"==typeof arg&&null!==arg},exports.isDate=function(d){return"[object Date]"===objectToString(d)},exports.isError=function(e){return"[object Error]"===objectToString(e)||e instanceof Error},exports.isFunction=function(arg){return"function"==typeof arg},exports.isPrimitive=function(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=Buffer.isBuffer}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":301}],249:[function(require,module,exports){(function(Buffer){var elliptic=require("elliptic"),BN=require("bn.js");module.exports=function(curve){return new ECDH(curve)};var aliases={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function ECDH(curve){this.curveType=aliases[curve],this.curveType||(this.curveType={name:curve}),this.curve=new elliptic.ec(this.curveType.name),this.keys=void 0}function formatReturnValue(bn,enc,len){Array.isArray(bn)||(bn=bn.toArray());var buf=new Buffer(bn);if(len&&buf.length<len){var zeros=new Buffer(len-buf.length);zeros.fill(0),buf=Buffer.concat([zeros,buf])}return enc?buf.toString(enc):buf}aliases.p224=aliases.secp224r1,aliases.p256=aliases.secp256r1=aliases.prime256v1,aliases.p192=aliases.secp192r1=aliases.prime192v1,aliases.p384=aliases.secp384r1,aliases.p521=aliases.secp521r1,ECDH.prototype.generateKeys=function(enc,format){return this.keys=this.curve.genKeyPair(),this.getPublicKey(enc,format)},ECDH.prototype.computeSecret=function(other,inenc,enc){return inenc=inenc||"utf8",Buffer.isBuffer(other)||(other=new Buffer(other,inenc)),formatReturnValue(this.curve.keyFromPublic(other).getPublic().mul(this.keys.getPrivate()).getX(),enc,this.curveType.byteLength)},ECDH.prototype.getPublicKey=function(enc,format){var key=this.keys.getPublic("compressed"===format,!0);return"hybrid"===format&&(key[key.length-1]%2?key[0]=7:key[0]=6),formatReturnValue(key,enc)},ECDH.prototype.getPrivateKey=function(enc){return formatReturnValue(this.keys.getPrivate(),enc)},ECDH.prototype.setPublicKey=function(pub,enc){return enc=enc||"utf8",Buffer.isBuffer(pub)||(pub=new Buffer(pub,enc)),this.keys._importPublic(pub),this},ECDH.prototype.setPrivateKey=function(priv,enc){enc=enc||"utf8",Buffer.isBuffer(priv)||(priv=new Buffer(priv,enc));var _priv=new BN(priv);return _priv=_priv.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(_priv),this}}).call(this,require("buffer").Buffer)},{"bn.js":214,buffer:246,elliptic:266}],250:[function(require,module,exports){"use strict";var inherits=require("inherits"),MD5=require("md5.js"),RIPEMD160=require("ripemd160"),sha=require("sha.js"),Base=require("cipher-base");function Hash(hash){Base.call(this,"digest"),this._hash=hash}inherits(Hash,Base),Hash.prototype._update=function(data){this._hash.update(data)},Hash.prototype._final=function(){return this._hash.digest()},module.exports=function(alg){return"md5"===(alg=alg.toLowerCase())?new MD5:"rmd160"===alg||"ripemd160"===alg?new RIPEMD160:new Hash(sha(alg))}},{"cipher-base":247,inherits:300,"md5.js":303,ripemd160:354,"sha.js":357}],251:[function(require,module,exports){var MD5=require("md5.js");module.exports=function(buffer){return(new MD5).update(buffer).digest()}},{"md5.js":303}],252:[function(require,module,exports){"use strict";var inherits=require("inherits"),Legacy=require("./legacy"),Base=require("cipher-base"),Buffer=require("safe-buffer").Buffer,md5=require("create-hash/md5"),RIPEMD160=require("ripemd160"),sha=require("sha.js"),ZEROS=Buffer.alloc(128);function Hmac(alg,key){Base.call(this,"digest"),"string"==typeof key&&(key=Buffer.from(key));var blocksize="sha512"===alg||"sha384"===alg?128:64;(this._alg=alg,this._key=key,key.length>blocksize)?key=("rmd160"===alg?new RIPEMD160:sha(alg)).update(key).digest():key.length<blocksize&&(key=Buffer.concat([key,ZEROS],blocksize));for(var ipad=this._ipad=Buffer.allocUnsafe(blocksize),opad=this._opad=Buffer.allocUnsafe(blocksize),i=0;i<blocksize;i++)ipad[i]=54^key[i],opad[i]=92^key[i];this._hash="rmd160"===alg?new RIPEMD160:sha(alg),this._hash.update(ipad)}inherits(Hmac,Base),Hmac.prototype._update=function(data){this._hash.update(data)},Hmac.prototype._final=function(){var h=this._hash.digest();return("rmd160"===this._alg?new RIPEMD160:sha(this._alg)).update(this._opad).update(h).digest()},module.exports=function(alg,key){return"rmd160"===(alg=alg.toLowerCase())||"ripemd160"===alg?new Hmac("rmd160",key):"md5"===alg?new Legacy(md5,key):new Hmac(alg,key)}},{"./legacy":253,"cipher-base":247,"create-hash/md5":251,inherits:300,ripemd160:354,"safe-buffer":355,"sha.js":357}],253:[function(require,module,exports){"use strict";var inherits=require("inherits"),Buffer=require("safe-buffer").Buffer,Base=require("cipher-base"),ZEROS=Buffer.alloc(128),blocksize=64;function Hmac(alg,key){Base.call(this,"digest"),"string"==typeof key&&(key=Buffer.from(key)),this._alg=alg,this._key=key,key.length>blocksize?key=alg(key):key.length<blocksize&&(key=Buffer.concat([key,ZEROS],blocksize));for(var ipad=this._ipad=Buffer.allocUnsafe(blocksize),opad=this._opad=Buffer.allocUnsafe(blocksize),i=0;i<blocksize;i++)ipad[i]=54^key[i],opad[i]=92^key[i];this._hash=[ipad]}inherits(Hmac,Base),Hmac.prototype._update=function(data){this._hash.push(data)},Hmac.prototype._final=function(){var h=this._alg(Buffer.concat(this._hash));return this._alg(Buffer.concat([this._opad,h]))},module.exports=Hmac},{"cipher-base":247,inherits:300,"safe-buffer":355}],254:[function(require,module,exports){"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=require("randombytes"),exports.createHash=exports.Hash=require("create-hash"),exports.createHmac=exports.Hmac=require("create-hmac");var algos=require("browserify-sign/algos"),algoKeys=Object.keys(algos),hashes=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(algoKeys);exports.getHashes=function(){return hashes};var p=require("pbkdf2");exports.pbkdf2=p.pbkdf2,exports.pbkdf2Sync=p.pbkdf2Sync;var aes=require("browserify-cipher");exports.Cipher=aes.Cipher,exports.createCipher=aes.createCipher,exports.Cipheriv=aes.Cipheriv,exports.createCipheriv=aes.createCipheriv,exports.Decipher=aes.Decipher,exports.createDecipher=aes.createDecipher,exports.Decipheriv=aes.Decipheriv,exports.createDecipheriv=aes.createDecipheriv,exports.getCiphers=aes.getCiphers,exports.listCiphers=aes.listCiphers;var dh=require("diffie-hellman");exports.DiffieHellmanGroup=dh.DiffieHellmanGroup,exports.createDiffieHellmanGroup=dh.createDiffieHellmanGroup,exports.getDiffieHellman=dh.getDiffieHellman,exports.createDiffieHellman=dh.createDiffieHellman,exports.DiffieHellman=dh.DiffieHellman;var sign=require("browserify-sign");exports.createSign=sign.createSign,exports.Sign=sign.Sign,exports.createVerify=sign.createVerify,exports.Verify=sign.Verify,exports.createECDH=require("create-ecdh");var publicEncrypt=require("public-encrypt");exports.publicEncrypt=publicEncrypt.publicEncrypt,exports.privateEncrypt=publicEncrypt.privateEncrypt,exports.publicDecrypt=publicEncrypt.publicDecrypt,exports.privateDecrypt=publicEncrypt.privateDecrypt;var rf=require("randomfill");exports.randomFill=rf.randomFill,exports.randomFillSync=rf.randomFillSync,exports.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},exports.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":234,"browserify-sign":241,"browserify-sign/algos":238,"create-ecdh":249,"create-hash":250,"create-hmac":252,"diffie-hellman":262,pbkdf2:318,"public-encrypt":333,randombytes:339,randomfill:340}],255:[function(require,module,exports){(function(process,Buffer){var Parser,StringDecoder,isObjLiteral,stream,util;stream=require("stream"),util=require("util"),StringDecoder=require("string_decoder").StringDecoder,module.exports=function(){var callback,called,chunks,data,err,options,parser;if(3===arguments.length){if(data=arguments[0],options=arguments[1],"function"!=typeof(callback=arguments[2]))throw Error("Invalid callback argument: "+JSON.stringify(callback));if("string"!=typeof data&&!Buffer.isBuffer(arguments[0]))return callback(Error("Invalid data argument: "+JSON.stringify(data)))}else if(2===arguments.length){if("string"==typeof arguments[0]||Buffer.isBuffer(arguments[0])?data=arguments[0]:isObjLiteral(arguments[0])?options=arguments[0]:err="Invalid first argument: "+JSON.stringify(arguments[0]),"function"==typeof arguments[1]?callback=arguments[1]:isObjLiteral(arguments[1])?options?err="Invalid arguments: got options twice as first and second arguments":options=arguments[1]:err="Invalid first argument: "+JSON.stringify(arguments[1]),err){if(callback)return callback(Error(err));throw Error(err)}}else 1===arguments.length&&("function"==typeof arguments[0]?callback=arguments[0]:options=arguments[0]);return null==options&&(options={}),parser=new Parser(options),null!=data&&process.nextTick(function(){return parser.write(data),parser.end()}),callback&&(called=!1,chunks=options.objname?{}:[],parser.on("readable",function(){var chunk,results;for(results=[];chunk=parser.read();)options.objname?results.push(chunks[chunk[0]]=chunk[1]):results.push(chunks.push(chunk));return results}),parser.on("error",function(err){return called=!0,callback(err)}),parser.on("end",function(){if(!called)return callback(null,chunks)})),parser},Parser=function(options){var base,base1,base10,base11,base12,base13,base14,base15,base16,base2,base3,base4,base5,base6,base7,base8,base9,k,v;for(k in null==options&&(options={}),this.options={},options)v=options[k],this.options[k]=v;return this.options.objectMode=!0,stream.Transform.call(this,this.options),null==(base=this.options).rowDelimiter&&(base.rowDelimiter=null),"string"==typeof this.options.rowDelimiter&&(this.options.rowDelimiter=[this.options.rowDelimiter]),null==(base1=this.options).delimiter&&(base1.delimiter=","),void 0===this.options.quote||this.options.quote||(this.options.quote=""),null==(base2=this.options).quote&&(base2.quote='"'),null==(base3=this.options).escape&&(base3.escape='"'),null==(base4=this.options).columns&&(base4.columns=null),null==(base5=this.options).comment&&(base5.comment=""),null==(base6=this.options).objname&&(base6.objname=!1),null==(base7=this.options).trim&&(base7.trim=!1),null==(base8=this.options).ltrim&&(base8.ltrim=!1),null==(base9=this.options).rtrim&&(base9.rtrim=!1),null==(base10=this.options).auto_parse&&(base10.auto_parse=!1),null==(base11=this.options).auto_parse_date&&(base11.auto_parse_date=!1),!0===this.options.auto_parse_date&&(this.options.auto_parse_date=function(value){var m;return m=Date.parse(value),isNaN(m)||(value=new Date(m)),value}),null==(base12=this.options).relax&&(base12.relax=!1),null==(base13=this.options).relax_column_count&&(base13.relax_column_count=!1),null==(base14=this.options).skip_empty_lines&&(base14.skip_empty_lines=!1),null==(base15=this.options).max_limit_on_data_read&&(base15.max_limit_on_data_read=128e3),null==(base16=this.options).skip_lines_with_empty_values&&(base16.skip_lines_with_empty_values=!1),this.lines=0,this.count=0,this.skipped_line_count=0,this.empty_line_count=0,this.is_int=/^(\-|\+)?([1-9]+[0-9]*)$/,this.is_float=function(value){return value-parseFloat(value)+1>=0},this._={decoder:new StringDecoder,quoting:!1,commenting:!1,field:null,nextChar:null,closingQuote:0,line:[],chunks:[],rawBuf:"",buf:"",rowDelimiterLength:this.options.rowDelimiter?Math.max.apply(Math,this.options.rowDelimiter.map(function(v){return v.length})):void 0},this},util.inherits(Parser,stream.Transform),module.exports.Parser=Parser,Parser.prototype._transform=function(chunk,encoding,callback){var err;return chunk instanceof Buffer&&(chunk=this._.decoder.write(chunk)),(err=this.__write(chunk,!1))?this.emit("error",err):callback()},Parser.prototype._flush=function(callback){var err;return(err=this.__write(this._.decoder.end(),!0))?this.emit("error",err):this._.quoting?void this.emit("error",new Error("Quoted field not terminated at line "+(this.lines+1))):this._.line.length>0&&(err=this.__push(this._.line))?callback(err):callback()},Parser.prototype.__push=function(line){var columns,err,field,i,j,len,lineAsColumns,ref,row;if(!this.options.skip_lines_with_empty_values||""!==line.join("").trim()){if(row=null,!0===this.options.columns)return this.options.columns=line,void"";if("function"==typeof this.options.columns)return err=(ref=function(fn,line){try{return[null,fn.call(null,line)]}catch(error){return[error]}}(this.options.columns,line))[0],columns=ref[1],err||(this.options.columns=columns,void"");if(!this._.line_length&&line.length>0&&(this._.line_length=this.options.columns?this.options.columns.length:line.length),1===line.length&&""===line[0])this.empty_line_count++;else if(line.length!==this._.line_length){if(!this.options.relax_column_count)return null!=this.options.columns?Error("Number of columns on line "+this.lines+" does not match header"):Error("Number of columns is inconsistent on line "+this.lines);this.count++,this.skipped_line_count++}else this.count++;if(null!=this.options.columns){for(lineAsColumns={},i=j=0,len=line.length;j<len;i=++j)field=line[i],!1!==this.options.columns[i]&&(lineAsColumns[this.options.columns[i]]=field);row=this.options.objname?[lineAsColumns[this.options.objname],lineAsColumns]:lineAsColumns}else row=line;if(!(this.count<this.options.from||this.count>this.options.to))return this.options.raw?(this.push({raw:this._.rawBuf,row:row}),this._.rawBuf=""):this.push(row),null}},Parser.prototype.__write=function(chars,end){var areNextCharsDelimiter,areNextCharsRowDelimiters,auto_parse,char,err,escapeIsQuote,i,isDelimiter,isEscape,isNextCharAComment,isQuote,isRowDelimiter,isRowDelimiterLength,is_float,is_int,l,ltrim,nextCharPos,ref,ref1,ref2,ref3,ref4,ref5,remainingBuffer,rowDelimiter,rtrim,wasCommenting,_this;for(_this=this,is_int=function(value){return"function"==typeof _this.is_int?_this.is_int(value):_this.is_int.test(value)},is_float=function(_this){return function(value){return"function"==typeof _this.is_float?_this.is_float(value):_this.is_float.test(value)}}(this),auto_parse=function(_this){return function(value){return _this.options.auto_parse?"function"==typeof _this.options.auto_parse?_this.options.auto_parse(value):(is_int(value)?value=parseInt(value):is_float(value)?value=parseFloat(value):_this.options.auto_parse_date&&(value=_this.options.auto_parse_date(value)),value):value}}(this),ltrim=this.options.trim||this.options.ltrim,rtrim=this.options.trim||this.options.rtrim,chars=this._.buf+chars,l=chars.length,i=0,0===this.lines&&65279===chars.charCodeAt(0)&&i++;i<l&&(end||(remainingBuffer=chars.substr(i,l-i),!(!this.options.rowDelimiter&&i+3>l||!this._.commenting&&l-i<this.options.comment.length&&this.options.comment.substr(0,l-i)===remainingBuffer||this.options.rowDelimiter&&l-i<this._.rowDelimiterLength&&this.options.rowDelimiter.some(function(rd){return rd.substr(0,l-i)===remainingBuffer})||this.options.rowDelimiter&&this._.quoting&&l-i<this.options.quote.length+this._.rowDelimiterLength&&this.options.rowDelimiter.some(function(_this){return function(rd){return(_this.options.quote+rd).substr(0,l-i)===remainingBuffer}}(this))||l-i<=this.options.delimiter.length&&this.options.delimiter.substr(0,l-i)===remainingBuffer||l-i<=this.options.escape.length&&this.options.escape.substr(0,l-i)===remainingBuffer)));)if(char=this._.nextChar?this._.nextChar:chars.charAt(i),this._.nextChar=l>i+1?chars.charAt(i+1):"",this.options.raw&&(this._.rawBuf+=char),null==this.options.rowDelimiter&&(nextCharPos=i,rowDelimiter=null,this._.quoting||"\n"!==char&&"\r"!==char?!this._.quoting||char!==this.options.quote||"\n"!==(ref=this._.nextChar)&&"\r"!==ref||(rowDelimiter=this._.nextChar,nextCharPos+=2,this.raw&&(rawBuf+=this._.nextChar)):(rowDelimiter=char,nextCharPos+=1),rowDelimiter&&("\r"===rowDelimiter&&"\n"===chars.charAt(nextCharPos)&&(rowDelimiter+="\n"),this.options.rowDelimiter=[rowDelimiter],this._.rowDelimiterLength=rowDelimiter.length)),this._.commenting||char!==this.options.escape||(escapeIsQuote=this.options.escape===this.options.quote,isEscape=this._.nextChar===this.options.escape,isQuote=this._.nextChar===this.options.quote,escapeIsQuote&&null==this._.field&&!this._.quoting||!isEscape&&!isQuote)){if(!this._.commenting&&char===this.options.quote)if(this._.quoting){if(areNextCharsRowDelimiters=this.options.rowDelimiter&&this.options.rowDelimiter.some(function(rd){return chars.substr(i+1,rd.length)===rd}),areNextCharsDelimiter=chars.substr(i+1,this.options.delimiter.length)===this.options.delimiter,isNextCharAComment=this._.nextChar===this.options.comment,!this._.nextChar||areNextCharsRowDelimiters||areNextCharsDelimiter||isNextCharAComment){this._.quoting=!1,this._.closingQuote=this.options.quote.length,i++,end&&i===l&&(this._.line.push(auto_parse(this._.field||"")),this._.field=null);continue}if(!this.options.relax)return Error("Invalid closing quote at line "+(this.lines+1)+"; found "+JSON.stringify(this._.nextChar)+" instead of delimiter "+JSON.stringify(this.options.delimiter));this._.quoting=!1,this._.field&&(this._.field=""+this.options.quote+this._.field)}else{if(!this._.field){this._.quoting=!0,i++;continue}if(null!=this._.field&&!this.options.relax)return Error("Invalid opening quote at line "+(this.lines+1))}if(((isRowDelimiter=this.options.rowDelimiter&&this.options.rowDelimiter.some(function(rd){return chars.substr(i,rd.length)===rd}))||end&&i===l-1)&&this.lines++,wasCommenting=!1,this._.commenting||this._.quoting||!this.options.comment||chars.substr(i,this.options.comment.length)!==this.options.comment?this._.commenting&&isRowDelimiter&&(wasCommenting=!0,this._.commenting=!1):this._.commenting=!0,isDelimiter=chars.substr(i,this.options.delimiter.length)===this.options.delimiter,this._.commenting||this._.quoting||!isDelimiter&&!isRowDelimiter)this._.commenting||this._.quoting||" "!==char&&"\t"!==char?this._.commenting?i++:(null==this._.field&&(this._.field=""),this._.field+=char,i++):(null==this._.field&&(this._.field=""),ltrim&&!this._.field||(this._.field+=char),i++);else{if(isRowDelimiter&&(isRowDelimiterLength=this.options.rowDelimiter.filter(function(rd){return chars.substr(i,rd.length)===rd})[0].length),isRowDelimiter&&0===this._.line.length&&null==this._.field&&(wasCommenting||this.options.skip_empty_lines)){i+=isRowDelimiterLength,this._.nextChar=chars.charAt(i);continue}if(rtrim&&(this._.closingQuote||(this._.field=null!=(ref1=this._.field)?ref1.trimRight():void 0)),this._.line.push(auto_parse(this._.field||"")),this._.closingQuote=0,this._.field=null,isDelimiter&&(i+=this.options.delimiter.length,this._.nextChar=chars.charAt(i),end&&!this._.nextChar&&(isRowDelimiter=!0,this._.line.push(""))),isRowDelimiter){if(err=this.__push(this._.line))return err;this._.line=[],i+=isRowDelimiterLength,this._.nextChar=chars.charAt(i);continue}}if(!this._.commenting&&(null!=(ref2=this._.field)?ref2.length:void 0)>this.options.max_limit_on_data_read)return Error("Field exceeds max_limit_on_data_read setting ("+this.options.max_limit_on_data_read+") "+JSON.stringify(this.options.delimiter));if(!this._.commenting&&(null!=(ref3=this._.line)?ref3.length:void 0)>this.options.max_limit_on_data_read)return Error("Row delimiter not found in the file "+JSON.stringify(this.options.rowDelimiter))}else i++,char=this._.nextChar,this._.nextChar=chars.charAt(i+1),null==this._.field&&(this._.field=""),this._.field+=char,this.options.raw&&(this._.rawBuf+=char),i++;if(end){if(null!=this._.field&&(rtrim&&(this._.closingQuote||(this._.field=null!=(ref4=this._.field)?ref4.trimRight():void 0)),this._.line.push(auto_parse(this._.field||"")),this._.field=null),(null!=(ref5=this._.field)?ref5.length:void 0)>this.options.max_limit_on_data_read)return Error("Delimiter not found in the file "+JSON.stringify(this.options.delimiter));if(0===l&&this.lines++,this._.line.length>this.options.max_limit_on_data_read)return Error("Row delimiter not found in the file "+JSON.stringify(this.options.rowDelimiter))}return this._.buf=chars.substr(i),null},isObjLiteral=function(_obj){var _test;return _test=_obj,"object"==typeof _obj&&null!==_obj&&!Array.isArray(_obj)&&function(){for(;null!==Object.getPrototypeOf(_test=Object.getPrototypeOf(_test)););return Object.getPrototypeOf(_obj===_test)}()}}).call(this,require("_process"),require("buffer").Buffer)},{_process:332,buffer:246,stream:365,string_decoder:244,util:370}],256:[function(require,module,exports){"use strict";exports.utils=require("./des/utils"),exports.Cipher=require("./des/cipher"),exports.DES=require("./des/des"),exports.CBC=require("./des/cbc"),exports.EDE=require("./des/ede")},{"./des/cbc":257,"./des/cipher":258,"./des/des":259,"./des/ede":260,"./des/utils":261}],257:[function(require,module,exports){"use strict";var assert=require("minimalistic-assert"),inherits=require("inherits"),proto={};exports.instantiate=function(Base){function CBC(options){Base.call(this,options),this._cbcInit()}inherits(CBC,Base);for(var keys=Object.keys(proto),i=0;i<keys.length;i++){var key=keys[i];CBC.prototype[key]=proto[key]}return CBC.create=function(options){return new CBC(options)},CBC},proto._cbcInit=function(){var state=new function(iv){assert.equal(iv.length,8,"Invalid IV length"),this.iv=new Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=iv[i]}(this.options.iv);this._cbcState=state},proto._update=function(inp,inOff,out,outOff){var state=this._cbcState,superProto=this.constructor.super_.prototype,iv=state.iv;if("encrypt"===this.type){for(var i=0;i<this.blockSize;i++)iv[i]^=inp[inOff+i];superProto._update.call(this,iv,0,out,outOff);for(i=0;i<this.blockSize;i++)iv[i]=out[outOff+i]}else{superProto._update.call(this,inp,inOff,out,outOff);for(i=0;i<this.blockSize;i++)out[outOff+i]^=iv[i];for(i=0;i<this.blockSize;i++)iv[i]=inp[inOff+i]}}},{inherits:300,"minimalistic-assert":305}],258:[function(require,module,exports){"use strict";var assert=require("minimalistic-assert");function Cipher(options){this.options=options,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}module.exports=Cipher,Cipher.prototype._init=function(){},Cipher.prototype.update=function(data){return 0===data.length?[]:"decrypt"===this.type?this._updateDecrypt(data):this._updateEncrypt(data)},Cipher.prototype._buffer=function(data,off){for(var min=Math.min(this.buffer.length-this.bufferOff,data.length-off),i=0;i<min;i++)this.buffer[this.bufferOff+i]=data[off+i];return this.bufferOff+=min,min},Cipher.prototype._flushBuffer=function(out,off){return this._update(this.buffer,0,out,off),this.bufferOff=0,this.blockSize},Cipher.prototype._updateEncrypt=function(data){var inputOff=0,outputOff=0,count=(this.bufferOff+data.length)/this.blockSize|0,out=new Array(count*this.blockSize);0!==this.bufferOff&&(inputOff+=this._buffer(data,inputOff),this.bufferOff===this.buffer.length&&(outputOff+=this._flushBuffer(out,outputOff)));for(var max=data.length-(data.length-inputOff)%this.blockSize;inputOff<max;inputOff+=this.blockSize)this._update(data,inputOff,out,outputOff),outputOff+=this.blockSize;for(;inputOff<data.length;inputOff++,this.bufferOff++)this.buffer[this.bufferOff]=data[inputOff];return out},Cipher.prototype._updateDecrypt=function(data){for(var inputOff=0,outputOff=0,count=Math.ceil((this.bufferOff+data.length)/this.blockSize)-1,out=new Array(count*this.blockSize);count>0;count--)inputOff+=this._buffer(data,inputOff),outputOff+=this._flushBuffer(out,outputOff);return inputOff+=this._buffer(data,inputOff),out},Cipher.prototype.final=function(buffer){var first,last;return buffer&&(first=this.update(buffer)),last="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),first?first.concat(last):last},Cipher.prototype._pad=function(buffer,off){if(0===off)return!1;for(;off<buffer.length;)buffer[off++]=0;return!0},Cipher.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var out=new Array(this.blockSize);return this._update(this.buffer,0,out,0),out},Cipher.prototype._unpad=function(buffer){return buffer},Cipher.prototype._finalDecrypt=function(){assert.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var out=new Array(this.blockSize);return this._flushBuffer(out,0),this._unpad(out)}},{"minimalistic-assert":305}],259:[function(require,module,exports){"use strict";var assert=require("minimalistic-assert"),inherits=require("inherits"),des=require("../des"),utils=des.utils,Cipher=des.Cipher;function DES(options){Cipher.call(this,options);var state=new function(){this.tmp=new Array(2),this.keys=null};this._desState=state,this.deriveKeys(state,options.key)}inherits(DES,Cipher),module.exports=DES,DES.create=function(options){return new DES(options)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function(state,key){state.keys=new Array(32),assert.equal(key.length,this.blockSize,"Invalid key length");var kL=utils.readUInt32BE(key,0),kR=utils.readUInt32BE(key,4);utils.pc1(kL,kR,state.tmp,0),kL=state.tmp[0],kR=state.tmp[1];for(var i=0;i<state.keys.length;i+=2){var shift=shiftTable[i>>>1];kL=utils.r28shl(kL,shift),kR=utils.r28shl(kR,shift),utils.pc2(kL,kR,state.keys,i)}},DES.prototype._update=function(inp,inOff,out,outOff){var state=this._desState,l=utils.readUInt32BE(inp,inOff),r=utils.readUInt32BE(inp,inOff+4);utils.ip(l,r,state.tmp,0),l=state.tmp[0],r=state.tmp[1],"encrypt"===this.type?this._encrypt(state,l,r,state.tmp,0):this._decrypt(state,l,r,state.tmp,0),l=state.tmp[0],r=state.tmp[1],utils.writeUInt32BE(out,l,outOff),utils.writeUInt32BE(out,r,outOff+4)},DES.prototype._pad=function(buffer,off){for(var value=buffer.length-off,i=off;i<buffer.length;i++)buffer[i]=value;return!0},DES.prototype._unpad=function(buffer){for(var pad=buffer[buffer.length-1],i=buffer.length-pad;i<buffer.length;i++)assert.equal(buffer[i],pad);return buffer.slice(0,buffer.length-pad)},DES.prototype._encrypt=function(state,lStart,rStart,out,off){for(var l=lStart,r=rStart,i=0;i<state.keys.length;i+=2){var keyL=state.keys[i],keyR=state.keys[i+1];utils.expand(r,state.tmp,0),keyL^=state.tmp[0],keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR),t=r;r=(l^utils.permute(s))>>>0,l=t}utils.rip(r,l,out,off)},DES.prototype._decrypt=function(state,lStart,rStart,out,off){for(var l=rStart,r=lStart,i=state.keys.length-2;i>=0;i-=2){var keyL=state.keys[i],keyR=state.keys[i+1];utils.expand(l,state.tmp,0),keyL^=state.tmp[0],keyR^=state.tmp[1];var s=utils.substitute(keyL,keyR),t=l;l=(r^utils.permute(s))>>>0,r=t}utils.rip(l,r,out,off)}},{"../des":256,inherits:300,"minimalistic-assert":305}],260:[function(require,module,exports){"use strict";var assert=require("minimalistic-assert"),inherits=require("inherits"),des=require("../des"),Cipher=des.Cipher,DES=des.DES;function EDE(options){Cipher.call(this,options);var state=new function(type,key){assert.equal(key.length,24,"Invalid key length");var k1=key.slice(0,8),k2=key.slice(8,16),k3=key.slice(16,24);this.ciphers="encrypt"===type?[DES.create({type:"encrypt",key:k1}),DES.create({type:"decrypt",key:k2}),DES.create({type:"encrypt",key:k3})]:[DES.create({type:"decrypt",key:k3}),DES.create({type:"encrypt",key:k2}),DES.create({type:"decrypt",key:k1})]}(this.type,this.options.key);this._edeState=state}inherits(EDE,Cipher),module.exports=EDE,EDE.create=function(options){return new EDE(options)},EDE.prototype._update=function(inp,inOff,out,outOff){var state=this._edeState;state.ciphers[0]._update(inp,inOff,out,outOff),state.ciphers[1]._update(out,outOff,out,outOff),state.ciphers[2]._update(out,outOff,out,outOff)},EDE.prototype._pad=DES.prototype._pad,EDE.prototype._unpad=DES.prototype._unpad},{"../des":256,inherits:300,"minimalistic-assert":305}],261:[function(require,module,exports){"use strict";exports.readUInt32BE=function(bytes,off){return(bytes[0+off]<<24|bytes[1+off]<<16|bytes[2+off]<<8|bytes[3+off])>>>0},exports.writeUInt32BE=function(bytes,value,off){bytes[0+off]=value>>>24,bytes[1+off]=value>>>16&255,bytes[2+off]=value>>>8&255,bytes[3+off]=255&value},exports.ip=function(inL,inR,out,off){for(var outL=0,outR=0,i=6;i>=0;i-=2){for(var j=0;j<=24;j+=8)outL<<=1,outL|=inR>>>j+i&1;for(j=0;j<=24;j+=8)outL<<=1,outL|=inL>>>j+i&1}for(i=6;i>=0;i-=2){for(j=1;j<=25;j+=8)outR<<=1,outR|=inR>>>j+i&1;for(j=1;j<=25;j+=8)outR<<=1,outR|=inL>>>j+i&1}out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.rip=function(inL,inR,out,off){for(var outL=0,outR=0,i=0;i<4;i++)for(var j=24;j>=0;j-=8)outL<<=1,outL|=inR>>>j+i&1,outL<<=1,outL|=inL>>>j+i&1;for(i=4;i<8;i++)for(j=24;j>=0;j-=8)outR<<=1,outR|=inR>>>j+i&1,outR<<=1,outR|=inL>>>j+i&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.pc1=function(inL,inR,out,off){for(var outL=0,outR=0,i=7;i>=5;i--){for(var j=0;j<=24;j+=8)outL<<=1,outL|=inR>>j+i&1;for(j=0;j<=24;j+=8)outL<<=1,outL|=inL>>j+i&1}for(j=0;j<=24;j+=8)outL<<=1,outL|=inR>>j+i&1;for(i=1;i<=3;i++){for(j=0;j<=24;j+=8)outR<<=1,outR|=inR>>j+i&1;for(j=0;j<=24;j+=8)outR<<=1,outR|=inL>>j+i&1}for(j=0;j<=24;j+=8)outR<<=1,outR|=inL>>j+i&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.r28shl=function(num,shift){return num<<shift&268435455|num>>>28-shift};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];exports.pc2=function(inL,inR,out,off){for(var outL=0,outR=0,len=pc2table.length>>>1,i=0;i<len;i++)outL<<=1,outL|=inL>>>pc2table[i]&1;for(i=len;i<pc2table.length;i++)outR<<=1,outR|=inR>>>pc2table[i]&1;out[off+0]=outL>>>0,out[off+1]=outR>>>0},exports.expand=function(r,out,off){var outL=0,outR=0;outL=(1&r)<<5|r>>>27;for(var i=23;i>=15;i-=4)outL<<=6,outL|=r>>>i&63;for(i=11;i>=3;i-=4)outR|=r>>>i&63,outR<<=6;outR|=(31&r)<<1|r>>>31,out[off+0]=outL>>>0,out[off+1]=outR>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];exports.substitute=function(inL,inR){for(var out=0,i=0;i<4;i++){out<<=4,out|=sTable[64*i+(inL>>>18-6*i&63)]}for(i=0;i<4;i++){out<<=4,out|=sTable[256+64*i+(inR>>>18-6*i&63)]}return out>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];exports.permute=function(num){for(var out=0,i=0;i<permuteTable.length;i++)out<<=1,out|=num>>>permuteTable[i]&1;return out>>>0},exports.padSplit=function(num,size,group){for(var str=num.toString(2);str.length<size;)str="0"+str;for(var out=[],i=0;i<size;i+=group)out.push(str.slice(i,i+group));return out.join(" ")}},{}],262:[function(require,module,exports){(function(Buffer){var generatePrime=require("./lib/generatePrime"),primes=require("./lib/primes.json"),DH=require("./lib/dh");var ENCODINGS={binary:!0,hex:!0,base64:!0};exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=function(mod){var prime=new Buffer(primes[mod].prime,"hex"),gen=new Buffer(primes[mod].gen,"hex");return new DH(prime,gen)},exports.createDiffieHellman=exports.DiffieHellman=function createDiffieHellman(prime,enc,generator,genc){return Buffer.isBuffer(enc)||void 0===ENCODINGS[enc]?createDiffieHellman(prime,"binary",enc,generator):(enc=enc||"binary",genc=genc||"binary",generator=generator||new Buffer([2]),Buffer.isBuffer(generator)||(generator=new Buffer(generator,genc)),"number"==typeof prime?new DH(generatePrime(prime,generator),generator,!0):(Buffer.isBuffer(prime)||(prime=new Buffer(prime,enc)),new DH(prime,generator,!0)))}}).call(this,require("buffer").Buffer)},{"./lib/dh":263,"./lib/generatePrime":264,"./lib/primes.json":265,buffer:246}],263:[function(require,module,exports){(function(Buffer){var BN=require("bn.js"),millerRabin=new(require("miller-rabin")),TWENTYFOUR=new BN(24),ELEVEN=new BN(11),TEN=new BN(10),THREE=new BN(3),SEVEN=new BN(7),primes=require("./generatePrime"),randomBytes=require("randombytes");function setPublicKey(pub,enc){return enc=enc||"utf8",Buffer.isBuffer(pub)||(pub=new Buffer(pub,enc)),this._pub=new BN(pub),this}function setPrivateKey(priv,enc){return enc=enc||"utf8",Buffer.isBuffer(priv)||(priv=new Buffer(priv,enc)),this._priv=new BN(priv),this}module.exports=DH;var primeCache={};function DH(prime,generator,malleable){this.setGenerator(generator),this.__prime=new BN(prime),this._prime=BN.mont(this.__prime),this._primeLen=prime.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,malleable?(this.setPublicKey=setPublicKey,this.setPrivateKey=setPrivateKey):this._primeCode=8}function formatReturnValue(bn,enc){var buf=new Buffer(bn.toArray());return enc?buf.toString(enc):buf}Object.defineProperty(DH.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(prime,generator){var gen=generator.toString("hex"),hex=[gen,prime.toString(16)].join("_");if(hex in primeCache)return primeCache[hex];var rem,error=0;if(prime.isEven()||!primes.simpleSieve||!primes.fermatTest(prime)||!millerRabin.test(prime))return error+=1,error+="02"===gen||"05"===gen?8:4,primeCache[hex]=error,error;switch(millerRabin.test(prime.shrn(1))||(error+=2),gen){case"02":prime.mod(TWENTYFOUR).cmp(ELEVEN)&&(error+=8);break;case"05":(rem=prime.mod(TEN)).cmp(THREE)&&rem.cmp(SEVEN)&&(error+=8);break;default:error+=4}return primeCache[hex]=error,error}(this.__prime,this.__gen)),this._primeCode}}),DH.prototype.generateKeys=function(){return this._priv||(this._priv=new BN(randomBytes(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},DH.prototype.computeSecret=function(other){var secret=(other=(other=new BN(other)).toRed(this._prime)).redPow(this._priv).fromRed(),out=new Buffer(secret.toArray()),prime=this.getPrime();if(out.length<prime.length){var front=new Buffer(prime.length-out.length);front.fill(0),out=Buffer.concat([front,out])}return out},DH.prototype.getPublicKey=function(enc){return formatReturnValue(this._pub,enc)},DH.prototype.getPrivateKey=function(enc){return formatReturnValue(this._priv,enc)},DH.prototype.getPrime=function(enc){return formatReturnValue(this.__prime,enc)},DH.prototype.getGenerator=function(enc){return formatReturnValue(this._gen,enc)},DH.prototype.setGenerator=function(gen,enc){return enc=enc||"utf8",Buffer.isBuffer(gen)||(gen=new Buffer(gen,enc)),this.__gen=gen,this._gen=new BN(gen),this}}).call(this,require("buffer").Buffer)},{"./generatePrime":264,"bn.js":214,buffer:246,"miller-rabin":304,randombytes:339}],264:[function(require,module,exports){var randomBytes=require("randombytes");module.exports=findPrime,findPrime.simpleSieve=simpleSieve,findPrime.fermatTest=fermatTest;var BN=require("bn.js"),TWENTYFOUR=new BN(24),millerRabin=new(require("miller-rabin")),ONE=new BN(1),TWO=new BN(2),FIVE=new BN(5),TEN=(new BN(16),new BN(8),new BN(10)),THREE=new BN(3),ELEVEN=(new BN(7),new BN(11)),FOUR=new BN(4),primes=(new BN(12),null);function _getPrimes(){if(null!==primes)return primes;var res=[];res[0]=2;for(var i=1,k=3;k<1048576;k+=2){for(var sqrt=Math.ceil(Math.sqrt(k)),j=0;j<i&&res[j]<=sqrt&&k%res[j]!=0;j++);i!==j&&res[j]<=sqrt||(res[i++]=k)}return primes=res,res}function simpleSieve(p){for(var primes=_getPrimes(),i=0;i<primes.length;i++)if(0===p.modn(primes[i]))return 0===p.cmpn(primes[i]);return!0}function fermatTest(p){var red=BN.mont(p);return 0===TWO.toRed(red).redPow(p.subn(1)).fromRed().cmpn(1)}function findPrime(bits,gen){if(bits<16)return new BN(2===gen||5===gen?[140,123]:[140,39]);var num,n2;for(gen=new BN(gen);;){for(num=new BN(randomBytes(Math.ceil(bits/8)));num.bitLength()>bits;)num.ishrn(1);if(num.isEven()&&num.iadd(ONE),num.testn(1)||num.iadd(TWO),gen.cmp(TWO)){if(!gen.cmp(FIVE))for(;num.mod(TEN).cmp(THREE);)num.iadd(FOUR)}else for(;num.mod(TWENTYFOUR).cmp(ELEVEN);)num.iadd(FOUR);if(simpleSieve(n2=num.shrn(1))&&simpleSieve(num)&&fermatTest(n2)&&fermatTest(num)&&millerRabin.test(n2)&&millerRabin.test(num))return num}}},{"bn.js":214,"miller-rabin":304,randombytes:339}],265:[function(require,module,exports){module.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],266:[function(require,module,exports){"use strict";var elliptic=exports;elliptic.version=require("../package.json").version,elliptic.utils=require("./elliptic/utils"),elliptic.rand=require("brorand"),elliptic.curve=require("./elliptic/curve"),elliptic.curves=require("./elliptic/curves"),elliptic.ec=require("./elliptic/ec"),elliptic.eddsa=require("./elliptic/eddsa")},{"../package.json":281,"./elliptic/curve":269,"./elliptic/curves":272,"./elliptic/ec":273,"./elliptic/eddsa":276,"./elliptic/utils":280,brorand:215}],267:[function(require,module,exports){"use strict";var BN=require("bn.js"),utils=require("../../elliptic").utils,getNAF=utils.getNAF,getJSF=utils.getJSF,assert=utils.assert;function BaseCurve(type,conf){this.type=type,this.p=new BN(conf.p,16),this.red=conf.prime?BN.red(conf.prime):BN.mont(this.p),this.zero=new BN(0).toRed(this.red),this.one=new BN(1).toRed(this.red),this.two=new BN(2).toRed(this.red),this.n=conf.n&&new BN(conf.n,16),this.g=conf.g&&this.pointFromJSON(conf.g,conf.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var adjustCount=this.n&&this.p.div(this.n);!adjustCount||adjustCount.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function BasePoint(curve,type){this.curve=curve,this.type=type,this.precomputed=null}module.exports=BaseCurve,BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(p,k){assert(p.precomputed);var doubles=p._getDoubles(),naf=getNAF(k,1),I=(1<<doubles.step+1)-(doubles.step%2==0?2:1);I/=3;for(var repr=[],j=0;j<naf.length;j+=doubles.step){var nafW=0;for(k=j+doubles.step-1;k>=j;k--)nafW=(nafW<<1)+naf[k];repr.push(nafW)}for(var a=this.jpoint(null,null,null),b=this.jpoint(null,null,null),i=I;i>0;i--){for(j=0;j<repr.length;j++){(nafW=repr[j])===i?b=b.mixedAdd(doubles.points[j]):nafW===-i&&(b=b.mixedAdd(doubles.points[j].neg()))}a=a.add(b)}return a.toP()},BaseCurve.prototype._wnafMul=function(p,k){var w=4,nafPoints=p._getNAFPoints(w);w=nafPoints.wnd;for(var wnd=nafPoints.points,naf=getNAF(k,w),acc=this.jpoint(null,null,null),i=naf.length-1;i>=0;i--){for(k=0;i>=0&&0===naf[i];i--)k++;if(i>=0&&k++,acc=acc.dblp(k),i<0)break;var z=naf[i];assert(0!==z),acc="affine"===p.type?z>0?acc.mixedAdd(wnd[z-1>>1]):acc.mixedAdd(wnd[-z-1>>1].neg()):z>0?acc.add(wnd[z-1>>1]):acc.add(wnd[-z-1>>1].neg())}return"affine"===p.type?acc.toP():acc},BaseCurve.prototype._wnafMulAdd=function(defW,points,coeffs,len,jacobianResult){for(var wndWidth=this._wnafT1,wnd=this._wnafT2,naf=this._wnafT3,max=0,i=0;i<len;i++){var nafPoints=(p=points[i])._getNAFPoints(defW);wndWidth[i]=nafPoints.wnd,wnd[i]=nafPoints.points}for(i=len-1;i>=1;i-=2){var a=i-1,b=i;if(1===wndWidth[a]&&1===wndWidth[b]){var comb=[points[a],null,null,points[b]];0===points[a].y.cmp(points[b].y)?(comb[1]=points[a].add(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg())):0===points[a].y.cmp(points[b].y.redNeg())?(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].add(points[b].neg())):(comb[1]=points[a].toJ().mixedAdd(points[b]),comb[2]=points[a].toJ().mixedAdd(points[b].neg()));var index=[-3,-1,-5,-7,0,7,5,1,3],jsf=getJSF(coeffs[a],coeffs[b]);max=Math.max(jsf[0].length,max),naf[a]=new Array(max),naf[b]=new Array(max);for(var j=0;j<max;j++){var ja=0|jsf[0][j],jb=0|jsf[1][j];naf[a][j]=index[3*(ja+1)+(jb+1)],naf[b][j]=0,wnd[a]=comb}}else naf[a]=getNAF(coeffs[a],wndWidth[a]),naf[b]=getNAF(coeffs[b],wndWidth[b]),max=Math.max(naf[a].length,max),max=Math.max(naf[b].length,max)}var acc=this.jpoint(null,null,null),tmp=this._wnafT4;for(i=max;i>=0;i--){for(var k=0;i>=0;){var zero=!0;for(j=0;j<len;j++)tmp[j]=0|naf[j][i],0!==tmp[j]&&(zero=!1);if(!zero)break;k++,i--}if(i>=0&&k++,acc=acc.dblp(k),i<0)break;for(j=0;j<len;j++){var p,z=tmp[j];0!==z&&(z>0?p=wnd[j][z-1>>1]:z<0&&(p=wnd[j][-z-1>>1].neg()),acc="affine"===p.type?acc.mixedAdd(p):acc.add(p))}}for(i=0;i<len;i++)wnd[i]=null;return jacobianResult?acc:acc.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(bytes,enc){bytes=utils.toArray(bytes,enc);var len=this.p.byteLength();if((4===bytes[0]||6===bytes[0]||7===bytes[0])&&bytes.length-1==2*len)return 6===bytes[0]?assert(bytes[bytes.length-1]%2==0):7===bytes[0]&&assert(bytes[bytes.length-1]%2==1),this.point(bytes.slice(1,1+len),bytes.slice(1+len,1+2*len));if((2===bytes[0]||3===bytes[0])&&bytes.length-1===len)return this.pointFromX(bytes.slice(1,1+len),3===bytes[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(enc){return this.encode(enc,!0)},BasePoint.prototype._encode=function(compact){var len=this.curve.p.byteLength(),x=this.getX().toArray("be",len);return compact?[this.getY().isEven()?2:3].concat(x):[4].concat(x,this.getY().toArray("be",len))},BasePoint.prototype.encode=function(enc,compact){return utils.encode(this._encode(compact),enc)},BasePoint.prototype.precompute=function(power){if(this.precomputed)return this;var precomputed={doubles:null,naf:null,beta:null};return precomputed.naf=this._getNAFPoints(8),precomputed.doubles=this._getDoubles(4,power),precomputed.beta=this._getBeta(),this.precomputed=precomputed,this},BasePoint.prototype._hasDoubles=function(k){if(!this.precomputed)return!1;var doubles=this.precomputed.doubles;return!!doubles&&doubles.points.length>=Math.ceil((k.bitLength()+1)/doubles.step)},BasePoint.prototype._getDoubles=function(step,power){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var doubles=[this],acc=this,i=0;i<power;i+=step){for(var j=0;j<step;j++)acc=acc.dbl();doubles.push(acc)}return{step:step,points:doubles}},BasePoint.prototype._getNAFPoints=function(wnd){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var res=[this],max=(1<<wnd)-1,dbl=1===max?null:this.dbl(),i=1;i<max;i++)res[i]=res[i-1].add(dbl);return{wnd:wnd,points:res}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(k){for(var r=this,i=0;i<k;i++)r=r.dbl();return r}},{"../../elliptic":266,"bn.js":214}],268:[function(require,module,exports){"use strict";var curve=require("../curve"),elliptic=require("../../elliptic"),BN=require("bn.js"),inherits=require("inherits"),Base=curve.base,assert=elliptic.utils.assert;function EdwardsCurve(conf){this.twisted=1!=(0|conf.a),this.mOneA=this.twisted&&-1==(0|conf.a),this.extended=this.mOneA,Base.call(this,"edwards",conf),this.a=new BN(conf.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN(conf.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN(conf.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|conf.c)}function Point(curve,x,y,z,t){Base.BasePoint.call(this,curve,"projective"),null===x&&null===y&&null===z?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN(x,16),this.y=new BN(y,16),this.z=z?new BN(z,16):this.curve.one,this.t=t&&new BN(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits(EdwardsCurve,Base),module.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function(num){return this.mOneA?num.redNeg():this.a.redMul(num)},EdwardsCurve.prototype._mulC=function(num){return this.oneC?num:this.c.redMul(num)},EdwardsCurve.prototype.jpoint=function(x,y,z,t){return this.point(x,y,z,t)},EdwardsCurve.prototype.pointFromX=function(x,odd){(x=new BN(x,16)).red||(x=x.toRed(this.red));var x2=x.redSqr(),rhs=this.c2.redSub(this.a.redMul(x2)),lhs=this.one.redSub(this.c2.redMul(this.d).redMul(x2)),y2=rhs.redMul(lhs.redInvm()),y=y2.redSqrt();if(0!==y.redSqr().redSub(y2).cmp(this.zero))throw new Error("invalid point");var isOdd=y.fromRed().isOdd();return(odd&&!isOdd||!odd&&isOdd)&&(y=y.redNeg()),this.point(x,y)},EdwardsCurve.prototype.pointFromY=function(y,odd){(y=new BN(y,16)).red||(y=y.toRed(this.red));var y2=y.redSqr(),lhs=y2.redSub(this.one),rhs=y2.redMul(this.d).redAdd(this.one),x2=lhs.redMul(rhs.redInvm());if(0===x2.cmp(this.zero)){if(odd)throw new Error("invalid point");return this.point(this.zero,y)}var x=x2.redSqrt();if(0!==x.redSqr().redSub(x2).cmp(this.zero))throw new Error("invalid point");return x.isOdd()!==odd&&(x=x.redNeg()),this.point(x,y)},EdwardsCurve.prototype.validate=function(point){if(point.isInfinity())return!0;point.normalize();var x2=point.x.redSqr(),y2=point.y.redSqr(),lhs=x2.redMul(this.a).redAdd(y2),rhs=this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));return 0===lhs.cmp(rhs)},inherits(Point,Base.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(obj){return Point.fromJSON(this,obj)},EdwardsCurve.prototype.point=function(x,y,z,t){return new Point(this,x,y,z,t)},Point.fromJSON=function(curve,obj){return new Point(curve,obj[0],obj[1],obj[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},Point.prototype._extDbl=function(){var a=this.x.redSqr(),b=this.y.redSqr(),c=this.z.redSqr();c=c.redIAdd(c);var d=this.curve._mulA(a),e=this.x.redAdd(this.y).redSqr().redISub(a).redISub(b),g=d.redAdd(b),f=g.redSub(c),h=d.redSub(b),nx=e.redMul(f),ny=g.redMul(h),nt=e.redMul(h),nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)},Point.prototype._projDbl=function(){var nx,ny,nz,b=this.x.redAdd(this.y).redSqr(),c=this.x.redSqr(),d=this.y.redSqr();if(this.curve.twisted){var f=(e=this.curve._mulA(c)).redAdd(d);if(this.zOne)nx=b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two)),ny=f.redMul(e.redSub(d)),nz=f.redSqr().redSub(f).redSub(f);else{var h=this.z.redSqr(),j=f.redSub(h).redISub(h);nx=b.redSub(c).redISub(d).redMul(j),ny=f.redMul(e.redSub(d)),nz=f.redMul(j)}}else{var e=c.redAdd(d);h=this.curve._mulC(this.c.redMul(this.z)).redSqr(),j=e.redSub(h).redSub(h);nx=this.curve._mulC(b.redISub(e)).redMul(j),ny=this.curve._mulC(e).redMul(c.redISub(d)),nz=e.redMul(j)}return this.curve.point(nx,ny,nz)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(p){var a=this.y.redSub(this.x).redMul(p.y.redSub(p.x)),b=this.y.redAdd(this.x).redMul(p.y.redAdd(p.x)),c=this.t.redMul(this.curve.dd).redMul(p.t),d=this.z.redMul(p.z.redAdd(p.z)),e=b.redSub(a),f=d.redSub(c),g=d.redAdd(c),h=b.redAdd(a),nx=e.redMul(f),ny=g.redMul(h),nt=e.redMul(h),nz=f.redMul(g);return this.curve.point(nx,ny,nz,nt)},Point.prototype._projAdd=function(p){var ny,nz,a=this.z.redMul(p.z),b=a.redSqr(),c=this.x.redMul(p.x),d=this.y.redMul(p.y),e=this.curve.d.redMul(c).redMul(d),f=b.redSub(e),g=b.redAdd(e),tmp=this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d),nx=a.redMul(f).redMul(tmp);return this.curve.twisted?(ny=a.redMul(g).redMul(d.redSub(this.curve._mulA(c))),nz=f.redMul(g)):(ny=a.redMul(g).redMul(d.redSub(c)),nz=this.curve._mulC(f).redMul(g)),this.curve.point(nx,ny,nz)},Point.prototype.add=function(p){return this.isInfinity()?p:p.isInfinity()?this:this.curve.extended?this._extAdd(p):this._projAdd(p)},Point.prototype.mul=function(k){return this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve._wnafMul(this,k)},Point.prototype.mulAdd=function(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,!1)},Point.prototype.jmulAdd=function(k1,p,k2){return this.curve._wnafMulAdd(1,[this,p],[k1,k2],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var zi=this.z.redInvm();return this.x=this.x.redMul(zi),this.y=this.y.redMul(zi),this.t&&(this.t=this.t.redMul(zi)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(other){return this===other||0===this.getX().cmp(other.getX())&&0===this.getY().cmp(other.getY())},Point.prototype.eqXToP=function(x){var rx=x.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(rx))return!0;for(var xc=x.clone(),t=this.curve.redN.redMul(this.z);;){if(xc.iadd(this.curve.n),xc.cmp(this.curve.p)>=0)return!1;if(rx.redIAdd(t),0===this.x.cmp(rx))return!0}return!1},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add},{"../../elliptic":266,"../curve":269,"bn.js":214,inherits:300}],269:[function(require,module,exports){"use strict";var curve=exports;curve.base=require("./base"),curve.short=require("./short"),curve.mont=require("./mont"),curve.edwards=require("./edwards")},{"./base":267,"./edwards":268,"./mont":270,"./short":271}],270:[function(require,module,exports){"use strict";var curve=require("../curve"),BN=require("bn.js"),inherits=require("inherits"),Base=curve.base,utils=require("../../elliptic").utils;function MontCurve(conf){Base.call(this,"mont",conf),this.a=new BN(conf.a,16).toRed(this.red),this.b=new BN(conf.b,16).toRed(this.red),this.i4=new BN(4).toRed(this.red).redInvm(),this.two=new BN(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(curve,x,z){Base.BasePoint.call(this,curve,"projective"),null===x&&null===z?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN(x,16),this.z=new BN(z,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits(MontCurve,Base),module.exports=MontCurve,MontCurve.prototype.validate=function(point){var x=point.normalize().x,x2=x.redSqr(),rhs=x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x);return 0===rhs.redSqrt().redSqr().cmp(rhs)},inherits(Point,Base.BasePoint),MontCurve.prototype.decodePoint=function(bytes,enc){return this.point(utils.toArray(bytes,enc),1)},MontCurve.prototype.point=function(x,z){return new Point(this,x,z)},MontCurve.prototype.pointFromJSON=function(obj){return Point.fromJSON(this,obj)},Point.prototype.precompute=function(){},Point.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function(curve,obj){return new Point(curve,obj[0],obj[1]||curve.one)},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function(){var aa=this.x.redAdd(this.z).redSqr(),bb=this.x.redSub(this.z).redSqr(),c=aa.redSub(bb),nx=aa.redMul(bb),nz=c.redMul(bb.redAdd(this.curve.a24.redMul(c)));return this.curve.point(nx,nz)},Point.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function(p,diff){var a=this.x.redAdd(this.z),b=this.x.redSub(this.z),c=p.x.redAdd(p.z),da=p.x.redSub(p.z).redMul(a),cb=c.redMul(b),nx=diff.z.redMul(da.redAdd(cb).redSqr()),nz=diff.x.redMul(da.redISub(cb).redSqr());return this.curve.point(nx,nz)},Point.prototype.mul=function(k){for(var t=k.clone(),a=this,b=this.curve.point(null,null),bits=[];0!==t.cmpn(0);t.iushrn(1))bits.push(t.andln(1));for(var i=bits.length-1;i>=0;i--)0===bits[i]?(a=a.diffAdd(b,this),b=b.dbl()):(b=a.diffAdd(b,this),a=a.dbl());return b},Point.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.eq=function(other){return 0===this.getX().cmp(other.getX())},Point.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../../elliptic":266,"../curve":269,"bn.js":214,inherits:300}],271:[function(require,module,exports){"use strict";var curve=require("../curve"),elliptic=require("../../elliptic"),BN=require("bn.js"),inherits=require("inherits"),Base=curve.base,assert=elliptic.utils.assert;function ShortCurve(conf){Base.call(this,"short",conf),this.a=new BN(conf.a,16).toRed(this.red),this.b=new BN(conf.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(conf),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(curve,x,y,isRed){Base.BasePoint.call(this,curve,"affine"),null===x&&null===y?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN(x,16),this.y=new BN(y,16),isRed&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(curve,x,y,z){Base.BasePoint.call(this,curve,"jacobian"),null===x&&null===y&&null===z?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN(0)):(this.x=new BN(x,16),this.y=new BN(y,16),this.z=new BN(z,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits(ShortCurve,Base),module.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function(conf){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var beta,lambda;if(conf.beta)beta=new BN(conf.beta,16).toRed(this.red);else{var betas=this._getEndoRoots(this.p);beta=(beta=betas[0].cmp(betas[1])<0?betas[0]:betas[1]).toRed(this.red)}if(conf.lambda)lambda=new BN(conf.lambda,16);else{var lambdas=this._getEndoRoots(this.n);0===this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta))?lambda=lambdas[0]:(lambda=lambdas[1],assert(0===this.g.mul(lambda).x.cmp(this.g.x.redMul(beta))))}return{beta:beta,lambda:lambda,basis:conf.basis?conf.basis.map(function(vec){return{a:new BN(vec.a,16),b:new BN(vec.b,16)}}):this._getEndoBasis(lambda)}}},ShortCurve.prototype._getEndoRoots=function(num){var red=num===this.p?this.red:BN.mont(num),tinv=new BN(2).toRed(red).redInvm(),ntinv=tinv.redNeg(),s=new BN(3).toRed(red).redNeg().redSqrt().redMul(tinv);return[ntinv.redAdd(s).fromRed(),ntinv.redSub(s).fromRed()]},ShortCurve.prototype._getEndoBasis=function(lambda){for(var a0,b0,a1,b1,a2,b2,prevR,r,x,aprxSqrt=this.n.ushrn(Math.floor(this.n.bitLength()/2)),u=lambda,v=this.n.clone(),x1=new BN(1),y1=new BN(0),x2=new BN(0),y2=new BN(1),i=0;0!==u.cmpn(0);){var q=v.div(u);r=v.sub(q.mul(u)),x=x2.sub(q.mul(x1));var y=y2.sub(q.mul(y1));if(!a1&&r.cmp(aprxSqrt)<0)a0=prevR.neg(),b0=x1,a1=r.neg(),b1=x;else if(a1&&2==++i)break;prevR=r,v=u,u=r,x2=x1,x1=x,y2=y1,y1=y}a2=r.neg(),b2=x;var len1=a1.sqr().add(b1.sqr());return a2.sqr().add(b2.sqr()).cmp(len1)>=0&&(a2=a0,b2=b0),a1.negative&&(a1=a1.neg(),b1=b1.neg()),a2.negative&&(a2=a2.neg(),b2=b2.neg()),[{a:a1,b:b1},{a:a2,b:b2}]},ShortCurve.prototype._endoSplit=function(k){var basis=this.endo.basis,v1=basis[0],v2=basis[1],c1=v2.b.mul(k).divRound(this.n),c2=v1.b.neg().mul(k).divRound(this.n),p1=c1.mul(v1.a),p2=c2.mul(v2.a),q1=c1.mul(v1.b),q2=c2.mul(v2.b);return{k1:k.sub(p1).sub(p2),k2:q1.add(q2).neg()}},ShortCurve.prototype.pointFromX=function(x,odd){(x=new BN(x,16)).red||(x=x.toRed(this.red));var y2=x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b),y=y2.redSqrt();if(0!==y.redSqr().redSub(y2).cmp(this.zero))throw new Error("invalid point");var isOdd=y.fromRed().isOdd();return(odd&&!isOdd||!odd&&isOdd)&&(y=y.redNeg()),this.point(x,y)},ShortCurve.prototype.validate=function(point){if(point.inf)return!0;var x=point.x,y=point.y,ax=this.a.redMul(x),rhs=x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);return 0===y.redSqr().redISub(rhs).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(points,coeffs,jacobianResult){for(var npoints=this._endoWnafT1,ncoeffs=this._endoWnafT2,i=0;i<points.length;i++){var split=this._endoSplit(coeffs[i]),p=points[i],beta=p._getBeta();split.k1.negative&&(split.k1.ineg(),p=p.neg(!0)),split.k2.negative&&(split.k2.ineg(),beta=beta.neg(!0)),npoints[2*i]=p,npoints[2*i+1]=beta,ncoeffs[2*i]=split.k1,ncoeffs[2*i+1]=split.k2}for(var res=this._wnafMulAdd(1,npoints,ncoeffs,2*i,jacobianResult),j=0;j<2*i;j++)npoints[j]=null,ncoeffs[j]=null;return res},inherits(Point,Base.BasePoint),ShortCurve.prototype.point=function(x,y,isRed){return new Point(this,x,y,isRed)},ShortCurve.prototype.pointFromJSON=function(obj,red){return Point.fromJSON(this,obj,red)},Point.prototype._getBeta=function(){if(this.curve.endo){var pre=this.precomputed;if(pre&&pre.beta)return pre.beta;var beta=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(pre){var curve=this.curve,endoMul=function(p){return curve.point(p.x.redMul(curve.endo.beta),p.y)};pre.beta=beta,beta.precomputed={beta:null,naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(endoMul)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(endoMul)}}}return beta}},Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function(curve,obj,red){"string"==typeof obj&&(obj=JSON.parse(obj));var res=curve.point(obj[0],obj[1],red);if(!obj[2])return res;function obj2point(obj){return curve.point(obj[0],obj[1],red)}var pre=obj[2];return res.precomputed={beta:null,doubles:pre.doubles&&{step:pre.doubles.step,points:[res].concat(pre.doubles.points.map(obj2point))},naf:pre.naf&&{wnd:pre.naf.wnd,points:[res].concat(pre.naf.points.map(obj2point))}},res},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.inf},Point.prototype.add=function(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(0===this.x.cmp(p.x))return this.curve.point(null,null);var c=this.y.redSub(p.y);0!==c.cmpn(0)&&(c=c.redMul(this.x.redSub(p.x).redInvm()));var nx=c.redSqr().redISub(this.x).redISub(p.x),ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.dbl=function(){if(this.inf)return this;var ys1=this.y.redAdd(this.y);if(0===ys1.cmpn(0))return this.curve.point(null,null);var a=this.curve.a,x2=this.x.redSqr(),dyinv=ys1.redInvm(),c=x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv),nx=c.redSqr().redISub(this.x.redAdd(this.x)),ny=c.redMul(this.x.redSub(nx)).redISub(this.y);return this.curve.point(nx,ny)},Point.prototype.getX=function(){return this.x.fromRed()},Point.prototype.getY=function(){return this.y.fromRed()},Point.prototype.mul=function(k){return k=new BN(k,16),this._hasDoubles(k)?this.curve._fixedNafMul(this,k):this.curve.endo?this.curve._endoWnafMulAdd([this],[k]):this.curve._wnafMul(this,k)},Point.prototype.mulAdd=function(k1,p2,k2){var points=[this,p2],coeffs=[k1,k2];return this.curve.endo?this.curve._endoWnafMulAdd(points,coeffs):this.curve._wnafMulAdd(1,points,coeffs,2)},Point.prototype.jmulAdd=function(k1,p2,k2){var points=[this,p2],coeffs=[k1,k2];return this.curve.endo?this.curve._endoWnafMulAdd(points,coeffs,!0):this.curve._wnafMulAdd(1,points,coeffs,2,!0)},Point.prototype.eq=function(p){return this===p||this.inf===p.inf&&(this.inf||0===this.x.cmp(p.x)&&0===this.y.cmp(p.y))},Point.prototype.neg=function(_precompute){if(this.inf)return this;var res=this.curve.point(this.x,this.y.redNeg());if(_precompute&&this.precomputed){var pre=this.precomputed,negate=function(p){return p.neg()};res.precomputed={naf:pre.naf&&{wnd:pre.naf.wnd,points:pre.naf.points.map(negate)},doubles:pre.doubles&&{step:pre.doubles.step,points:pre.doubles.points.map(negate)}}}return res},Point.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},inherits(JPoint,Base.BasePoint),ShortCurve.prototype.jpoint=function(x,y,z){return new JPoint(this,x,y,z)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var zinv=this.z.redInvm(),zinv2=zinv.redSqr(),ax=this.x.redMul(zinv2),ay=this.y.redMul(zinv2).redMul(zinv);return this.curve.point(ax,ay)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var pz2=p.z.redSqr(),z2=this.z.redSqr(),u1=this.x.redMul(pz2),u2=p.x.redMul(z2),s1=this.y.redMul(pz2.redMul(p.z)),s2=p.y.redMul(z2.redMul(this.z)),h=u1.redSub(u2),r=s1.redSub(s2);if(0===h.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=h.redSqr(),h3=h2.redMul(h),v=u1.redMul(h2),nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3)),nz=this.z.redMul(p.z).redMul(h);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mixedAdd=function(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var z2=this.z.redSqr(),u1=this.x,u2=p.x.redMul(z2),s1=this.y,s2=p.y.redMul(z2).redMul(this.z),h=u1.redSub(u2),r=s1.redSub(s2);if(0===h.cmpn(0))return 0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h2=h.redSqr(),h3=h2.redMul(h),v=u1.redMul(h2),nx=r.redSqr().redIAdd(h3).redISub(v).redISub(v),ny=r.redMul(v.redISub(nx)).redISub(s1.redMul(h3)),nz=this.z.redMul(h);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.dblp=function(pow){if(0===pow)return this;if(this.isInfinity())return this;if(!pow)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var r=this,i=0;i<pow;i++)r=r.dbl();return r}var a=this.curve.a,tinv=this.curve.tinv,jx=this.x,jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jyd=jy.redAdd(jy);for(i=0;i<pow;i++){var jx2=jx.redSqr(),jyd2=jyd.redSqr(),jyd4=jyd2.redSqr(),c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4)),t1=jx.redMul(jyd2),nx=c.redSqr().redISub(t1.redAdd(t1)),t2=t1.redISub(nx),dny=c.redMul(t2);dny=dny.redIAdd(dny).redISub(jyd4);var nz=jyd.redMul(jz);i+1<pow&&(jz4=jz4.redMul(jyd4)),jx=nx,jz=nz,jyd=dny}return this.curve.jpoint(jx,jyd.redMul(tinv),jz)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var nx,ny,nz;if(this.zOne){var xx=this.x.redSqr(),yy=this.y.redSqr(),yyyy=yy.redSqr(),s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx),t=m.redSqr().redISub(s).redISub(s),yyyy8=yyyy.redIAdd(yyyy);yyyy8=(yyyy8=yyyy8.redIAdd(yyyy8)).redIAdd(yyyy8),nx=t,ny=m.redMul(s.redISub(t)).redISub(yyyy8),nz=this.y.redAdd(this.y)}else{var a=this.x.redSqr(),b=this.y.redSqr(),c=b.redSqr(),d=this.x.redAdd(b).redSqr().redISub(a).redISub(c);d=d.redIAdd(d);var e=a.redAdd(a).redIAdd(a),f=e.redSqr(),c8=c.redIAdd(c);c8=(c8=c8.redIAdd(c8)).redIAdd(c8),nx=f.redISub(d).redISub(d),ny=e.redMul(d.redISub(nx)).redISub(c8),nz=(nz=this.y.redMul(this.z)).redIAdd(nz)}return this.curve.jpoint(nx,ny,nz)},JPoint.prototype._threeDbl=function(){var nx,ny,nz;if(this.zOne){var xx=this.x.redSqr(),yy=this.y.redSqr(),yyyy=yy.redSqr(),s=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);s=s.redIAdd(s);var m=xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a),t=m.redSqr().redISub(s).redISub(s);nx=t;var yyyy8=yyyy.redIAdd(yyyy);yyyy8=(yyyy8=yyyy8.redIAdd(yyyy8)).redIAdd(yyyy8),ny=m.redMul(s.redISub(t)).redISub(yyyy8),nz=this.y.redAdd(this.y)}else{var delta=this.z.redSqr(),gamma=this.y.redSqr(),beta=this.x.redMul(gamma),alpha=this.x.redSub(delta).redMul(this.x.redAdd(delta));alpha=alpha.redAdd(alpha).redIAdd(alpha);var beta4=beta.redIAdd(beta),beta8=(beta4=beta4.redIAdd(beta4)).redAdd(beta4);nx=alpha.redSqr().redISub(beta8),nz=this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);var ggamma8=gamma.redSqr();ggamma8=(ggamma8=(ggamma8=ggamma8.redIAdd(ggamma8)).redIAdd(ggamma8)).redIAdd(ggamma8),ny=alpha.redMul(beta4.redISub(nx)).redISub(ggamma8)}return this.curve.jpoint(nx,ny,nz)},JPoint.prototype._dbl=function(){var a=this.curve.a,jx=this.x,jy=this.y,jz=this.z,jz4=jz.redSqr().redSqr(),jx2=jx.redSqr(),jy2=jy.redSqr(),c=jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4)),jxd4=jx.redAdd(jx),t1=(jxd4=jxd4.redIAdd(jxd4)).redMul(jy2),nx=c.redSqr().redISub(t1.redAdd(t1)),t2=t1.redISub(nx),jyd8=jy2.redSqr();jyd8=(jyd8=(jyd8=jyd8.redIAdd(jyd8)).redIAdd(jyd8)).redIAdd(jyd8);var ny=c.redMul(t2).redISub(jyd8),nz=jy.redAdd(jy).redMul(jz);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var xx=this.x.redSqr(),yy=this.y.redSqr(),zz=this.z.redSqr(),yyyy=yy.redSqr(),m=xx.redAdd(xx).redIAdd(xx),mm=m.redSqr(),e=this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy),ee=(e=(e=(e=e.redIAdd(e)).redAdd(e).redIAdd(e)).redISub(mm)).redSqr(),t=yyyy.redIAdd(yyyy);t=(t=(t=t.redIAdd(t)).redIAdd(t)).redIAdd(t);var u=m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t),yyu4=yy.redMul(u);yyu4=(yyu4=yyu4.redIAdd(yyu4)).redIAdd(yyu4);var nx=this.x.redMul(ee).redISub(yyu4);nx=(nx=nx.redIAdd(nx)).redIAdd(nx);var ny=this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));ny=(ny=(ny=ny.redIAdd(ny)).redIAdd(ny)).redIAdd(ny);var nz=this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);return this.curve.jpoint(nx,ny,nz)},JPoint.prototype.mul=function(k,kbase){return k=new BN(k,kbase),this.curve._wnafMul(this,k)},JPoint.prototype.eq=function(p){if("affine"===p.type)return this.eq(p.toJ());if(this===p)return!0;var z2=this.z.redSqr(),pz2=p.z.redSqr();if(0!==this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0))return!1;var z3=z2.redMul(this.z),pz3=pz2.redMul(p.z);return 0===this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0)},JPoint.prototype.eqXToP=function(x){var zs=this.z.redSqr(),rx=x.toRed(this.curve.red).redMul(zs);if(0===this.x.cmp(rx))return!0;for(var xc=x.clone(),t=this.curve.redN.redMul(zs);;){if(xc.iadd(this.curve.n),xc.cmp(this.curve.p)>=0)return!1;if(rx.redIAdd(t),0===this.x.cmp(rx))return!0}return!1},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../../elliptic":266,"../curve":269,"bn.js":214,inherits:300}],272:[function(require,module,exports){"use strict";var pre,curves=exports,hash=require("hash.js"),elliptic=require("../elliptic"),assert=elliptic.utils.assert;function PresetCurve(options){"short"===options.type?this.curve=new elliptic.curve.short(options):"edwards"===options.type?this.curve=new elliptic.curve.edwards(options):this.curve=new elliptic.curve.mont(options),this.g=this.curve.g,this.n=this.curve.n,this.hash=options.hash,assert(this.g.validate(),"Invalid curve"),assert(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(name,options){Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,get:function(){var curve=new PresetCurve(options);return Object.defineProperty(curves,name,{configurable:!0,enumerable:!0,value:curve}),curve}})}curves.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{pre=require("./precomputed/secp256k1")}catch(e){pre=void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pre]})},{"../elliptic":266,"./precomputed/secp256k1":279,"hash.js":285}],273:[function(require,module,exports){"use strict";var BN=require("bn.js"),HmacDRBG=require("hmac-drbg"),elliptic=require("../../elliptic"),assert=elliptic.utils.assert,KeyPair=require("./key"),Signature=require("./signature");function EC(options){if(!(this instanceof EC))return new EC(options);"string"==typeof options&&(assert(elliptic.curves.hasOwnProperty(options),"Unknown curve "+options),options=elliptic.curves[options]),options instanceof elliptic.curves.PresetCurve&&(options={curve:options}),this.curve=options.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=options.curve.g,this.g.precompute(options.curve.n.bitLength()+1),this.hash=options.hash||options.curve.hash}module.exports=EC,EC.prototype.keyPair=function(options){return new KeyPair(this,options)},EC.prototype.keyFromPrivate=function(priv,enc){return KeyPair.fromPrivate(this,priv,enc)},EC.prototype.keyFromPublic=function(pub,enc){return KeyPair.fromPublic(this,pub,enc)},EC.prototype.genKeyPair=function(options){options||(options={});for(var drbg=new HmacDRBG({hash:this.hash,pers:options.pers,persEnc:options.persEnc||"utf8",entropy:options.entropy||elliptic.rand(this.hash.hmacStrength),entropyEnc:options.entropy&&options.entropyEnc||"utf8",nonce:this.n.toArray()}),bytes=this.n.byteLength(),ns2=this.n.sub(new BN(2));;){var priv=new BN(drbg.generate(bytes));if(!(priv.cmp(ns2)>0))return priv.iaddn(1),this.keyFromPrivate(priv)}},EC.prototype._truncateToN=function(msg,truncOnly){var delta=8*msg.byteLength()-this.n.bitLength();return delta>0&&(msg=msg.ushrn(delta)),!truncOnly&&msg.cmp(this.n)>=0?msg.sub(this.n):msg},EC.prototype.sign=function(msg,key,enc,options){"object"==typeof enc&&(options=enc,enc=null),options||(options={}),key=this.keyFromPrivate(key,enc),msg=this._truncateToN(new BN(msg,16));for(var bytes=this.n.byteLength(),bkey=key.getPrivate().toArray("be",bytes),nonce=msg.toArray("be",bytes),drbg=new HmacDRBG({hash:this.hash,entropy:bkey,nonce:nonce,pers:options.pers,persEnc:options.persEnc||"utf8"}),ns1=this.n.sub(new BN(1)),iter=0;;iter++){var k=options.k?options.k(iter):new BN(drbg.generate(this.n.byteLength()));if(!((k=this._truncateToN(k,!0)).cmpn(1)<=0||k.cmp(ns1)>=0)){var kp=this.g.mul(k);if(!kp.isInfinity()){var kpX=kp.getX(),r=kpX.umod(this.n);if(0!==r.cmpn(0)){var s=k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg));if(0!==(s=s.umod(this.n)).cmpn(0)){var recoveryParam=(kp.getY().isOdd()?1:0)|(0!==kpX.cmp(r)?2:0);return options.canonical&&s.cmp(this.nh)>0&&(s=this.n.sub(s),recoveryParam^=1),new Signature({r:r,s:s,recoveryParam:recoveryParam})}}}}}},EC.prototype.verify=function(msg,signature,key,enc){msg=this._truncateToN(new BN(msg,16)),key=this.keyFromPublic(key,enc);var r=(signature=new Signature(signature,"hex")).r,s=signature.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var p,sinv=s.invm(this.n),u1=sinv.mul(msg).umod(this.n),u2=sinv.mul(r).umod(this.n);return this.curve._maxwellTrick?!(p=this.g.jmulAdd(u1,key.getPublic(),u2)).isInfinity()&&p.eqXToP(r):!(p=this.g.mulAdd(u1,key.getPublic(),u2)).isInfinity()&&0===p.getX().umod(this.n).cmp(r)},EC.prototype.recoverPubKey=function(msg,signature,j,enc){assert((3&j)===j,"The recovery param is more than two bits"),signature=new Signature(signature,enc);var n=this.n,e=new BN(msg),r=signature.r,s=signature.s,isYOdd=1&j,isSecondKey=j>>1;if(r.cmp(this.curve.p.umod(this.curve.n))>=0&&isSecondKey)throw new Error("Unable to find sencond key candinate");r=isSecondKey?this.curve.pointFromX(r.add(this.curve.n),isYOdd):this.curve.pointFromX(r,isYOdd);var rInv=signature.r.invm(n),s1=n.sub(e).mul(rInv).umod(n),s2=s.mul(rInv).umod(n);return this.g.mulAdd(s1,r,s2)},EC.prototype.getKeyRecoveryParam=function(e,signature,Q,enc){if(null!==(signature=new Signature(signature,enc)).recoveryParam)return signature.recoveryParam;for(var i=0;i<4;i++){var Qprime;try{Qprime=this.recoverPubKey(e,signature,i)}catch(e){continue}if(Qprime.eq(Q))return i}throw new Error("Unable to find valid recovery factor")}},{"../../elliptic":266,"./key":274,"./signature":275,"bn.js":214,"hmac-drbg":297}],274:[function(require,module,exports){"use strict";var BN=require("bn.js"),assert=require("../../elliptic").utils.assert;function KeyPair(ec,options){this.ec=ec,this.priv=null,this.pub=null,options.priv&&this._importPrivate(options.priv,options.privEnc),options.pub&&this._importPublic(options.pub,options.pubEnc)}module.exports=KeyPair,KeyPair.fromPublic=function(ec,pub,enc){return pub instanceof KeyPair?pub:new KeyPair(ec,{pub:pub,pubEnc:enc})},KeyPair.fromPrivate=function(ec,priv,enc){return priv instanceof KeyPair?priv:new KeyPair(ec,{priv:priv,privEnc:enc})},KeyPair.prototype.validate=function(){var pub=this.getPublic();return pub.isInfinity()?{result:!1,reason:"Invalid public key"}:pub.validate()?pub.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function(compact,enc){return"string"==typeof compact&&(enc=compact,compact=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),enc?this.pub.encode(enc,compact):this.pub},KeyPair.prototype.getPrivate=function(enc){return"hex"===enc?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function(key,enc){this.priv=new BN(key,enc||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function(key,enc){if(key.x||key.y)return"mont"===this.ec.curve.type?assert(key.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||assert(key.x&&key.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(key.x,key.y));this.pub=this.ec.curve.decodePoint(key,enc)},KeyPair.prototype.derive=function(pub){return pub.mul(this.priv).getX()},KeyPair.prototype.sign=function(msg,enc,options){return this.ec.sign(msg,this,enc,options)},KeyPair.prototype.verify=function(msg,signature){return this.ec.verify(msg,signature,this)},KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../../elliptic":266,"bn.js":214}],275:[function(require,module,exports){"use strict";var BN=require("bn.js"),utils=require("../../elliptic").utils,assert=utils.assert;function Signature(options,enc){if(options instanceof Signature)return options;this._importDER(options,enc)||(assert(options.r&&options.s,"Signature without r or s"),this.r=new BN(options.r,16),this.s=new BN(options.s,16),void 0===options.recoveryParam?this.recoveryParam=null:this.recoveryParam=options.recoveryParam)}function getLength(buf,p){var initial=buf[p.place++];if(!(128&initial))return initial;for(var octetLen=15&initial,val=0,i=0,off=p.place;i<octetLen;i++,off++)val<<=8,val|=buf[off];return p.place=off,val}function rmPadding(buf){for(var i=0,len=buf.length-1;!buf[i]&&!(128&buf[i+1])&&i<len;)i++;return 0===i?buf:buf.slice(i)}function constructLength(arr,len){if(len<128)arr.push(len);else{var octets=1+(Math.log(len)/Math.LN2>>>3);for(arr.push(128|octets);--octets;)arr.push(len>>>(octets<<3)&255);arr.push(len)}}module.exports=Signature,Signature.prototype._importDER=function(data,enc){data=utils.toArray(data,enc);var p=new function(){this.place=0};if(48!==data[p.place++])return!1;if(getLength(data,p)+p.place!==data.length)return!1;if(2!==data[p.place++])return!1;var rlen=getLength(data,p),r=data.slice(p.place,rlen+p.place);if(p.place+=rlen,2!==data[p.place++])return!1;var slen=getLength(data,p);if(data.length!==slen+p.place)return!1;var s=data.slice(p.place,slen+p.place);return 0===r[0]&&128&r[1]&&(r=r.slice(1)),0===s[0]&&128&s[1]&&(s=s.slice(1)),this.r=new BN(r),this.s=new BN(s),this.recoveryParam=null,!0},Signature.prototype.toDER=function(enc){var r=this.r.toArray(),s=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&s[0]&&(s=[0].concat(s)),r=rmPadding(r),s=rmPadding(s);!(s[0]||128&s[1]);)s=s.slice(1);var arr=[2];constructLength(arr,r.length),(arr=arr.concat(r)).push(2),constructLength(arr,s.length);var backHalf=arr.concat(s),res=[48];return constructLength(res,backHalf.length),res=res.concat(backHalf),utils.encode(res,enc)}},{"../../elliptic":266,"bn.js":214}],276:[function(require,module,exports){"use strict";var hash=require("hash.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert,parseBytes=utils.parseBytes,KeyPair=require("./key"),Signature=require("./signature");function EDDSA(curve){if(assert("ed25519"===curve,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(curve);curve=elliptic.curves[curve].curve;this.curve=curve,this.g=curve.g,this.g.precompute(curve.n.bitLength()+1),this.pointClass=curve.point().constructor,this.encodingLength=Math.ceil(curve.n.bitLength()/8),this.hash=hash.sha512}module.exports=EDDSA,EDDSA.prototype.sign=function(message,secret){message=parseBytes(message);var key=this.keyFromSecret(secret),r=this.hashInt(key.messagePrefix(),message),R=this.g.mul(r),Rencoded=this.encodePoint(R),s_=this.hashInt(Rencoded,key.pubBytes(),message).mul(key.priv()),S=r.add(s_).umod(this.curve.n);return this.makeSignature({R:R,S:S,Rencoded:Rencoded})},EDDSA.prototype.verify=function(message,sig,pub){message=parseBytes(message),sig=this.makeSignature(sig);var key=this.keyFromPublic(pub),h=this.hashInt(sig.Rencoded(),key.pubBytes(),message),SG=this.g.mul(sig.S());return sig.R().add(key.pub().mul(h)).eq(SG)},EDDSA.prototype.hashInt=function(){for(var hash=this.hash(),i=0;i<arguments.length;i++)hash.update(arguments[i]);return utils.intFromLE(hash.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(pub){return KeyPair.fromPublic(this,pub)},EDDSA.prototype.keyFromSecret=function(secret){return KeyPair.fromSecret(this,secret)},EDDSA.prototype.makeSignature=function(sig){return sig instanceof Signature?sig:new Signature(this,sig)},EDDSA.prototype.encodePoint=function(point){var enc=point.getY().toArray("le",this.encodingLength);return enc[this.encodingLength-1]|=point.getX().isOdd()?128:0,enc},EDDSA.prototype.decodePoint=function(bytes){var lastIx=(bytes=utils.parseBytes(bytes)).length-1,normed=bytes.slice(0,lastIx).concat(-129&bytes[lastIx]),xIsOdd=0!=(128&bytes[lastIx]),y=utils.intFromLE(normed);return this.curve.pointFromY(y,xIsOdd)},EDDSA.prototype.encodeInt=function(num){return num.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(bytes){return utils.intFromLE(bytes)},EDDSA.prototype.isPoint=function(val){return val instanceof this.pointClass}},{"../../elliptic":266,"./key":277,"./signature":278,"hash.js":285}],277:[function(require,module,exports){"use strict";var utils=require("../../elliptic").utils,assert=utils.assert,parseBytes=utils.parseBytes,cachedProperty=utils.cachedProperty;function KeyPair(eddsa,params){this.eddsa=eddsa,this._secret=parseBytes(params.secret),eddsa.isPoint(params.pub)?this._pub=params.pub:this._pubBytes=parseBytes(params.pub)}KeyPair.fromPublic=function(eddsa,pub){return pub instanceof KeyPair?pub:new KeyPair(eddsa,{pub:pub})},KeyPair.fromSecret=function(eddsa,secret){return secret instanceof KeyPair?secret:new KeyPair(eddsa,{secret:secret})},KeyPair.prototype.secret=function(){return this._secret},cachedProperty(KeyPair,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),cachedProperty(KeyPair,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),cachedProperty(KeyPair,"privBytes",function(){var eddsa=this.eddsa,hash=this.hash(),lastIx=eddsa.encodingLength-1,a=hash.slice(0,eddsa.encodingLength);return a[0]&=248,a[lastIx]&=127,a[lastIx]|=64,a}),cachedProperty(KeyPair,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),cachedProperty(KeyPair,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),cachedProperty(KeyPair,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair.prototype.sign=function(message){return assert(this._secret,"KeyPair can only verify"),this.eddsa.sign(message,this)},KeyPair.prototype.verify=function(message,sig){return this.eddsa.verify(message,sig,this)},KeyPair.prototype.getSecret=function(enc){return assert(this._secret,"KeyPair is public only"),utils.encode(this.secret(),enc)},KeyPair.prototype.getPublic=function(enc){return utils.encode(this.pubBytes(),enc)},module.exports=KeyPair},{"../../elliptic":266}],278:[function(require,module,exports){"use strict";var BN=require("bn.js"),utils=require("../../elliptic").utils,assert=utils.assert,cachedProperty=utils.cachedProperty,parseBytes=utils.parseBytes;function Signature(eddsa,sig){this.eddsa=eddsa,"object"!=typeof sig&&(sig=parseBytes(sig)),Array.isArray(sig)&&(sig={R:sig.slice(0,eddsa.encodingLength),S:sig.slice(eddsa.encodingLength)}),assert(sig.R&&sig.S,"Signature without R or S"),eddsa.isPoint(sig.R)&&(this._R=sig.R),sig.S instanceof BN&&(this._S=sig.S),this._Rencoded=Array.isArray(sig.R)?sig.R:sig.Rencoded,this._Sencoded=Array.isArray(sig.S)?sig.S:sig.Sencoded}cachedProperty(Signature,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),cachedProperty(Signature,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),cachedProperty(Signature,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),cachedProperty(Signature,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Signature.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function(){return utils.encode(this.toBytes(),"hex").toUpperCase()},module.exports=Signature},{"../../elliptic":266,"bn.js":214}],279:[function(require,module,exports){module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],280:[function(require,module,exports){"use strict";var utils=exports,BN=require("bn.js"),minAssert=require("minimalistic-assert"),minUtils=require("minimalistic-crypto-utils");utils.assert=minAssert,utils.toArray=minUtils.toArray,utils.zero2=minUtils.zero2,utils.toHex=minUtils.toHex,utils.encode=minUtils.encode,utils.getNAF=function(num,w){for(var naf=[],ws=1<<w+1,k=num.clone();k.cmpn(1)>=0;){var z;if(k.isOdd()){var mod=k.andln(ws-1);z=mod>(ws>>1)-1?(ws>>1)-mod:mod,k.isubn(z)}else z=0;naf.push(z);for(var shift=0!==k.cmpn(0)&&0===k.andln(ws-1)?w+1:1,i=1;i<shift;i++)naf.push(0);k.iushrn(shift)}return naf},utils.getJSF=function(k1,k2){var jsf=[[],[]];k1=k1.clone(),k2=k2.clone();for(var d1=0,d2=0;k1.cmpn(-d1)>0||k2.cmpn(-d2)>0;){var u1,u2,m8,m14=k1.andln(3)+d1&3,m24=k2.andln(3)+d2&3;3===m14&&(m14=-1),3===m24&&(m24=-1),u1=0==(1&m14)?0:3!=(m8=k1.andln(7)+d1&7)&&5!==m8||2!==m24?m14:-m14,jsf[0].push(u1),u2=0==(1&m24)?0:3!=(m8=k2.andln(7)+d2&7)&&5!==m8||2!==m14?m24:-m24,jsf[1].push(u2),2*d1===u1+1&&(d1=1-d1),2*d2===u2+1&&(d2=1-d2),k1.iushrn(1),k2.iushrn(1)}return jsf},utils.cachedProperty=function(obj,name,computer){var key="_"+name;obj.prototype[name]=function(){return void 0!==this[key]?this[key]:this[key]=computer.call(this)}},utils.parseBytes=function(bytes){return"string"==typeof bytes?utils.toArray(bytes,"hex"):bytes},utils.intFromLE=function(bytes){return new BN(bytes,"hex","le")}},{"bn.js":214,"minimalistic-assert":305,"minimalistic-crypto-utils":306}],281:[function(require,module,exports){module.exports={_from:"elliptic@^6.0.0",_id:"elliptic@6.4.0",_inBundle:!1,_integrity:"sha1-ysmvh2LIWDYYcAPI3+GT5eLq5d8=",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.0.0",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.0.0",saveSpec:null,fetchSpec:"^6.0.0"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.0.tgz",_shasum:"cac9af8762c85836187003c8dfe193e5e2eae5df",_spec:"elliptic@^6.0.0",_where:"/home/ceremcem/sync/curr-projects/vote-is-well/scada.js/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.0"}},{}],282:[function(require,module,exports){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if("number"!=typeof n||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if((er=arguments[1])instanceof Error)throw er;var err=new Error('Uncaught, unspecified "error" event. ('+er+")");throw err.context=er,err}if(isUndefined(handler=this._events[type]))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1),handler.apply(this,args)}else if(isObject(handler))for(args=Array.prototype.slice.call(arguments,1),len=(listeners=handler.slice()).length,i=0;i<len;i++)listeners[i].apply(this,args);return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned&&(m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners)&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace()),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(length=(list=this._events[type]).length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-- >0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(position<0)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(isFunction(listeners=this._events[type]))this.removeListener(type,listeners);else if(listeners)for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){return this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;if(evlistener)return evlistener.length}return 0},EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)}},{}],283:[function(require,module,exports){var Buffer=require("safe-buffer").Buffer,MD5=require("md5.js");module.exports=function(password,salt,keyBits,ivLen){if(Buffer.isBuffer(password)||(password=Buffer.from(password,"binary")),salt&&(Buffer.isBuffer(salt)||(salt=Buffer.from(salt,"binary")),8!==salt.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var keyLen=keyBits/8,key=Buffer.alloc(keyLen),iv=Buffer.alloc(ivLen||0),tmp=Buffer.alloc(0);keyLen>0||ivLen>0;){var hash=new MD5;hash.update(tmp),hash.update(password),salt&&hash.update(salt),tmp=hash.digest();var used=0;if(keyLen>0){var keyStart=key.length-keyLen;used=Math.min(keyLen,tmp.length),tmp.copy(key,keyStart,0,used),keyLen-=used}if(used<tmp.length&&ivLen>0){var ivStart=iv.length-ivLen,length=Math.min(ivLen,tmp.length-used);tmp.copy(iv,ivStart,used,used+length),ivLen-=length}}return tmp.fill(0),{key:key,iv:iv}}},{"md5.js":303,"safe-buffer":355}],284:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer,Transform=require("stream").Transform;function HashBase(blockSize){Transform.call(this),this._block=Buffer.allocUnsafe(blockSize),this._blockSize=blockSize,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}require("inherits")(HashBase,Transform),HashBase.prototype._transform=function(chunk,encoding,callback){var error=null;try{this.update(chunk,encoding)}catch(err){error=err}callback(error)},HashBase.prototype._flush=function(callback){var error=null;try{this.push(this.digest())}catch(err){error=err}callback(error)},HashBase.prototype.update=function(data,encoding){if(function(val,prefix){if(!Buffer.isBuffer(val)&&"string"!=typeof val)throw new TypeError(prefix+" must be a string or a buffer")}(data,"Data"),this._finalized)throw new Error("Digest already called");Buffer.isBuffer(data)||(data=Buffer.from(data,encoding));for(var block=this._block,offset=0;this._blockOffset+data.length-offset>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)block[i++]=data[offset++];this._update(),this._blockOffset=0}for(;offset<data.length;)block[this._blockOffset++]=data[offset++];for(var j=0,carry=8*data.length;carry>0;++j)this._length[j]+=carry,(carry=this._length[j]/4294967296|0)>0&&(this._length[j]-=4294967296*carry);return this},HashBase.prototype._update=function(){throw new Error("_update is not implemented")},HashBase.prototype.digest=function(encoding){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var digest=this._digest();void 0!==encoding&&(digest=digest.toString(encoding)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return digest},HashBase.prototype._digest=function(){throw new Error("_digest is not implemented")},module.exports=HashBase},{inherits:300,"safe-buffer":355,stream:365}],285:[function(require,module,exports){var hash=exports;hash.utils=require("./hash/utils"),hash.common=require("./hash/common"),hash.sha=require("./hash/sha"),hash.ripemd=require("./hash/ripemd"),hash.hmac=require("./hash/hmac"),hash.sha1=hash.sha.sha1,hash.sha256=hash.sha.sha256,hash.sha224=hash.sha.sha224,hash.sha384=hash.sha.sha384,hash.sha512=hash.sha.sha512,hash.ripemd160=hash.ripemd.ripemd160},{"./hash/common":286,"./hash/hmac":287,"./hash/ripemd":288,"./hash/sha":289,"./hash/utils":296}],286:[function(require,module,exports){"use strict";var utils=require("./utils"),assert=require("minimalistic-assert");function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}exports.BlockHash=BlockHash,BlockHash.prototype.update=function(msg,enc){if(msg=utils.toArray(msg,enc),this.pending?this.pending=this.pending.concat(msg):this.pending=msg,this.pendingTotal+=msg.length,this.pending.length>=this._delta8){var r=(msg=this.pending).length%this._delta8;this.pending=msg.slice(msg.length-r,msg.length),0===this.pending.length&&(this.pending=null),msg=utils.join32(msg,0,msg.length-r,this.endian);for(var i=0;i<msg.length;i+=this._delta32)this._update(msg,i,i+this._delta32)}return this},BlockHash.prototype.digest=function(enc){return this.update(this._pad()),assert(null===this.pending),this._digest(enc)},BlockHash.prototype._pad=function(){var len=this.pendingTotal,bytes=this._delta8,k=bytes-(len+this.padLength)%bytes,res=new Array(k+this.padLength);res[0]=128;for(var i=1;i<k;i++)res[i]=0;if(len<<=3,"big"===this.endian){for(var t=8;t<this.padLength;t++)res[i++]=0;res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=len>>>24&255,res[i++]=len>>>16&255,res[i++]=len>>>8&255,res[i++]=255&len}else for(res[i++]=255&len,res[i++]=len>>>8&255,res[i++]=len>>>16&255,res[i++]=len>>>24&255,res[i++]=0,res[i++]=0,res[i++]=0,res[i++]=0,t=8;t<this.padLength;t++)res[i++]=0;return res}},{"./utils":296,"minimalistic-assert":305}],287:[function(require,module,exports){"use strict";var utils=require("./utils"),assert=require("minimalistic-assert");function Hmac(hash,key,enc){if(!(this instanceof Hmac))return new Hmac(hash,key,enc);this.Hash=hash,this.blockSize=hash.blockSize/8,this.outSize=hash.outSize/8,this.inner=null,this.outer=null,this._init(utils.toArray(key,enc))}module.exports=Hmac,Hmac.prototype._init=function(key){key.length>this.blockSize&&(key=(new this.Hash).update(key).digest()),assert(key.length<=this.blockSize);for(var i=key.length;i<this.blockSize;i++)key.push(0);for(i=0;i<key.length;i++)key[i]^=54;for(this.inner=(new this.Hash).update(key),i=0;i<key.length;i++)key[i]^=106;this.outer=(new this.Hash).update(key)},Hmac.prototype.update=function(msg,enc){return this.inner.update(msg,enc),this},Hmac.prototype.digest=function(enc){return this.outer.update(this.inner.digest()),this.outer.digest(enc)}},{"./utils":296,"minimalistic-assert":305}],288:[function(require,module,exports){"use strict";var utils=require("./utils"),common=require("./common"),rotl32=utils.rotl32,sum32=utils.sum32,sum32_3=utils.sum32_3,sum32_4=utils.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(j,x,y,z){return j<=15?x^y^z:j<=31?x&y|~x&z:j<=47?(x|~y)^z:j<=63?x&z|y&~z:x^(y|~z)}function K(j){return j<=15?0:j<=31?1518500249:j<=47?1859775393:j<=63?2400959708:2840853838}function Kh(j){return j<=15?1352829926:j<=31?1548603684:j<=47?1836072691:j<=63?2053994217:0}utils.inherits(RIPEMD160,BlockHash),exports.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(msg,start){for(var A=this.h[0],B=this.h[1],C=this.h[2],D=this.h[3],E=this.h[4],Ah=A,Bh=B,Ch=C,Dh=D,Eh=E,j=0;j<80;j++){var T=sum32(rotl32(sum32_4(A,f(j,B,C,D),msg[r[j]+start],K(j)),s[j]),E);A=E,E=D,D=rotl32(C,10),C=B,B=T,T=sum32(rotl32(sum32_4(Ah,f(79-j,Bh,Ch,Dh),msg[rh[j]+start],Kh(j)),sh[j]),Eh),Ah=Eh,Eh=Dh,Dh=rotl32(Ch,10),Ch=Bh,Bh=T}T=sum32_3(this.h[1],C,Dh),this.h[1]=sum32_3(this.h[2],D,Eh),this.h[2]=sum32_3(this.h[3],E,Ah),this.h[3]=sum32_3(this.h[4],A,Bh),this.h[4]=sum32_3(this.h[0],B,Ch),this.h[0]=T},RIPEMD160.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"little"):utils.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":286,"./utils":296}],289:[function(require,module,exports){"use strict";exports.sha1=require("./sha/1"),exports.sha224=require("./sha/224"),exports.sha256=require("./sha/256"),exports.sha384=require("./sha/384"),exports.sha512=require("./sha/512")},{"./sha/1":290,"./sha/224":291,"./sha/256":292,"./sha/384":293,"./sha/512":294}],290:[function(require,module,exports){"use strict";var utils=require("../utils"),common=require("../common"),shaCommon=require("./common"),rotl32=utils.rotl32,sum32=utils.sum32,sum32_5=utils.sum32_5,ft_1=shaCommon.ft_1,BlockHash=common.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils.inherits(SHA1,BlockHash),module.exports=SHA1,SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(msg,start){for(var W=this.W,i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=rotl32(W[i-3]^W[i-8]^W[i-14]^W[i-16],1);var a=this.h[0],b=this.h[1],c=this.h[2],d=this.h[3],e=this.h[4];for(i=0;i<W.length;i++){var s=~~(i/20),t=sum32_5(rotl32(a,5),ft_1(s,b,c,d),e,W[i],sha1_K[s]);e=d,d=c,c=rotl32(b,30),b=a,a=t}this.h[0]=sum32(this.h[0],a),this.h[1]=sum32(this.h[1],b),this.h[2]=sum32(this.h[2],c),this.h[3]=sum32(this.h[3],d),this.h[4]=sum32(this.h[4],e)},SHA1.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")}},{"../common":286,"../utils":296,"./common":295}],291:[function(require,module,exports){"use strict";var utils=require("../utils"),SHA256=require("./256");function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils.inherits(SHA224,SHA256),module.exports=SHA224,SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h.slice(0,7),"big"):utils.split32(this.h.slice(0,7),"big")}},{"../utils":296,"./256":292}],292:[function(require,module,exports){"use strict";var utils=require("../utils"),common=require("../common"),shaCommon=require("./common"),assert=require("minimalistic-assert"),sum32=utils.sum32,sum32_4=utils.sum32_4,sum32_5=utils.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash=common.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256(){if(!(this instanceof SHA256))return new SHA256;BlockHash.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils.inherits(SHA256,BlockHash),module.exports=SHA256,SHA256.blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function(msg,start){for(var W=this.W,i=0;i<16;i++)W[i]=msg[start+i];for(;i<W.length;i++)W[i]=sum32_4(g1_256(W[i-2]),W[i-7],g0_256(W[i-15]),W[i-16]);var a=this.h[0],b=this.h[1],c=this.h[2],d=this.h[3],e=this.h[4],f=this.h[5],g=this.h[6],h=this.h[7];for(assert(this.k.length===W.length),i=0;i<W.length;i++){var T1=sum32_5(h,s1_256(e),ch32(e,f,g),this.k[i],W[i]),T2=sum32(s0_256(a),maj32(a,b,c));h=g,g=f,f=e,e=sum32(d,T1),d=c,c=b,b=a,a=sum32(T1,T2)}this.h[0]=sum32(this.h[0],a),this.h[1]=sum32(this.h[1],b),this.h[2]=sum32(this.h[2],c),this.h[3]=sum32(this.h[3],d),this.h[4]=sum32(this.h[4],e),this.h[5]=sum32(this.h[5],f),this.h[6]=sum32(this.h[6],g),this.h[7]=sum32(this.h[7],h)},SHA256.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")}},{"../common":286,"../utils":296,"./common":295,"minimalistic-assert":305}],293:[function(require,module,exports){"use strict";var utils=require("../utils"),SHA512=require("./512");function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils.inherits(SHA384,SHA512),module.exports=SHA384,SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h.slice(0,12),"big"):utils.split32(this.h.slice(0,12),"big")}},{"../utils":296,"./512":294}],294:[function(require,module,exports){"use strict";var utils=require("../utils"),common=require("../common"),assert=require("minimalistic-assert"),rotr64_hi=utils.rotr64_hi,rotr64_lo=utils.rotr64_lo,shr64_hi=utils.shr64_hi,shr64_lo=utils.shr64_lo,sum64=utils.sum64,sum64_hi=utils.sum64_hi,sum64_lo=utils.sum64_lo,sum64_4_hi=utils.sum64_4_hi,sum64_4_lo=utils.sum64_4_lo,sum64_5_hi=utils.sum64_5_hi,sum64_5_lo=utils.sum64_5_lo,BlockHash=common.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512(){if(!(this instanceof SHA512))return new SHA512;BlockHash.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}function ch64_hi(xh,xl,yh,yl,zh){var r=xh&yh^~xh&zh;return r<0&&(r+=4294967296),r}function ch64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^~xl&zl;return r<0&&(r+=4294967296),r}function maj64_hi(xh,xl,yh,yl,zh){var r=xh&yh^xh&zh^yh&zh;return r<0&&(r+=4294967296),r}function maj64_lo(xh,xl,yh,yl,zh,zl){var r=xl&yl^xl&zl^yl&zl;return r<0&&(r+=4294967296),r}function s0_512_hi(xh,xl){var r=rotr64_hi(xh,xl,28)^rotr64_hi(xl,xh,2)^rotr64_hi(xl,xh,7);return r<0&&(r+=4294967296),r}function s0_512_lo(xh,xl){var r=rotr64_lo(xh,xl,28)^rotr64_lo(xl,xh,2)^rotr64_lo(xl,xh,7);return r<0&&(r+=4294967296),r}function s1_512_hi(xh,xl){var r=rotr64_hi(xh,xl,14)^rotr64_hi(xh,xl,18)^rotr64_hi(xl,xh,9);return r<0&&(r+=4294967296),r}function s1_512_lo(xh,xl){var r=rotr64_lo(xh,xl,14)^rotr64_lo(xh,xl,18)^rotr64_lo(xl,xh,9);return r<0&&(r+=4294967296),r}function g0_512_hi(xh,xl){var r=rotr64_hi(xh,xl,1)^rotr64_hi(xh,xl,8)^shr64_hi(xh,xl,7);return r<0&&(r+=4294967296),r}function g0_512_lo(xh,xl){var r=rotr64_lo(xh,xl,1)^rotr64_lo(xh,xl,8)^shr64_lo(xh,xl,7);return r<0&&(r+=4294967296),r}function g1_512_hi(xh,xl){var r=rotr64_hi(xh,xl,19)^rotr64_hi(xl,xh,29)^shr64_hi(xh,xl,6);return r<0&&(r+=4294967296),r}function g1_512_lo(xh,xl){var r=rotr64_lo(xh,xl,19)^rotr64_lo(xl,xh,29)^shr64_lo(xh,xl,6);return r<0&&(r+=4294967296),r}utils.inherits(SHA512,BlockHash),module.exports=SHA512,SHA512.blockSize=1024,SHA512.outSize=512,SHA512.hmacStrength=192,SHA512.padLength=128,SHA512.prototype._prepareBlock=function(msg,start){for(var W=this.W,i=0;i<32;i++)W[i]=msg[start+i];for(;i<W.length;i+=2){var c0_hi=g1_512_hi(W[i-4],W[i-3]),c0_lo=g1_512_lo(W[i-4],W[i-3]),c1_hi=W[i-14],c1_lo=W[i-13],c2_hi=g0_512_hi(W[i-30],W[i-29]),c2_lo=g0_512_lo(W[i-30],W[i-29]),c3_hi=W[i-32],c3_lo=W[i-31];W[i]=sum64_4_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo),W[i+1]=sum64_4_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo)}},SHA512.prototype._update=function(msg,start){this._prepareBlock(msg,start);var W=this.W,ah=this.h[0],al=this.h[1],bh=this.h[2],bl=this.h[3],ch=this.h[4],cl=this.h[5],dh=this.h[6],dl=this.h[7],eh=this.h[8],el=this.h[9],fh=this.h[10],fl=this.h[11],gh=this.h[12],gl=this.h[13],hh=this.h[14],hl=this.h[15];assert(this.k.length===W.length);for(var i=0;i<W.length;i+=2){var c0_hi=hh,c0_lo=hl,c1_hi=s1_512_hi(eh,el),c1_lo=s1_512_lo(eh,el),c2_hi=ch64_hi(eh,el,fh,fl,gh),c2_lo=ch64_lo(eh,el,fh,fl,gh,gl),c3_hi=this.k[i],c3_lo=this.k[i+1],c4_hi=W[i],c4_lo=W[i+1],T1_hi=sum64_5_hi(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo),T1_lo=sum64_5_lo(c0_hi,c0_lo,c1_hi,c1_lo,c2_hi,c2_lo,c3_hi,c3_lo,c4_hi,c4_lo);c0_hi=s0_512_hi(ah,al),c0_lo=s0_512_lo(ah,al),c1_hi=maj64_hi(ah,al,bh,bl,ch),c1_lo=maj64_lo(ah,al,bh,bl,ch,cl);var T2_hi=sum64_hi(c0_hi,c0_lo,c1_hi,c1_lo),T2_lo=sum64_lo(c0_hi,c0_lo,c1_hi,c1_lo);hh=gh,hl=gl,gh=fh,gl=fl,fh=eh,fl=el,eh=sum64_hi(dh,dl,T1_hi,T1_lo),el=sum64_lo(dl,dl,T1_hi,T1_lo),dh=ch,dl=cl,ch=bh,cl=bl,bh=ah,bl=al,ah=sum64_hi(T1_hi,T1_lo,T2_hi,T2_lo),al=sum64_lo(T1_hi,T1_lo,T2_hi,T2_lo)}sum64(this.h,0,ah,al),sum64(this.h,2,bh,bl),sum64(this.h,4,ch,cl),sum64(this.h,6,dh,dl),sum64(this.h,8,eh,el),sum64(this.h,10,fh,fl),sum64(this.h,12,gh,gl),sum64(this.h,14,hh,hl)},SHA512.prototype._digest=function(enc){return"hex"===enc?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")}},{"../common":286,"../utils":296,"minimalistic-assert":305}],295:[function(require,module,exports){"use strict";var rotr32=require("../utils").rotr32;function ch32(x,y,z){return x&y^~x&z}function maj32(x,y,z){return x&y^x&z^y&z}function p32(x,y,z){return x^y^z}exports.ft_1=function(s,x,y,z){return 0===s?ch32(x,y,z):1===s||3===s?p32(x,y,z):2===s?maj32(x,y,z):void 0},exports.ch32=ch32,exports.maj32=maj32,exports.p32=p32,exports.s0_256=function(x){return rotr32(x,2)^rotr32(x,13)^rotr32(x,22)},exports.s1_256=function(x){return rotr32(x,6)^rotr32(x,11)^rotr32(x,25)},exports.g0_256=function(x){return rotr32(x,7)^rotr32(x,18)^x>>>3},exports.g1_256=function(x){return rotr32(x,17)^rotr32(x,19)^x>>>10}},{"../utils":296}],296:[function(require,module,exports){"use strict";var assert=require("minimalistic-assert"),inherits=require("inherits");function htonl(w){return(w>>>24|w>>>8&65280|w<<8&16711680|(255&w)<<24)>>>0}function zero2(word){return 1===word.length?"0"+word:word}function zero8(word){return 7===word.length?"0"+word:6===word.length?"00"+word:5===word.length?"000"+word:4===word.length?"0000"+word:3===word.length?"00000"+word:2===word.length?"000000"+word:1===word.length?"0000000"+word:word}exports.inherits=inherits,exports.toArray=function(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"==typeof msg)if(enc){if("hex"===enc)for((msg=msg.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(msg="0"+msg),i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16))}else for(var i=0;i<msg.length;i++){var c=msg.charCodeAt(i),hi=c>>8,lo=255&c;hi?res.push(hi,lo):res.push(lo)}else for(i=0;i<msg.length;i++)res[i]=0|msg[i];return res},exports.toHex=function(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res},exports.htonl=htonl,exports.toHex32=function(msg,endian){for(var res="",i=0;i<msg.length;i++){var w=msg[i];"little"===endian&&(w=htonl(w)),res+=zero8(w.toString(16))}return res},exports.zero2=zero2,exports.zero8=zero8,exports.join32=function(msg,start,end,endian){var len=end-start;assert(len%4==0);for(var res=new Array(len/4),i=0,k=start;i<res.length;i++,k+=4){var w;w="big"===endian?msg[k]<<24|msg[k+1]<<16|msg[k+2]<<8|msg[k+3]:msg[k+3]<<24|msg[k+2]<<16|msg[k+1]<<8|msg[k],res[i]=w>>>0}return res},exports.split32=function(msg,endian){for(var res=new Array(4*msg.length),i=0,k=0;i<msg.length;i++,k+=4){var m=msg[i];"big"===endian?(res[k]=m>>>24,res[k+1]=m>>>16&255,res[k+2]=m>>>8&255,res[k+3]=255&m):(res[k+3]=m>>>24,res[k+2]=m>>>16&255,res[k+1]=m>>>8&255,res[k]=255&m)}return res},exports.rotr32=function(w,b){return w>>>b|w<<32-b},exports.rotl32=function(w,b){return w<<b|w>>>32-b},exports.sum32=function(a,b){return a+b>>>0},exports.sum32_3=function(a,b,c){return a+b+c>>>0},exports.sum32_4=function(a,b,c,d){return a+b+c+d>>>0},exports.sum32_5=function(a,b,c,d,e){return a+b+c+d+e>>>0},exports.sum64=function(buf,pos,ah,al){var bh=buf[pos],lo=al+buf[pos+1]>>>0,hi=(lo<al?1:0)+ah+bh;buf[pos]=hi>>>0,buf[pos+1]=lo},exports.sum64_hi=function(ah,al,bh,bl){return(al+bl>>>0<al?1:0)+ah+bh>>>0},exports.sum64_lo=function(ah,al,bh,bl){return al+bl>>>0},exports.sum64_4_hi=function(ah,al,bh,bl,ch,cl,dh,dl){var carry=0,lo=al;return carry+=(lo=lo+bl>>>0)<al?1:0,carry+=(lo=lo+cl>>>0)<cl?1:0,ah+bh+ch+dh+(carry+=(lo=lo+dl>>>0)<dl?1:0)>>>0},exports.sum64_4_lo=function(ah,al,bh,bl,ch,cl,dh,dl){return al+bl+cl+dl>>>0},exports.sum64_5_hi=function(ah,al,bh,bl,ch,cl,dh,dl,eh,el){var carry=0,lo=al;return carry+=(lo=lo+bl>>>0)<al?1:0,carry+=(lo=lo+cl>>>0)<cl?1:0,carry+=(lo=lo+dl>>>0)<dl?1:0,ah+bh+ch+dh+eh+(carry+=(lo=lo+el>>>0)<el?1:0)>>>0},exports.sum64_5_lo=function(ah,al,bh,bl,ch,cl,dh,dl,eh,el){return al+bl+cl+dl+el>>>0},exports.rotr64_hi=function(ah,al,num){return(al<<32-num|ah>>>num)>>>0},exports.rotr64_lo=function(ah,al,num){return(ah<<32-num|al>>>num)>>>0},exports.shr64_hi=function(ah,al,num){return ah>>>num},exports.shr64_lo=function(ah,al,num){return(ah<<32-num|al>>>num)>>>0}},{inherits:300,"minimalistic-assert":305}],297:[function(require,module,exports){"use strict";var hash=require("hash.js"),utils=require("minimalistic-crypto-utils"),assert=require("minimalistic-assert");function HmacDRBG(options){if(!(this instanceof HmacDRBG))return new HmacDRBG(options);this.hash=options.hash,this.predResist=!!options.predResist,this.outLen=this.hash.outSize,this.minEntropy=options.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var entropy=utils.toArray(options.entropy,options.entropyEnc||"hex"),nonce=utils.toArray(options.nonce,options.nonceEnc||"hex"),pers=utils.toArray(options.pers,options.persEnc||"hex");assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(entropy,nonce,pers)}module.exports=HmacDRBG,HmacDRBG.prototype._init=function(entropy,nonce,pers){var seed=entropy.concat(nonce).concat(pers);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(seed),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new hash.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(seed){var kmac=this._hmac().update(this.V).update([0]);seed&&(kmac=kmac.update(seed)),this.K=kmac.digest(),this.V=this._hmac().update(this.V).digest(),seed&&(this.K=this._hmac().update(this.V).update([1]).update(seed).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(entropy,entropyEnc,add,addEnc){"string"!=typeof entropyEnc&&(addEnc=add,add=entropyEnc,entropyEnc=null),entropy=utils.toArray(entropy,entropyEnc),add=utils.toArray(add,addEnc),assert(entropy.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(entropy.concat(add||[])),this._reseed=1},HmacDRBG.prototype.generate=function(len,enc,add,addEnc){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof enc&&(addEnc=add,add=enc,enc=null),add&&(add=utils.toArray(add,addEnc||"hex"),this._update(add));for(var temp=[];temp.length<len;)this.V=this._hmac().update(this.V).digest(),temp=temp.concat(this.V);var res=temp.slice(0,len);return this._update(add),this._reseed++,utils.encode(res,enc)}},{"hash.js":285,"minimalistic-assert":305,"minimalistic-crypto-utils":306}],298:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],299:[function(require,module,exports){arguments[4][171][0].apply(exports,arguments)},{dup:171}],300:[function(require,module,exports){arguments[4][104][0].apply(exports,arguments)},{dup:104}],301:[function(require,module,exports){function isBuffer(obj){return!!obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}module.exports=function(obj){return null!=obj&&(isBuffer(obj)||function(obj){return"function"==typeof obj.readFloatLE&&"function"==typeof obj.slice&&isBuffer(obj.slice(0,0))}(obj)||!!obj._isBuffer)}},{}],302:[function(require,module,exports){arguments[4][169][0].apply(exports,arguments)},{dup:169}],303:[function(require,module,exports){(function(Buffer){"use strict";var inherits=require("inherits"),HashBase=require("hash-base"),ARRAY16=new Array(16);function MD5(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function rotl(x,n){return x<<n|x>>>32-n}function fnF(a,b,c,d,m,k,s){return rotl(a+(b&c|~b&d)+m+k|0,s)+b|0}function fnG(a,b,c,d,m,k,s){return rotl(a+(b&d|c&~d)+m+k|0,s)+b|0}function fnH(a,b,c,d,m,k,s){return rotl(a+(b^c^d)+m+k|0,s)+b|0}function fnI(a,b,c,d,m,k,s){return rotl(a+(c^(b|~d))+m+k|0,s)+b|0}inherits(MD5,HashBase),MD5.prototype._update=function(){for(var M=ARRAY16,i=0;i<16;++i)M[i]=this._block.readInt32LE(4*i);var a=this._a,b=this._b,c=this._c,d=this._d;b=fnI(b=fnI(b=fnI(b=fnI(b=fnH(b=fnH(b=fnH(b=fnH(b=fnG(b=fnG(b=fnG(b=fnG(b=fnF(b=fnF(b=fnF(b=fnF(b,c=fnF(c,d=fnF(d,a=fnF(a,b,c,d,M[0],3614090360,7),b,c,M[1],3905402710,12),a,b,M[2],606105819,17),d,a,M[3],3250441966,22),c=fnF(c,d=fnF(d,a=fnF(a,b,c,d,M[4],4118548399,7),b,c,M[5],1200080426,12),a,b,M[6],2821735955,17),d,a,M[7],4249261313,22),c=fnF(c,d=fnF(d,a=fnF(a,b,c,d,M[8],1770035416,7),b,c,M[9],2336552879,12),a,b,M[10],4294925233,17),d,a,M[11],2304563134,22),c=fnF(c,d=fnF(d,a=fnF(a,b,c,d,M[12],1804603682,7),b,c,M[13],4254626195,12),a,b,M[14],2792965006,17),d,a,M[15],1236535329,22),c=fnG(c,d=fnG(d,a=fnG(a,b,c,d,M[1],4129170786,5),b,c,M[6],3225465664,9),a,b,M[11],643717713,14),d,a,M[0],3921069994,20),c=fnG(c,d=fnG(d,a=fnG(a,b,c,d,M[5],3593408605,5),b,c,M[10],38016083,9),a,b,M[15],3634488961,14),d,a,M[4],3889429448,20),c=fnG(c,d=fnG(d,a=fnG(a,b,c,d,M[9],568446438,5),b,c,M[14],3275163606,9),a,b,M[3],4107603335,14),d,a,M[8],1163531501,20),c=fnG(c,d=fnG(d,a=fnG(a,b,c,d,M[13],2850285829,5),b,c,M[2],4243563512,9),a,b,M[7],1735328473,14),d,a,M[12],2368359562,20),c=fnH(c,d=fnH(d,a=fnH(a,b,c,d,M[5],4294588738,4),b,c,M[8],2272392833,11),a,b,M[11],1839030562,16),d,a,M[14],4259657740,23),c=fnH(c,d=fnH(d,a=fnH(a,b,c,d,M[1],2763975236,4),b,c,M[4],1272893353,11),a,b,M[7],4139469664,16),d,a,M[10],3200236656,23),c=fnH(c,d=fnH(d,a=fnH(a,b,c,d,M[13],681279174,4),b,c,M[0],3936430074,11),a,b,M[3],3572445317,16),d,a,M[6],76029189,23),c=fnH(c,d=fnH(d,a=fnH(a,b,c,d,M[9],3654602809,4),b,c,M[12],3873151461,11),a,b,M[15],530742520,16),d,a,M[2],3299628645,23),c=fnI(c,d=fnI(d,a=fnI(a,b,c,d,M[0],4096336452,6),b,c,M[7],1126891415,10),a,b,M[14],2878612391,15),d,a,M[5],4237533241,21),c=fnI(c,d=fnI(d,a=fnI(a,b,c,d,M[12],1700485571,6),b,c,M[3],2399980690,10),a,b,M[10],4293915773,15),d,a,M[1],2240044497,21),c=fnI(c,d=fnI(d,a=fnI(a,b,c,d,M[8],1873313359,6),b,c,M[15],4264355552,10),a,b,M[6],2734768916,15),d,a,M[13],1309151649,21),c=fnI(c,d=fnI(d,a=fnI(a,b,c,d,M[4],4149444226,6),b,c,M[11],3174756917,10),a,b,M[2],718787259,15),d,a,M[9],3951481745,21),this._a=this._a+a|0,this._b=this._b+b|0,this._c=this._c+c|0,this._d=this._d+d|0},MD5.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var buffer=new Buffer(16);return buffer.writeInt32LE(this._a,0),buffer.writeInt32LE(this._b,4),buffer.writeInt32LE(this._c,8),buffer.writeInt32LE(this._d,12),buffer},module.exports=MD5}).call(this,require("buffer").Buffer)},{buffer:246,"hash-base":284,inherits:300}],304:[function(require,module,exports){var bn=require("bn.js"),brorand=require("brorand");function MillerRabin(rand){this.rand=rand||new brorand.Rand}module.exports=MillerRabin,MillerRabin.create=function(rand){return new MillerRabin(rand)},MillerRabin.prototype._randbelow=function(n){var len=n.bitLength(),min_bytes=Math.ceil(len/8);do{var a=new bn(this.rand.generate(min_bytes))}while(a.cmp(n)>=0);return a},MillerRabin.prototype._randrange=function(start,stop){var size=stop.sub(start);return start.add(this._randbelow(size))},MillerRabin.prototype.test=function(n,k,cb){var len=n.bitLength(),red=bn.mont(n),rone=new bn(1).toRed(red);k||(k=Math.max(1,len/48|0));for(var n1=n.subn(1),s=0;!n1.testn(s);s++);for(var d=n.shrn(s),rn1=n1.toRed(red);k>0;k--){var a=this._randrange(new bn(2),n1);cb&&cb(a);var x=a.toRed(red).redPow(d);if(0!==x.cmp(rone)&&0!==x.cmp(rn1)){for(var i=1;i<s;i++){if(0===(x=x.redSqr()).cmp(rone))return!1;if(0===x.cmp(rn1))break}if(i===s)return!1}}return!0},MillerRabin.prototype.getDivisor=function(n,k){var len=n.bitLength(),red=bn.mont(n),rone=new bn(1).toRed(red);k||(k=Math.max(1,len/48|0));for(var n1=n.subn(1),s=0;!n1.testn(s);s++);for(var d=n.shrn(s),rn1=n1.toRed(red);k>0;k--){var a=this._randrange(new bn(2),n1),g=n.gcd(a);if(0!==g.cmpn(1))return g;var x=a.toRed(red).redPow(d);if(0!==x.cmp(rone)&&0!==x.cmp(rn1)){for(var i=1;i<s;i++){if(0===(x=x.redSqr()).cmp(rone))return x.fromRed().subn(1).gcd(n);if(0===x.cmp(rn1))break}if(i===s)return(x=x.redSqr()).fromRed().subn(1).gcd(n)}}return!1}},{"bn.js":214,brorand:215}],305:[function(require,module,exports){function assert(val,msg){if(!val)throw new Error(msg||"Assertion failed")}module.exports=assert,assert.equal=function(l,r,msg){if(l!=r)throw new Error(msg||"Assertion failed: "+l+" != "+r)}},{}],306:[function(require,module,exports){"use strict";var utils=exports;function zero2(word){return 1===word.length?"0"+word:word}function toHex(msg){for(var res="",i=0;i<msg.length;i++)res+=zero2(msg[i].toString(16));return res}utils.toArray=function(msg,enc){if(Array.isArray(msg))return msg.slice();if(!msg)return[];var res=[];if("string"!=typeof msg){for(var i=0;i<msg.length;i++)res[i]=0|msg[i];return res}if("hex"===enc)for((msg=msg.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(msg="0"+msg),i=0;i<msg.length;i+=2)res.push(parseInt(msg[i]+msg[i+1],16));else for(i=0;i<msg.length;i++){var c=msg.charCodeAt(i),hi=c>>8,lo=255&c;hi?res.push(hi,lo):res.push(lo)}return res},utils.zero2=zero2,utils.toHex=toHex,utils.encode=function(arr,enc){return"hex"===enc?toHex(arr):arr}},{}],307:[function(require,module,exports){arguments[4][122][0].apply(exports,arguments)},{dup:122}],308:[function(require,module,exports){function assert(t,m){if(!t)throw new Error(m||"AssertionError")}assert.notEqual=function(a,b,m){assert(a!=b,m)},assert.notOk=function(t,m){assert(!t,m)},assert.equal=function(a,b,m){assert(a==b,m)},assert.ok=assert,module.exports=assert},{}],309:[function(require,module,exports){!function(){"use strict";var NonBlock,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();NonBlock=function(){function NonBlock(root,mode){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,NonBlock),this.root=root;var windowStyle=window.getComputedStyle(document.body);this.pointerEventsSupport=windowStyle.pointerEvents&&"auto"===windowStyle.pointerEvents,this.regexOn=/^on/,this.regexMouseEvents=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,this.regexUiEvents=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,this.regexHtmlEvents=/^(scroll|resize|(un)?load|abort|error)$/,this.useEventConstructors=!0;try{new MouseEvent("click")}catch(e){this.useEventConstructors=!1}this.mode=void 0===mode?this.pointerEventsSupport?"PointerEvents":"EventForwarding":mode,this["init"+this.mode]&&this["init"+this.mode]()}return _createClass(NonBlock,[{key:"initPointerEvents",value:function(){var _this=this;this.addCSS(".nonblock{transition:opacity .3s ease; pointer-events: none;}.nonblock:hover,.nonblock-hover{opacity:.1 !important;}"),this.onmousemove=function(ev){var nonblocks=document.querySelectorAll(".nonblock"),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=nonblocks[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var nonblock=_step.value,rect=nonblock.getBoundingClientRect();ev.clientX>=rect.left&&ev.clientX<=rect.right&&ev.clientY>=rect.top&&ev.clientY<=rect.bottom?nonblock.classList.contains("nonblock-hover")?_this.isSimulateMouse(nonblock)&&ev.isTrusted&&_this.domEvent(nonblock,"onmousemove",ev,!0):(nonblock.classList.add("nonblock-hover"),_this.isSimulateMouse(nonblock)&&ev.isTrusted&&(_this.domEvent(nonblock,"onmouseenter",ev,!1),_this.domEvent(nonblock,"onmouseover",ev,!0))):nonblock.classList.contains("nonblock-hover")&&(_this.isSimulateMouse(nonblock)&&ev.isTrusted&&(_this.domEvent(nonblock,"onmouseout",ev,!0),_this.domEvent(nonblock,"onmouseleave",ev,!1)),nonblock.classList.remove("nonblock-hover"))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}},this.root.addEventListener("mousemove",this.onmousemove)}},{key:"initEventForwarding",value:function(){var _this2=this;this.addCSS(".nonblock{transition:opacity .3s ease;}\n.nonblock:hover{opacity:.1 !important;}\n.nonblock-hide{position:absolute !important;left:-10000000px !important;right:10000000px !important;}\n.nonblock-cursor-auto{cursor:auto !important;}\n.nonblock-cursor-default{cursor:default !important;}\n.nonblock-cursor-none{cursor:none !important;}\n.nonblock-cursor-context-menu{cursor:context-menu !important;}\n.nonblock-cursor-help{cursor:help !important;}\n.nonblock-cursor-pointer{cursor:pointer !important;}\n.nonblock-cursor-progress{cursor:progress !important;}\n.nonblock-cursor-wait{cursor:wait !important;}\n.nonblock-cursor-cell{cursor:cell !important;}\n.nonblock-cursor-crosshair{cursor:crosshair !important;}\n.nonblock-cursor-text{cursor:text !important;}\n.nonblock-cursor-vertical-text{cursor:vertical-text !important;}\n.nonblock-cursor-alias{cursor:alias !important;}\n.nonblock-cursor-copy{cursor:copy !important;}\n.nonblock-cursor-move{cursor:move !important;}\n.nonblock-cursor-no-drop{cursor:no-drop !important;}\n.nonblock-cursor-not-allowed{cursor:not-allowed !important;}\n.nonblock-cursor-all-scroll{cursor:all-scroll !important;}\n.nonblock-cursor-col-resize{cursor:col-resize !important;}\n.nonblock-cursor-row-resize{cursor:row-resize !important;}\n.nonblock-cursor-n-resize{cursor:n-resize !important;}\n.nonblock-cursor-e-resize{cursor:e-resize !important;}\n.nonblock-cursor-s-resize{cursor:s-resize !important;}\n.nonblock-cursor-w-resize{cursor:w-resize !important;}\n.nonblock-cursor-ne-resize{cursor:ne-resize !important;}\n.nonblock-cursor-nw-resize{cursor:nw-resize !important;}\n.nonblock-cursor-se-resize{cursor:se-resize !important;}\n.nonblock-cursor-sw-resize{cursor:sw-resize !important;}\n.nonblock-cursor-ew-resize{cursor:ew-resize !important;}\n.nonblock-cursor-ns-resize{cursor:ns-resize !important;}\n.nonblock-cursor-nesw-resize{cursor:nesw-resize !important;}\n.nonblock-cursor-nwse-resize{cursor:nwse-resize !important;}\n.nonblock-cursor-zoom-in{cursor:zoom-in !important;}\n.nonblock-cursor-zoom-out{cursor:zoom-out !important;}\n.nonblock-cursor-grab{cursor:grab !important;}\n.nonblock-cursor-grabbing{cursor:grabbing !important;}"),this.nonBlockLastElem=null,this.isOverTextNode=!1,this.selectingText=!1,this.onmouseenter=function(ev){var nonblock=void 0;ev.isTrusted&&(nonblock=_this2.getNonBlocking(ev.target))&&(_this2.nonBlockLastElem=!1,_this2.isPropagating(nonblock)||ev.stopPropagation())},this.onmouseleave=function(ev){var nonblock=void 0;ev.isTrusted&&(nonblock=_this2.getNonBlocking(ev.target))&&(_this2.remCursor(nonblock),_this2.nonBlockLastElem=null,_this2.selectingText=!1,_this2.isPropagating(nonblock)||ev.stopPropagation())},this.onmouseover=function(ev){var nonblock=void 0;ev.isTrusted&&(nonblock=_this2.getNonBlocking(ev.target))&&!_this2.isPropagating(nonblock)&&ev.stopPropagation()},this.onmouseout=function(ev){var nonblock=void 0;ev.isTrusted&&(nonblock=_this2.getNonBlocking(ev.target))&&!_this2.isPropagating(nonblock)&&ev.stopPropagation()},this.onmousemove=function(ev){var nonblock=void 0;ev.isTrusted&&(nonblock=_this2.getNonBlocking(ev.target))&&(_this2.nonblockPass(nonblock,ev,"onmousemove"),null===_this2.selectingText?(window.getSelection().removeAllRanges(),_this2.selectingText=!0):_this2.selectingText&&ev.preventDefault(),_this2.isPropagating(nonblock)||ev.stopPropagation())},this.onmousedown=function(ev){var nonblock=void 0;ev.isTrusted&&(nonblock=_this2.getNonBlocking(ev.target))&&(_this2.nonblockPass(nonblock,ev,"onmousedown"),_this2.selectingText=null,_this2.isFocusable(nonblock)||ev.preventDefault(),_this2.isPropagating(nonblock)&&_this2.isActionPropagating(nonblock)||ev.stopPropagation())},this.onmouseup=function(ev){var nonblock=void 0;ev.isTrusted&&(nonblock=_this2.getNonBlocking(ev.target))&&(_this2.nonblockPass(nonblock,ev,"onmouseup"),null===_this2.selectingText&&window.getSelection().removeAllRanges(),_this2.selectingText=!1,_this2.isPropagating(nonblock)&&_this2.isActionPropagating(nonblock)||ev.stopPropagation())},this.onclick=function(ev){var nonblock=void 0;ev.isTrusted&&(nonblock=_this2.getNonBlocking(ev.target))&&(_this2.nonblockPass(nonblock,ev,"onclick"),_this2.isPropagating(nonblock)&&_this2.isActionPropagating(nonblock)||ev.stopPropagation())},this.ondblclick=function(ev){var nonblock=void 0;ev.isTrusted&&(nonblock=_this2.getNonBlocking(ev.target))&&(_this2.nonblockPass(nonblock,ev,"ondblclick"),_this2.isPropagating(nonblock)&&_this2.isActionPropagating(nonblock)||ev.stopPropagation())},this.root.addEventListener("mouseenter",this.onmouseenter,!0),this.root.addEventListener("mouseleave",this.onmouseleave,!0),this.root.addEventListener("mouseover",this.onmouseover,!0),this.root.addEventListener("mouseout",this.onmouseout,!0),this.root.addEventListener("mousemove",this.onmousemove,!0),this.root.addEventListener("mousedown",this.onmousedown,!0),this.root.addEventListener("mouseup",this.onmouseup,!0),this.root.addEventListener("click",this.onclick,!0),this.root.addEventListener("dblclick",this.ondblclick,!0)}},{key:"destroy",value:function(){for(var _arr=["mouseenter","mouseleave","mouseover","mouseout","mousemove","mousedown","mouseup","click","dblclick"],_i=0;_i<_arr.length;_i++){var event=_arr[_i];this["on"+event]&&(this.root.removeEventListener(event,this["on"+event],!0),delete this["on"+event])}this.styling.parentNode.removeChild(this.styling),delete this.styling}},{key:"addCSS",value:function(css){this.styling=document.createElement("style"),this.styling.setAttribute("type","text/css"),this.styling.styleSheet?this.styling.styleSheet.cssText=css:this.styling.appendChild(document.createTextNode(css)),document.getElementsByTagName("head")[0].appendChild(this.styling)}},{key:"domEvent",value:function(elem,event,origEvent,bubbles){var eventObject=void 0;if(event=event.toLowerCase(),this.useEventConstructors){if((event=event.replace(this.regexOn,"")).match(this.regexMouseEvents)?eventObject=new MouseEvent(event,{screenX:origEvent.screenX,screenY:origEvent.screenY,clientX:origEvent.clientX,clientY:origEvent.clientY,ctrlKey:origEvent.ctrlKey,shiftKey:origEvent.shiftKey,altKey:origEvent.altKey,metaKey:origEvent.metaKey,button:origEvent.button,buttons:origEvent.buttons,relatedTarget:origEvent.relatedTarget,region:origEvent.region,detail:origEvent.detail,view:origEvent.view,bubbles:void 0===bubbles?origEvent.bubbles:bubbles,cancelable:origEvent.cancelable,composed:origEvent.composed}):event.match(this.regexUiEvents)?eventObject=new UIEvent(event,{detail:origEvent.detail,view:origEvent.view,bubbles:void 0===bubbles?origEvent.bubbles:bubbles,cancelable:origEvent.cancelable,composed:origEvent.composed}):event.match(this.regexHtmlEvents)&&(eventObject=new Event(event,{bubbles:void 0===bubbles?origEvent.bubbles:bubbles,cancelable:origEvent.cancelable,composed:origEvent.composed})),!eventObject)return;elem.dispatchEvent(eventObject)}else if(document.createEvent&&elem.dispatchEvent){if((event=event.replace(this.regexOn,"")).match(this.regexMouseEvents)?(elem.getBoundingClientRect(),(eventObject=document.createEvent("MouseEvents")).initMouseEvent(event,void 0===bubbles?origEvent.bubbles:bubbles,origEvent.cancelable,origEvent.view,origEvent.detail,origEvent.screenX,origEvent.screenY,origEvent.clientX,origEvent.clientY,origEvent.ctrlKey,origEvent.altKey,origEvent.shiftKey,origEvent.metaKey,origEvent.button,origEvent.relatedTarget)):event.match(this.regexUiEvents)?(eventObject=document.createEvent("UIEvents")).initUIEvent(event,void 0===bubbles?origEvent.bubbles:bubbles,origEvent.cancelable,origEvent.view,origEvent.detail):event.match(this.regexHtmlEvents)&&(eventObject=document.createEvent("HTMLEvents")).initEvent(event,void 0===bubbles?origEvent.bubbles:bubbles,origEvent.cancelable),!eventObject)return;elem.dispatchEvent(eventObject)}else event.match(this.regexOn)||(event="on"+event),eventObject=document.createEventObject(origEvent),elem.fireEvent(event,eventObject)}},{key:"nonblockPass",value:function(elem,event,eventName){elem.classList.add("nonblock-hide");var elBelow=document.elementFromPoint(event.clientX,event.clientY);!1===this.nonBlockLastElem&&(this.nonBlockLastElem=elBelow);var range=void 0,textNode=void 0,whitespaceBefore=void 0,text=void 0,offset=void 0;document.caretPositionFromPoint?(textNode=(range=document.caretPositionFromPoint(event.clientX,event.clientY))?range.offsetNode:null,offset=range?range.offset:null):document.caretRangeFromPoint&&(textNode=(range=document.caretRangeFromPoint(event.clientX,event.clientY))?range.endContainer:null,offset=range?range.endOffset:null),range&&(whitespaceBefore=range.startContainer.textContent.match(/^[\s\n]*/)[0],text=range.startContainer.textContent.replace(/[\s\n]+$/g,"")),elem.classList.remove("nonblock-hide");var cursorStyle=this.getCursor(elBelow);if(this.isOverTextNode=!1,"auto"===cursorStyle&&"A"===elBelow.tagName?cursorStyle="pointer":range&&(!whitespaceBefore.length||offset>whitespaceBefore.length)&&offset<text.length&&("auto"===cursorStyle&&(cursorStyle="text"),this.isOverTextNode=!0),range&&this.selectingText&&offset>0){var selection=window.getSelection(),selectionRange=void 0;0===selection.rangeCount?(this.selectingText={originContainer:range.startContainer?range.startContainer:textNode,originOffset:offset-1},selectionRange=document.createRange(),selection.addRange(selectionRange)):selectionRange=selection.getRangeAt(0),textNode===this.selectingText.originContainer&&offset<this.selectingText.originOffset||textNode.compareDocumentPosition(this.selectingText.originContainer)&Node.DOCUMENT_POSITION_FOLLOWING?(selectionRange.setEnd(this.selectingText.originContainer,this.selectingText.originOffset),selectionRange.setStart(textNode,offset)):(selectionRange.setStart(this.selectingText.originContainer,this.selectingText.originOffset),selectionRange.setEnd(textNode,offset))}if(this.setCursor(elem,"auto"!==cursorStyle?cursorStyle:"default"),!this.nonBlockLastElem||this.nonBlockLastElem!==elBelow){if(this.nonBlockLastElem){var lastElem=this.nonBlockLastElem;lastElem.contains(elBelow)||this.domEvent(lastElem,"mouseleave",event,!1),this.domEvent(lastElem,"mouseout",event,!0),elBelow.contains(lastElem)||this.domEvent(elBelow,"mouseenter",event,!1)}else elBelow.contains(elem)||this.domEvent(elBelow,"mouseenter",event,!1);this.domEvent(elBelow,"mouseover",event,!0)}"onmousedown"===eventName&&(document.activeElement&&document.activeElement.blur(),elBelow.focus({preventScroll:!0})),this.domEvent(elBelow,eventName,event),this.nonBlockLastElem=elBelow}},{key:"getNonBlocking",value:function(el){for(var nonblock=el;nonblock;){if(nonblock.classList&&nonblock.classList.contains("nonblock"))return nonblock;nonblock=nonblock.parentNode}return!1}},{key:"isPropagating",value:function(el){return!el.classList.contains("nonblock-stop-propagation")}},{key:"isActionPropagating",value:function(el){return el.classList.contains("nonblock-allow-action-propagation")}},{key:"isFocusable",value:function(el){return el.classList.contains("nonblock-allow-focus")}},{key:"isSimulateMouse",value:function(el){return!el.classList.contains("nonblock-stop-mouse-simulation")}},{key:"getCursor",value:function(el){return window.getComputedStyle(el).getPropertyValue("cursor")}},{key:"setCursor",value:function(el,value){el.classList.contains("nonblock-cursor-"+value)||(this.remCursor(el),el.classList.add("nonblock-cursor-"+value))}},{key:"remCursor",value:function(el){var values=Object.keys(el.classList).map(function(e){return el.classList[e]});[].concat(function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}(values)).forEach(function(className){0===className.indexOf("nonblock-cursor-")&&el.classList.remove(className)})}}]),NonBlock}(),window.NonBlockJs={NonBlock:NonBlock},document.body?window.NonBlockJs.nonBlock=new NonBlock(document.body):document.addEventListener("DOMContentLoaded",function(){window.NonBlockJs.nonBlock=new NonBlock(document.body)})}()},{}],310:[function(require,module,exports){var factory;factory=function(){"use strict";var VERSION="10.1.0";function preventDefault(e){e.preventDefault()}function isNumeric(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function addClassFor(element,className,duration){duration>0&&(addClass(element,className),setTimeout(function(){removeClass(element,className)},duration))}function asArray(a){return Array.isArray(a)?a:[a]}function countDecimals(numStr){var pieces=(numStr=String(numStr)).split(".");return pieces.length>1?pieces[1].length:0}function addClass(el,className){el.classList?el.classList.add(className):el.className+=" "+className}function removeClass(el,className){el.classList?el.classList.remove(className):el.className=el.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")}function getPageOffset(doc){var supportPageOffset=void 0!==window.pageXOffset,isCSS1Compat="CSS1Compat"===(doc.compatMode||"");return{x:supportPageOffset?window.pageXOffset:isCSS1Compat?doc.documentElement.scrollLeft:doc.body.scrollLeft,y:supportPageOffset?window.pageYOffset:isCSS1Compat?doc.documentElement.scrollTop:doc.body.scrollTop}}function subRangeRatio(pa,pb){return 100/(pb-pa)}function fromPercentage(range,value){return 100*value/(range[1]-range[0])}function getJ(value,arr){for(var j=1;value>=arr[j];)j+=1;return j}function toStepping(xVal,xPct,value){if(value>=xVal.slice(-1)[0])return 100;var va,vb,pa,pb,j=getJ(value,xVal);return va=xVal[j-1],vb=xVal[j],pa=xPct[j-1],pb=xPct[j],pa+function(range,value){return fromPercentage(range,range[0]<0?value+Math.abs(range[0]):value-range[0])}([va,vb],value)/subRangeRatio(pa,pb)}function getStep(xPct,xSteps,snap,value){if(100===value)return value;var a,b,j=getJ(value,xPct);return snap?value-(a=xPct[j-1])>((b=xPct[j])-a)/2?b:a:xSteps[j-1]?xPct[j-1]+function(value,to){return Math.round(value/to)*to}(value-xPct[j-1],xSteps[j-1]):value}function handleEntryPoint(index,value,that){var percentage;if("number"==typeof value&&(value=[value]),"[object Array]"!==Object.prototype.toString.call(value))throw new Error("noUiSlider ("+VERSION+"): 'range' contains invalid value.");if(!isNumeric(percentage="min"===index?0:"max"===index?100:parseFloat(index))||!isNumeric(value[0]))throw new Error("noUiSlider ("+VERSION+"): 'range' value isn't numeric.");that.xPct.push(percentage),that.xVal.push(value[0]),percentage?that.xSteps.push(!isNaN(value[1])&&value[1]):isNaN(value[1])||(that.xSteps[0]=value[1]),that.xHighestCompleteStep.push(0)}function handleStepPoint(i,n,that){if(!n)return!0;that.xSteps[i]=fromPercentage([that.xVal[i],that.xVal[i+1]],n)/subRangeRatio(that.xPct[i],that.xPct[i+1]);var totalSteps=(that.xVal[i+1]-that.xVal[i])/that.xNumSteps[i],highestStep=Math.ceil(Number(totalSteps.toFixed(3))-1),step=that.xVal[i]+that.xNumSteps[i]*highestStep;that.xHighestCompleteStep[i]=step}function Spectrum(entry,snap,singleStep){this.xPct=[],this.xVal=[],this.xSteps=[singleStep||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=snap;var index,ordered=[];for(index in entry)entry.hasOwnProperty(index)&&ordered.push([entry[index],index]);for(ordered.length&&"object"==typeof ordered[0][0]?ordered.sort(function(a,b){return a[0][0]-b[0][0]}):ordered.sort(function(a,b){return a[0]-b[0]}),index=0;index<ordered.length;index++)handleEntryPoint(ordered[index][1],ordered[index][0],this);for(this.xNumSteps=this.xSteps.slice(0),index=0;index<this.xNumSteps.length;index++)handleStepPoint(index,this.xNumSteps[index],this)}Spectrum.prototype.getMargin=function(value){var step=this.xNumSteps[0];if(step&&value/step%1!=0)throw new Error("noUiSlider ("+VERSION+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&fromPercentage(this.xVal,value)},Spectrum.prototype.toStepping=function(value){return value=toStepping(this.xVal,this.xPct,value)},Spectrum.prototype.fromStepping=function(value){return function(xVal,xPct,value){if(value>=100)return xVal.slice(-1)[0];var pa,j=getJ(value,xPct);return function(range,value){return value*(range[1]-range[0])/100+range[0]}([xVal[j-1],xVal[j]],(value-(pa=xPct[j-1]))*subRangeRatio(pa,xPct[j]))}(this.xVal,this.xPct,value)},Spectrum.prototype.getStep=function(value){return value=getStep(this.xPct,this.xSteps,this.snap,value)},Spectrum.prototype.getNearbySteps=function(value){var j=getJ(value,this.xPct);return{stepBefore:{startValue:this.xVal[j-2],step:this.xNumSteps[j-2],highestStep:this.xHighestCompleteStep[j-2]},thisStep:{startValue:this.xVal[j-1],step:this.xNumSteps[j-1],highestStep:this.xHighestCompleteStep[j-1]},stepAfter:{startValue:this.xVal[j-0],step:this.xNumSteps[j-0],highestStep:this.xHighestCompleteStep[j-0]}}},Spectrum.prototype.countStepDecimals=function(){var stepDecimals=this.xNumSteps.map(countDecimals);return Math.max.apply(null,stepDecimals)},Spectrum.prototype.convert=function(value){return this.getStep(this.toStepping(value))};var defaultFormatter={to:function(value){return void 0!==value&&value.toFixed(2)},from:Number};function validateFormat(entry){if(function(entry){return"object"==typeof entry&&"function"==typeof entry.to&&"function"==typeof entry.from}(entry))return!0;throw new Error("noUiSlider ("+VERSION+"): 'format' requires 'to' and 'from' methods.")}function testStep(parsed,entry){if(!isNumeric(entry))throw new Error("noUiSlider ("+VERSION+"): 'step' is not numeric.");parsed.singleStep=entry}function testRange(parsed,entry){if("object"!=typeof entry||Array.isArray(entry))throw new Error("noUiSlider ("+VERSION+"): 'range' is not an object.");if(void 0===entry.min||void 0===entry.max)throw new Error("noUiSlider ("+VERSION+"): Missing 'min' or 'max' in 'range'.");if(entry.min===entry.max)throw new Error("noUiSlider ("+VERSION+"): 'range' 'min' and 'max' cannot be equal.");parsed.spectrum=new Spectrum(entry,parsed.snap,parsed.singleStep)}function testStart(parsed,entry){if(entry=asArray(entry),!Array.isArray(entry)||!entry.length)throw new Error("noUiSlider ("+VERSION+"): 'start' option is incorrect.");parsed.handles=entry.length,parsed.start=entry}function testSnap(parsed,entry){if(parsed.snap=entry,"boolean"!=typeof entry)throw new Error("noUiSlider ("+VERSION+"): 'snap' option must be a boolean.")}function testAnimate(parsed,entry){if(parsed.animate=entry,"boolean"!=typeof entry)throw new Error("noUiSlider ("+VERSION+"): 'animate' option must be a boolean.")}function testAnimationDuration(parsed,entry){if(parsed.animationDuration=entry,"number"!=typeof entry)throw new Error("noUiSlider ("+VERSION+"): 'animationDuration' option must be a number.")}function testConnect(parsed,entry){var i,connect=[!1];if("lower"===entry?entry=[!0,!1]:"upper"===entry&&(entry=[!1,!0]),!0===entry||!1===entry){for(i=1;i<parsed.handles;i++)connect.push(entry);connect.push(!1)}else{if(!Array.isArray(entry)||!entry.length||entry.length!==parsed.handles+1)throw new Error("noUiSlider ("+VERSION+"): 'connect' option doesn't match handle count.");connect=entry}parsed.connect=connect}function testOrientation(parsed,entry){switch(entry){case"horizontal":parsed.ort=0;break;case"vertical":parsed.ort=1;break;default:throw new Error("noUiSlider ("+VERSION+"): 'orientation' option is invalid.")}}function testMargin(parsed,entry){if(!isNumeric(entry))throw new Error("noUiSlider ("+VERSION+"): 'margin' option must be numeric.");if(0!==entry&&(parsed.margin=parsed.spectrum.getMargin(entry),!parsed.margin))throw new Error("noUiSlider ("+VERSION+"): 'margin' option is only supported on linear sliders.")}function testLimit(parsed,entry){if(!isNumeric(entry))throw new Error("noUiSlider ("+VERSION+"): 'limit' option must be numeric.");if(parsed.limit=parsed.spectrum.getMargin(entry),!parsed.limit||parsed.handles<2)throw new Error("noUiSlider ("+VERSION+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function testPadding(parsed,entry){if(!isNumeric(entry))throw new Error("noUiSlider ("+VERSION+"): 'padding' option must be numeric.");if(0!==entry){if(parsed.padding=parsed.spectrum.getMargin(entry),!parsed.padding)throw new Error("noUiSlider ("+VERSION+"): 'padding' option is only supported on linear sliders.");if(parsed.padding<0)throw new Error("noUiSlider ("+VERSION+"): 'padding' option must be a positive number.");if(parsed.padding>=50)throw new Error("noUiSlider ("+VERSION+"): 'padding' option must be less than half the range.")}}function testDirection(parsed,entry){switch(entry){case"ltr":parsed.dir=0;break;case"rtl":parsed.dir=1;break;default:throw new Error("noUiSlider ("+VERSION+"): 'direction' option was not recognized.")}}function testBehaviour(parsed,entry){if("string"!=typeof entry)throw new Error("noUiSlider ("+VERSION+"): 'behaviour' must be a string containing options.");var tap=entry.indexOf("tap")>=0,drag=entry.indexOf("drag")>=0,fixed=entry.indexOf("fixed")>=0,snap=entry.indexOf("snap")>=0,hover=entry.indexOf("hover")>=0;if(fixed){if(2!==parsed.handles)throw new Error("noUiSlider ("+VERSION+"): 'fixed' behaviour must be used with 2 handles");testMargin(parsed,parsed.start[1]-parsed.start[0])}parsed.events={tap:tap||snap,drag:drag,fixed:fixed,snap:snap,hover:hover}}function testMultitouch(parsed,entry){if(parsed.multitouch=entry,"boolean"!=typeof entry)throw new Error("noUiSlider ("+VERSION+"): 'multitouch' option must be a boolean.")}function testTooltips(parsed,entry){if(!1!==entry)if(!0===entry){parsed.tooltips=[];for(var i=0;i<parsed.handles;i++)parsed.tooltips.push(!0)}else{if(parsed.tooltips=asArray(entry),parsed.tooltips.length!==parsed.handles)throw new Error("noUiSlider ("+VERSION+"): must pass a formatter for all handles.");parsed.tooltips.forEach(function(formatter){if("boolean"!=typeof formatter&&("object"!=typeof formatter||"function"!=typeof formatter.to))throw new Error("noUiSlider ("+VERSION+"): 'tooltips' must be passed a formatter or 'false'.")})}}function testAriaFormat(parsed,entry){parsed.ariaFormat=entry,validateFormat(entry)}function testFormat(parsed,entry){parsed.format=entry,validateFormat(entry)}function testCssPrefix(parsed,entry){if(void 0!==entry&&"string"!=typeof entry&&!1!==entry)throw new Error("noUiSlider ("+VERSION+"): 'cssPrefix' must be a string or `false`.");parsed.cssPrefix=entry}function testCssClasses(parsed,entry){if(void 0!==entry&&"object"!=typeof entry)throw new Error("noUiSlider ("+VERSION+"): 'cssClasses' must be an object.");if("string"==typeof parsed.cssPrefix)for(var key in parsed.cssClasses={},entry)entry.hasOwnProperty(key)&&(parsed.cssClasses[key]=parsed.cssPrefix+entry[key]);else parsed.cssClasses=entry}function testUseRaf(parsed,entry){if(!0!==entry&&!1!==entry)throw new Error("noUiSlider ("+VERSION+"): 'useRequestAnimationFrame' option should be true (default) or false.");parsed.useRequestAnimationFrame=entry}function testOptions(options){var parsed={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:defaultFormatter,format:defaultFormatter},tests={step:{r:!1,t:testStep},start:{r:!0,t:testStart},connect:{r:!0,t:testConnect},direction:{r:!0,t:testDirection},snap:{r:!1,t:testSnap},animate:{r:!1,t:testAnimate},animationDuration:{r:!1,t:testAnimationDuration},range:{r:!0,t:testRange},orientation:{r:!1,t:testOrientation},margin:{r:!1,t:testMargin},limit:{r:!1,t:testLimit},padding:{r:!1,t:testPadding},behaviour:{r:!0,t:testBehaviour},multitouch:{r:!0,t:testMultitouch},ariaFormat:{r:!1,t:testAriaFormat},format:{r:!1,t:testFormat},tooltips:{r:!1,t:testTooltips},cssPrefix:{r:!1,t:testCssPrefix},cssClasses:{r:!1,t:testCssClasses},useRequestAnimationFrame:{r:!1,t:testUseRaf}},defaults={connect:!1,direction:"ltr",behaviour:"tap",multitouch:!1,orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};options.format&&!options.ariaFormat&&(options.ariaFormat=options.format),Object.keys(tests).forEach(function(name){if(void 0===options[name]&&void 0===defaults[name]){if(tests[name].r)throw new Error("noUiSlider ("+VERSION+"): '"+name+"' is required.");return!0}tests[name].t(parsed,void 0===options[name]?defaults[name]:options[name])}),parsed.pips=options.pips;var styles=[["left","top"],["right","bottom"]];return parsed.style=styles[parsed.dir][parsed.ort],parsed.styleOposite=styles[parsed.dir?0:1][parsed.ort],parsed}function closure(target,options,originalOptions){var scope_Base,scope_Handles,scope_Connects,scope_Self,scope_Pips,behaviour,tips,actions=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},supportsPassive=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var supportsPassive=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}});window.addEventListener("test",null,opts)}catch(e){}return supportsPassive}(),scope_Target=target,scope_Locations=[],scope_HandleNumbers=[],scope_ActiveHandlesCount=0,scope_Spectrum=options.spectrum,scope_Values=[],scope_Events={},scope_Document=target.ownerDocument,scope_DocumentElement=scope_Document.documentElement,scope_Body=scope_Document.body;function addNodeTo(target,className){var div=scope_Document.createElement("div");return className&&addClass(div,className),target.appendChild(div),div}function addOrigin(base,handleNumber){var origin=addNodeTo(base,options.cssClasses.origin),handle=addNodeTo(origin,options.cssClasses.handle);return handle.setAttribute("data-handle",handleNumber),handle.setAttribute("tabindex","0"),handle.setAttribute("role","slider"),handle.setAttribute("aria-orientation",options.ort?"vertical":"horizontal"),0===handleNumber?addClass(handle,options.cssClasses.handleLower):handleNumber===options.handles-1&&addClass(handle,options.cssClasses.handleUpper),origin}function addConnect(base,add){return!!add&&addNodeTo(base,options.cssClasses.connect)}function addTooltip(handle,handleNumber){return!!options.tooltips[handleNumber]&&addNodeTo(handle.firstChild,options.cssClasses.tooltip)}function addMarking(spread,filterFunc,formatter){var element=scope_Document.createElement("div"),valueSizeClasses=[options.cssClasses.valueNormal,options.cssClasses.valueLarge,options.cssClasses.valueSub],markerSizeClasses=[options.cssClasses.markerNormal,options.cssClasses.markerLarge,options.cssClasses.markerSub],valueOrientationClasses=[options.cssClasses.valueHorizontal,options.cssClasses.valueVertical],markerOrientationClasses=[options.cssClasses.markerHorizontal,options.cssClasses.markerVertical];function getClasses(type,source){var a=source===options.cssClasses.value,sizeClasses=a?valueSizeClasses:markerSizeClasses;return source+" "+(a?valueOrientationClasses:markerOrientationClasses)[options.ort]+" "+sizeClasses[type]}return addClass(element,options.cssClasses.pips),addClass(element,0===options.ort?options.cssClasses.pipsHorizontal:options.cssClasses.pipsVertical),Object.keys(spread).forEach(function(a){!function(offset,values){values[1]=values[1]&&filterFunc?filterFunc(values[0],values[1]):values[1];var node=addNodeTo(element,!1);node.className=getClasses(values[1],options.cssClasses.marker),node.style[options.style]=offset+"%",values[1]&&((node=addNodeTo(element,!1)).className=getClasses(values[1],options.cssClasses.value),node.style[options.style]=offset+"%",node.innerText=formatter.to(values[0]))}(a,spread[a])}),element}function removePips(){var el;scope_Pips&&((el=scope_Pips).parentElement.removeChild(el),scope_Pips=null)}function pips(grid){removePips();var mode=grid.mode,density=grid.density||1,filter=grid.filter||!1,group=function(mode,values,stepped){if("range"===mode||"steps"===mode)return scope_Spectrum.xVal;if("count"===mode){if(!values)throw new Error("noUiSlider ("+VERSION+"): 'values' required for mode 'count'.");var v,spread=100/(values-1),i=0;for(values=[];(v=i++*spread)<=100;)values.push(v);mode="positions"}return"positions"===mode?values.map(function(value){return scope_Spectrum.fromStepping(stepped?scope_Spectrum.getStep(value):value)}):"values"===mode?stepped?values.map(function(value){return scope_Spectrum.fromStepping(scope_Spectrum.getStep(scope_Spectrum.toStepping(value)))}):values:void 0}(mode,grid.values||!1,grid.stepped||!1),spread=function(density,mode,group){var array,indexes={},firstInRange=scope_Spectrum.xVal[0],lastInRange=scope_Spectrum.xVal[scope_Spectrum.xVal.length-1],ignoreFirst=!1,ignoreLast=!1,prevPct=0;return array=group.slice().sort(function(a,b){return a-b}),(group=array.filter(function(a){return!this[a]&&(this[a]=!0)},{}))[0]!==firstInRange&&(group.unshift(firstInRange),ignoreFirst=!0),group[group.length-1]!==lastInRange&&(group.push(lastInRange),ignoreLast=!0),group.forEach(function(current,index){var step,i,q,newPct,pctDifference,type,steps,realSteps,stepsize,low=current,high=group[index+1];if("steps"===mode&&(step=scope_Spectrum.xNumSteps[index]),step||(step=high-low),!1!==low&&void 0!==high)for(step=Math.max(step,1e-7),i=low;i<=high;i=(i+step).toFixed(7)/1){for(steps=(pctDifference=(newPct=scope_Spectrum.toStepping(i))-prevPct)/density,stepsize=pctDifference/(realSteps=Math.round(steps)),q=1;q<=realSteps;q+=1)indexes[(prevPct+q*stepsize).toFixed(5)]=["x",0];type=group.indexOf(i)>-1?1:"steps"===mode?2:0,!index&&ignoreFirst&&(type=0),i===high&&ignoreLast||(indexes[newPct.toFixed(5)]=[i,type]),prevPct=newPct}}),indexes}(density,mode,group),format=grid.format||{to:Math.round};return scope_Pips=scope_Target.appendChild(addMarking(spread,filter,format))}function baseSize(){var rect=scope_Base.getBoundingClientRect(),alt="offset"+["Width","Height"][options.ort];return 0===options.ort?rect.width||scope_Base[alt]:rect.height||scope_Base[alt]}function attachEvent(events,element,callback,data){var method=function(e){return!scope_Target.hasAttribute("disabled")&&(el=scope_Target,className=options.cssClasses.tap,(el.classList?!el.classList.contains(className):!new RegExp("\\b"+className+"\\b").test(el.className))&&(!!(e=function(e,pageOffset,target){var x,y,touch=0===e.type.indexOf("touch"),mouse=0===e.type.indexOf("mouse"),pointer=0===e.type.indexOf("pointer");0===e.type.indexOf("MSPointer")&&(pointer=!0);if(touch&&options.multitouch){var isTouchOnTarget=function(touch){return touch.target===target||target.contains(touch.target)};if("touchstart"===e.type){var targetTouches=Array.prototype.filter.call(e.touches,isTouchOnTarget);if(targetTouches.length>1)return!1;x=targetTouches[0].pageX,y=targetTouches[0].pageY}else{var targetTouch=Array.prototype.find.call(e.changedTouches,isTouchOnTarget);if(!targetTouch)return!1;x=targetTouch.pageX,y=targetTouch.pageY}}else if(touch){if(e.touches.length>1)return!1;x=e.changedTouches[0].pageX,y=e.changedTouches[0].pageY}pageOffset=pageOffset||getPageOffset(scope_Document),(mouse||pointer)&&(x=e.clientX+pageOffset.x,y=e.clientY+pageOffset.y);return e.pageOffset=pageOffset,e.points=[x,y],e.cursor=mouse||pointer,e}(e,data.pageOffset,data.target||element))&&(!(events===actions.start&&void 0!==e.buttons&&e.buttons>1)&&((!data.hover||!e.buttons)&&(supportsPassive||e.preventDefault(),e.calcPoint=e.points[options.ort],void callback(e,data))))));var el,className},methods=[];return events.split(" ").forEach(function(eventName){element.addEventListener(eventName,method,!!supportsPassive&&{passive:!0}),methods.push([eventName,method])}),methods}function calcPointToPercentage(calcPoint){var elem,orientation,rect,doc,docElem,pageOffset,proposal=100*(calcPoint-(elem=scope_Base,orientation=options.ort,rect=elem.getBoundingClientRect(),doc=elem.ownerDocument,docElem=doc.documentElement,pageOffset=getPageOffset(doc),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(pageOffset.x=0),orientation?rect.top+pageOffset.y-docElem.clientTop:rect.left+pageOffset.x-docElem.clientLeft))/baseSize();return options.dir?100-proposal:proposal}function moveHandles(upward,proposal,locations,handleNumbers){var proposals=locations.slice(),b=[!upward,upward],f=[upward,!upward];handleNumbers=handleNumbers.slice(),upward&&handleNumbers.reverse(),handleNumbers.length>1?handleNumbers.forEach(function(handleNumber,o){var to=checkHandlePosition(proposals,handleNumber,proposals[handleNumber]+proposal,b[o],f[o],!1);!1===to?proposal=0:(proposal=to-proposals[handleNumber],proposals[handleNumber]=to)}):b=f=[!0];var state=!1;handleNumbers.forEach(function(handleNumber,o){state=setHandle(handleNumber,locations[handleNumber]+proposal,b[o],f[o])||state}),state&&handleNumbers.forEach(function(handleNumber){fireEvent("update",handleNumber),fireEvent("slide",handleNumber)})}function fireEvent(eventName,handleNumber,tap){Object.keys(scope_Events).forEach(function(targetEvent){var eventType=targetEvent.split(".")[0];eventName===eventType&&scope_Events[targetEvent].forEach(function(callback){callback.call(scope_Self,scope_Values.map(options.format.to),handleNumber,scope_Values.slice(),tap||!1,scope_Locations.slice())})})}function documentLeave(event,data){"mouseout"===event.type&&"HTML"===event.target.nodeName&&null===event.relatedTarget&&eventEnd(event,data)}function eventMove(event,data){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===event.buttons&&0!==data.buttonsProperty)return eventEnd(event,data);var movement=(options.dir?-1:1)*(event.calcPoint-data.startCalcPoint);moveHandles(movement>0,100*movement/data.baseSize,data.locations,data.handleNumbers)}function eventEnd(event,data){data.handle&&(removeClass(data.handle,options.cssClasses.active),scope_ActiveHandlesCount-=1),data.listeners.forEach(function(c){scope_DocumentElement.removeEventListener(c[0],c[1])}),0===scope_ActiveHandlesCount&&(removeClass(scope_Target,options.cssClasses.drag),setZindex(),event.cursor&&(scope_Body.style.cursor="",scope_Body.removeEventListener("selectstart",preventDefault))),data.handleNumbers.forEach(function(handleNumber){fireEvent("change",handleNumber),fireEvent("set",handleNumber),fireEvent("end",handleNumber)})}function eventStart(event,data){var handle;if(1===data.handleNumbers.length){var handleOrigin=scope_Handles[data.handleNumbers[0]];if(handleOrigin.hasAttribute("disabled"))return!1;handle=handleOrigin.children[0],scope_ActiveHandlesCount+=1,addClass(handle,options.cssClasses.active)}event.stopPropagation();var listeners=[],moveEvent=attachEvent(actions.move,scope_DocumentElement,eventMove,{target:event.target,handle:handle,listeners:listeners,startCalcPoint:event.calcPoint,baseSize:baseSize(),pageOffset:event.pageOffset,handleNumbers:data.handleNumbers,buttonsProperty:event.buttons,locations:scope_Locations.slice()}),endEvent=attachEvent(actions.end,scope_DocumentElement,eventEnd,{target:event.target,handle:handle,listeners:listeners,handleNumbers:data.handleNumbers}),outEvent=attachEvent("mouseout",scope_DocumentElement,documentLeave,{target:event.target,handle:handle,listeners:listeners,handleNumbers:data.handleNumbers});listeners.push.apply(listeners,moveEvent.concat(endEvent,outEvent)),event.cursor&&(scope_Body.style.cursor=getComputedStyle(event.target).cursor,scope_Handles.length>1&&addClass(scope_Target,options.cssClasses.drag),scope_Body.addEventListener("selectstart",preventDefault,!1)),data.handleNumbers.forEach(function(handleNumber){fireEvent("start",handleNumber)})}function eventTap(event){event.stopPropagation();var proposal=calcPointToPercentage(event.calcPoint),handleNumber=function(proposal){var closest=100,handleNumber=!1;return scope_Handles.forEach(function(handle,index){if(!handle.hasAttribute("disabled")){var pos=Math.abs(scope_Locations[index]-proposal);pos<closest&&(handleNumber=index,closest=pos)}}),handleNumber}(proposal);if(!1===handleNumber)return!1;options.events.snap||addClassFor(scope_Target,options.cssClasses.tap,options.animationDuration),setHandle(handleNumber,proposal,!0,!0),setZindex(),fireEvent("slide",handleNumber,!0),fireEvent("update",handleNumber,!0),fireEvent("change",handleNumber,!0),fireEvent("set",handleNumber,!0),options.events.snap&&eventStart(event,{handleNumbers:[handleNumber]})}function eventHover(event){var proposal=calcPointToPercentage(event.calcPoint),to=scope_Spectrum.getStep(proposal),value=scope_Spectrum.fromStepping(to);Object.keys(scope_Events).forEach(function(targetEvent){"hover"===targetEvent.split(".")[0]&&scope_Events[targetEvent].forEach(function(callback){callback.call(scope_Self,value)})})}function checkHandlePosition(reference,handleNumber,to,lookBackward,lookForward,getValue){var a;return scope_Handles.length>1&&(lookBackward&&handleNumber>0&&(to=Math.max(to,reference[handleNumber-1]+options.margin)),lookForward&&handleNumber<scope_Handles.length-1&&(to=Math.min(to,reference[handleNumber+1]-options.margin))),scope_Handles.length>1&&options.limit&&(lookBackward&&handleNumber>0&&(to=Math.min(to,reference[handleNumber-1]+options.limit)),lookForward&&handleNumber<scope_Handles.length-1&&(to=Math.max(to,reference[handleNumber+1]-options.limit))),options.padding&&(0===handleNumber&&(to=Math.max(to,options.padding)),handleNumber===scope_Handles.length-1&&(to=Math.min(to,100-options.padding))),to=scope_Spectrum.getStep(to),a=to,!((to=Math.max(Math.min(a,100),0))===reference[handleNumber]&&!getValue)&&to}function toPct(pct){return pct+"%"}function setZindex(){scope_HandleNumbers.forEach(function(handleNumber){var dir=scope_Locations[handleNumber]>50?-1:1,zIndex=3+(scope_Handles.length+dir*handleNumber);scope_Handles[handleNumber].childNodes[0].style.zIndex=zIndex})}function setHandle(handleNumber,to,lookBackward,lookForward){return!1!==(to=checkHandlePosition(scope_Locations,handleNumber,to,lookBackward,lookForward,!1))&&(function(handleNumber,to){scope_Locations[handleNumber]=to,scope_Values[handleNumber]=scope_Spectrum.fromStepping(to);var stateUpdate=function(){scope_Handles[handleNumber].style[options.style]=toPct(to),updateConnect(handleNumber),updateConnect(handleNumber+1)};window.requestAnimationFrame&&options.useRequestAnimationFrame?window.requestAnimationFrame(stateUpdate):stateUpdate()}(handleNumber,to),!0)}function updateConnect(index){if(scope_Connects[index]){var l=0,h=100;0!==index&&(l=scope_Locations[index-1]),index!==scope_Connects.length-1&&(h=scope_Locations[index]),scope_Connects[index].style[options.style]=toPct(l),scope_Connects[index].style[options.styleOposite]=toPct(100-h)}}function setValue(to,handleNumber){null!==to&&!1!==to&&("number"==typeof to&&(to=String(to)),!1===(to=options.format.from(to))||isNaN(to)||setHandle(handleNumber,scope_Spectrum.toStepping(to),!1,!1))}function valueSet(input,fireSetEvent){var values=asArray(input),isInit=void 0===scope_Locations[0];fireSetEvent=void 0===fireSetEvent||!!fireSetEvent,values.forEach(setValue),options.animate&&!isInit&&addClassFor(scope_Target,options.cssClasses.tap,options.animationDuration),scope_HandleNumbers.forEach(function(handleNumber){setHandle(handleNumber,scope_Locations[handleNumber],!0,!1)}),setZindex(),scope_HandleNumbers.forEach(function(handleNumber){fireEvent("update",handleNumber),null!==values[handleNumber]&&fireSetEvent&&fireEvent("set",handleNumber)})}function valueGet(){var values=scope_Values.map(options.format.to);return 1===values.length?values[0]:values}function bindEvent(namespacedEvent,callback){scope_Events[namespacedEvent]=scope_Events[namespacedEvent]||[],scope_Events[namespacedEvent].push(callback),"update"===namespacedEvent.split(".")[0]&&scope_Handles.forEach(function(a,index){fireEvent("update",index)})}if(scope_Target.noUiSlider)throw new Error("noUiSlider ("+VERSION+"): Slider was already initialized.");return function(target){addClass(target,options.cssClasses.target),0===options.dir?addClass(target,options.cssClasses.ltr):addClass(target,options.cssClasses.rtl),0===options.ort?addClass(target,options.cssClasses.horizontal):addClass(target,options.cssClasses.vertical),scope_Base=addNodeTo(target,options.cssClasses.base)}(scope_Target),function(connectOptions,base){scope_Handles=[],(scope_Connects=[]).push(addConnect(base,connectOptions[0]));for(var i=0;i<options.handles;i++)scope_Handles.push(addOrigin(base,i)),scope_HandleNumbers[i]=i,scope_Connects.push(addConnect(base,connectOptions[i+1]))}(options.connect,scope_Base),scope_Self={destroy:function(){for(var key in options.cssClasses)options.cssClasses.hasOwnProperty(key)&&removeClass(scope_Target,options.cssClasses[key]);for(;scope_Target.firstChild;)scope_Target.removeChild(scope_Target.firstChild);delete scope_Target.noUiSlider},steps:function(){return scope_Locations.map(function(location,index){var nearbySteps=scope_Spectrum.getNearbySteps(location),value=scope_Values[index],increment=nearbySteps.thisStep.step,decrement=null;!1!==increment&&value+increment>nearbySteps.stepAfter.startValue&&(increment=nearbySteps.stepAfter.startValue-value),decrement=value>nearbySteps.thisStep.startValue?nearbySteps.thisStep.step:!1!==nearbySteps.stepBefore.step&&value-nearbySteps.stepBefore.highestStep,100===location?increment=null:0===location&&(decrement=null);var stepDecimals=scope_Spectrum.countStepDecimals();return null!==increment&&!1!==increment&&(increment=Number(increment.toFixed(stepDecimals))),null!==decrement&&!1!==decrement&&(decrement=Number(decrement.toFixed(stepDecimals))),[decrement,increment]})},on:bindEvent,off:function(namespacedEvent){var event=namespacedEvent&&namespacedEvent.split(".")[0],namespace=event&&namespacedEvent.substring(event.length);Object.keys(scope_Events).forEach(function(bind){var tEvent=bind.split(".")[0],tNamespace=bind.substring(tEvent.length);event&&event!==tEvent||namespace&&namespace!==tNamespace||delete scope_Events[bind]})},get:valueGet,set:valueSet,reset:function(fireSetEvent){valueSet(options.start,fireSetEvent)},__moveHandles:function(a,b,c){moveHandles(a,b,scope_Locations,c)},options:originalOptions,updateOptions:function(optionsToUpdate,fireSetEvent){var v=valueGet(),updateAble=["margin","limit","padding","range","animate","snap","step","format"];updateAble.forEach(function(name){void 0!==optionsToUpdate[name]&&(originalOptions[name]=optionsToUpdate[name])});var newOptions=testOptions(originalOptions);updateAble.forEach(function(name){void 0!==optionsToUpdate[name]&&(options[name]=newOptions[name])}),scope_Spectrum=newOptions.spectrum,options.margin=newOptions.margin,options.limit=newOptions.limit,options.padding=newOptions.padding,options.pips&&pips(options.pips),scope_Locations=[],valueSet(optionsToUpdate.start||v,fireSetEvent)},target:scope_Target,removePips:removePips,pips:pips},(behaviour=options.events).fixed||scope_Handles.forEach(function(handle,index){attachEvent(actions.start,handle.children[0],eventStart,{handleNumbers:[index]})}),behaviour.tap&&attachEvent(actions.start,scope_Base,eventTap,{}),behaviour.hover&&attachEvent(actions.move,scope_Base,eventHover,{hover:!0}),behaviour.drag&&scope_Connects.forEach(function(connect,index){if(!1!==connect&&0!==index&&index!==scope_Connects.length-1){var handleBefore=scope_Handles[index-1],handleAfter=scope_Handles[index],eventHolders=[connect];addClass(connect,options.cssClasses.draggable),behaviour.fixed&&(eventHolders.push(handleBefore.children[0]),eventHolders.push(handleAfter.children[0])),eventHolders.forEach(function(eventHolder){attachEvent(actions.start,eventHolder,eventStart,{handles:[handleBefore,handleAfter],handleNumbers:[index-1,index]})})}}),valueSet(options.start),options.pips&&pips(options.pips),options.tooltips&&(tips=scope_Handles.map(addTooltip),bindEvent("update",function(values,handleNumber,unencoded){if(tips[handleNumber]){var formattedValue=values[handleNumber];!0!==options.tooltips[handleNumber]&&(formattedValue=options.tooltips[handleNumber].to(unencoded[handleNumber])),tips[handleNumber].innerHTML=formattedValue}})),bindEvent("update",function(values,handleNumber,unencoded,tap,positions){scope_HandleNumbers.forEach(function(handleNumber){var handle=scope_Handles[handleNumber],min=checkHandlePosition(scope_Locations,handleNumber,0,!0,!0,!0),max=checkHandlePosition(scope_Locations,handleNumber,100,!0,!0,!0),now=positions[handleNumber],text=options.ariaFormat.to(unencoded[handleNumber]);handle.children[0].setAttribute("aria-valuemin",min.toFixed(1)),handle.children[0].setAttribute("aria-valuemax",max.toFixed(1)),handle.children[0].setAttribute("aria-valuenow",now.toFixed(1)),handle.children[0].setAttribute("aria-valuetext",text)})}),scope_Self}return{version:VERSION,create:function(target,originalOptions){if(!target||!target.nodeName)throw new Error("noUiSlider ("+VERSION+"): create requires a single element, got: "+target);var api=closure(target,testOptions(originalOptions),originalOptions);return target.noUiSlider=api,api}}},"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?module.exports=factory():window.noUiSlider=factory()},{}],311:[function(require,module,exports){var assert=require("assert"),dftOpts={},hasWindow="undefined"!=typeof window,hasIdle=hasWindow&&window.requestIdleCallback;module.exports=function onIdle(cb,opts){opts=opts||dftOpts;var timerId;assert.equal(typeof cb,"function","on-idle: cb should be type function");assert.equal(typeof opts,"object","on-idle: opts should be type object");if(hasIdle)return timerId=window.requestIdleCallback(function(idleDeadline){if(idleDeadline.timeRemaining()<=1&&!idleDeadline.didTimeout)return onIdle(cb,opts);cb(idleDeadline)},opts),window.cancelIdleCallback.bind(window,timerId);if(hasWindow)return timerId=setTimeout(cb,0),clearTimeout.bind(window,timerId)}},{assert:308}],312:[function(require,module,exports){exports.endianness=function(){return"LE"},exports.hostname=function(){return"undefined"!=typeof location?location.hostname:""},exports.loadavg=function(){return[]},exports.uptime=function(){return 0},exports.freemem=function(){return Number.MAX_VALUE},exports.totalmem=function(){return Number.MAX_VALUE},exports.cpus=function(){return[]},exports.type=function(){return"Browser"},exports.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},exports.networkInterfaces=exports.getNetworkInterfaces=function(){return{}},exports.arch=function(){return"javascript"},exports.platform=function(){return"browser"},exports.tmpdir=exports.tmpDir=function(){return"/tmp"},exports.EOL="\n"},{}],313:[function(require,module,exports){module.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],314:[function(require,module,exports){"use strict";var asn1=require("asn1.js");exports.certificate=require("./certificate");var RSAPrivateKey=asn1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});exports.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});exports.RSAPublicKey=RSAPublicKey;var PublicKey=asn1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});exports.PublicKey=PublicKey;var AlgorithmIdentifier=asn1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),PrivateKeyInfo=asn1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});exports.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});exports.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});exports.DSAPrivateKey=DSAPrivateKey,exports.DSAparam=asn1.define("DSAparam",function(){this.int()});var ECPrivateKey=asn1.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});exports.ECPrivateKey=ECPrivateKey;var ECParameters=asn1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});exports.signature=asn1.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":315,"asn1.js":199}],315:[function(require,module,exports){"use strict";var asn=require("asn1.js"),Time=asn.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),AttributeTypeValue=asn.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),AlgorithmIdentifier=asn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),SubjectPublicKeyInfo=asn.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())}),RelativeDistinguishedName=asn.define("RelativeDistinguishedName",function(){this.setof(AttributeTypeValue)}),RDNSequence=asn.define("RDNSequence",function(){this.seqof(RelativeDistinguishedName)}),Name=asn.define("Name",function(){this.choice({rdnSequence:this.use(RDNSequence)})}),Validity=asn.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Time),this.key("notAfter").use(Time))}),Extension=asn.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),TBSCertificate=asn.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(AlgorithmIdentifier),this.key("issuer").use(Name),this.key("validity").use(Validity),this.key("subject").use(Name),this.key("subjectPublicKeyInfo").use(SubjectPublicKeyInfo),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Extension).optional())}),X509Certificate=asn.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(TBSCertificate),this.key("signatureAlgorithm").use(AlgorithmIdentifier),this.key("signatureValue").bitstr())});module.exports=X509Certificate},{"asn1.js":199}],316:[function(require,module,exports){(function(Buffer){var findProc=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,startRegex=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----/m,fullRegex=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,evp=require("evp_bytestokey"),ciphers=require("browserify-aes");module.exports=function(okey,password){var decrypted,key=okey.toString(),match=key.match(findProc);if(match){var suite="aes"+match[1],iv=new Buffer(match[2],"hex"),cipherText=new Buffer(match[3].replace(/[\r\n]/g,""),"base64"),cipherKey=evp(password,iv.slice(0,8),parseInt(match[1],10)).key,out=[],cipher=ciphers.createDecipheriv(suite,cipherKey,iv);out.push(cipher.update(cipherText)),out.push(cipher.final()),decrypted=Buffer.concat(out)}else{var match2=key.match(fullRegex);decrypted=new Buffer(match2[2].replace(/[\r\n]/g,""),"base64")}return{tag:key.match(startRegex)[1],data:decrypted}}}).call(this,require("buffer").Buffer)},{"browserify-aes":219,buffer:246,evp_bytestokey:283}],317:[function(require,module,exports){(function(Buffer){var asn1=require("./asn1"),aesid=require("./aesid.json"),fixProc=require("./fixProc"),ciphers=require("browserify-aes"),compat=require("pbkdf2");function parseKeys(buffer){var password;"object"!=typeof buffer||Buffer.isBuffer(buffer)||(password=buffer.passphrase,buffer=buffer.key),"string"==typeof buffer&&(buffer=new Buffer(buffer));var subtype,ndata,stripped=fixProc(buffer,password),type=stripped.tag,data=stripped.data;switch(type){case"CERTIFICATE":ndata=asn1.certificate.decode(data,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(ndata||(ndata=asn1.PublicKey.decode(data,"der")),subtype=ndata.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(ndata.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return ndata.subjectPrivateKey=ndata.subjectPublicKey,{type:"ec",data:ndata};case"1.2.840.10040.4.1":return ndata.algorithm.params.pub_key=asn1.DSAparam.decode(ndata.subjectPublicKey.data,"der"),{type:"dsa",data:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"ENCRYPTED PRIVATE KEY":data=function(data,password){var salt=data.algorithm.decrypt.kde.kdeparams.salt,iters=parseInt(data.algorithm.decrypt.kde.kdeparams.iters.toString(),10),algo=aesid[data.algorithm.decrypt.cipher.algo.join(".")],iv=data.algorithm.decrypt.cipher.iv,cipherText=data.subjectPrivateKey,keylen=parseInt(algo.split("-")[1],10)/8,key=compat.pbkdf2Sync(password,salt,iters,keylen),cipher=ciphers.createDecipheriv(algo,key,iv),out=[];return out.push(cipher.update(cipherText)),out.push(cipher.final()),Buffer.concat(out)}(data=asn1.EncryptedPrivateKey.decode(data,"der"),password);case"PRIVATE KEY":switch(subtype=(ndata=asn1.PrivateKey.decode(data,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(ndata.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ndata.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(ndata.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return ndata.algorithm.params.priv_key=asn1.DSAparam.decode(ndata.subjectPrivateKey,"der"),{type:"dsa",params:ndata.algorithm.params};default:throw new Error("unknown key id "+subtype)}throw new Error("unknown key type "+type);case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(data,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(data,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(data,"der")};case"EC PRIVATE KEY":return{curve:(data=asn1.ECPrivateKey.decode(data,"der")).parameters.value,privateKey:data.privateKey};default:throw new Error("unknown key type "+type)}}module.exports=parseKeys,parseKeys.signature=asn1.signature}).call(this,require("buffer").Buffer)},{"./aesid.json":313,"./asn1":314,"./fixProc":316,"browserify-aes":219,buffer:246,pbkdf2:318}],318:[function(require,module,exports){exports.pbkdf2=require("./lib/async"),exports.pbkdf2Sync=require("./lib/sync")},{"./lib/async":319,"./lib/sync":322}],319:[function(require,module,exports){(function(process,global){var ZERO_BUF,checkParameters=require("./precondition"),defaultEncoding=require("./default-encoding"),sync=require("./sync"),Buffer=require("safe-buffer").Buffer,subtle=global.crypto&&global.crypto.subtle,toBrowser={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},checks=[];function browserPbkdf2(password,salt,iterations,length,algo){return subtle.importKey("raw",password,{name:"PBKDF2"},!1,["deriveBits"]).then(function(key){return subtle.deriveBits({name:"PBKDF2",salt:salt,iterations:iterations,hash:{name:algo}},key,length<<3)}).then(function(res){return Buffer.from(res)})}module.exports=function(password,salt,iterations,keylen,digest,callback){"function"==typeof digest&&(callback=digest,digest=void 0);var algo=toBrowser[(digest=digest||"sha1").toLowerCase()];if(!algo||"function"!=typeof global.Promise)return process.nextTick(function(){var out;try{out=sync(password,salt,iterations,keylen,digest)}catch(e){return callback(e)}callback(null,out)});if(checkParameters(password,salt,iterations,keylen),"function"!=typeof callback)throw new Error("No callback provided to pbkdf2");Buffer.isBuffer(password)||(password=Buffer.from(password,defaultEncoding)),Buffer.isBuffer(salt)||(salt=Buffer.from(salt,defaultEncoding)),function(promise,callback){promise.then(function(out){process.nextTick(function(){callback(null,out)})},function(e){process.nextTick(function(){callback(e)})})}(function(algo){if(global.process&&!global.process.browser)return Promise.resolve(!1);if(!subtle||!subtle.importKey||!subtle.deriveBits)return Promise.resolve(!1);if(void 0!==checks[algo])return checks[algo];var prom=browserPbkdf2(ZERO_BUF=ZERO_BUF||Buffer.alloc(8),ZERO_BUF,10,128,algo).then(function(){return!0}).catch(function(){return!1});return checks[algo]=prom,prom}(algo).then(function(resp){return resp?browserPbkdf2(password,salt,iterations,keylen,algo):sync(password,salt,iterations,keylen,digest)}),callback)}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-encoding":320,"./precondition":321,"./sync":322,_process:332,"safe-buffer":355}],320:[function(require,module,exports){(function(process){var defaultEncoding;process.browser?defaultEncoding="utf-8":defaultEncoding=parseInt(process.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";module.exports=defaultEncoding}).call(this,require("_process"))},{_process:332}],321:[function(require,module,exports){(function(Buffer){var MAX_ALLOC=Math.pow(2,30)-1;function checkBuffer(buf,name){if("string"!=typeof buf&&!Buffer.isBuffer(buf))throw new TypeError(name+" must be a buffer or string")}module.exports=function(password,salt,iterations,keylen){if(checkBuffer(password,"Password"),checkBuffer(salt,"Salt"),"number"!=typeof iterations)throw new TypeError("Iterations not a number");if(iterations<0)throw new TypeError("Bad iterations");if("number"!=typeof keylen)throw new TypeError("Key length not a number");if(keylen<0||keylen>MAX_ALLOC||keylen!=keylen)throw new TypeError("Bad key length")}}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":301}],322:[function(require,module,exports){var md5=require("create-hash/md5"),rmd160=require("ripemd160"),sha=require("sha.js"),checkParameters=require("./precondition"),defaultEncoding=require("./default-encoding"),Buffer=require("safe-buffer").Buffer,ZEROS=Buffer.alloc(128),sizes={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Hmac(alg,key,saltLen){var hash=function(alg){return"rmd160"===alg||"ripemd160"===alg?rmd160:"md5"===alg?md5:function(data){return sha(alg).update(data).digest()}}(alg),blocksize="sha512"===alg||"sha384"===alg?128:64;key.length>blocksize?key=hash(key):key.length<blocksize&&(key=Buffer.concat([key,ZEROS],blocksize));for(var ipad=Buffer.allocUnsafe(blocksize+sizes[alg]),opad=Buffer.allocUnsafe(blocksize+sizes[alg]),i=0;i<blocksize;i++)ipad[i]=54^key[i],opad[i]=92^key[i];var ipad1=Buffer.allocUnsafe(blocksize+saltLen+4);ipad.copy(ipad1,0,0,blocksize),this.ipad1=ipad1,this.ipad2=ipad,this.opad=opad,this.alg=alg,this.blocksize=blocksize,this.hash=hash,this.size=sizes[alg]}Hmac.prototype.run=function(data,ipad){return data.copy(ipad,this.blocksize),this.hash(ipad).copy(this.opad,this.blocksize),this.hash(this.opad)},module.exports=function(password,salt,iterations,keylen,digest){checkParameters(password,salt,iterations,keylen),Buffer.isBuffer(password)||(password=Buffer.from(password,defaultEncoding)),Buffer.isBuffer(salt)||(salt=Buffer.from(salt,defaultEncoding));var hmac=new Hmac(digest=digest||"sha1",password,salt.length),DK=Buffer.allocUnsafe(keylen),block1=Buffer.allocUnsafe(salt.length+4);salt.copy(block1,0,0,salt.length);for(var destPos=0,hLen=sizes[digest],l=Math.ceil(keylen/hLen),i=1;i<=l;i++){block1.writeUInt32BE(i,salt.length);for(var T=hmac.run(block1,hmac.ipad1),U=T,j=1;j<iterations;j++){U=hmac.run(U,hmac.ipad2);for(var k=0;k<hLen;k++)T[k]^=U[k]}T.copy(DK,destPos),destPos+=hLen}return DK}},{"./default-encoding":320,"./precondition":321,"create-hash/md5":251,ripemd160:354,"safe-buffer":355,"sha.js":357}],323:[function(require,module,exports){var t,e,_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t=this,e=function(){"use strict";var g=void 0,n=void 0,t=function(){g.defaultStack.context=document.body,window.addEventListener("resize",function(){n&&clearTimeout(n),n=setTimeout(function(){g.positionAll()},10)})},h=function(t){t.overlay.parentNode&&t.overlay.parentNode.removeChild(t.overlay)},e=function(t,e){return"object"!==(void 0===t?"undefined":_typeof(t))&&(t={text:t}),e&&(t.type=e),{target:document.body,data:t}},i={runModules:function(t){if("init"===t){for(var e in g.modules)if(g.modules.hasOwnProperty(e)&&"function"==typeof g.modules[e].init){var i=g.modules[e].init(this);this.initModule(i)}}else{var n=this.get()._modules;for(var o in n)if(n.hasOwnProperty(o)){var s=_extends({_notice:this,_options:this.get()},this.get().modules[o]);n[o].set(s),"function"==typeof n[o][t]&&n[o][t]()}}},initModule:function(t){var e=this.get().modules;e.hasOwnProperty(t.constructor.key)||(e[t.constructor.key]={});var i=_extends({_notice:this,_options:this.get()},e[t.constructor.key]);t.initModule(i),this.get()._modules[t.constructor.key]=t},update:function(t){var e=this.get().hide,i=this.get().icon;this.set(t),this.runModules("update"),this.get().hide?e||this.queueClose():this.cancelClose(),this.queuePosition();var n=this.get().icon;return n!==i&&(!0===n&&"fontawesome5"===this.get().icons||"string"==typeof n&&n.match(/(^| )fa[srlb]($| )/))&&(this.set({icon:!1}),this.set({icon:n})),this},open:function(){var t=this,e=this.get(),i=e._state,n=e.hide;if("opening"!==i){if("open"!==i){this.set({_state:"opening",_animatingClass:"ui-pnotify-initial-hidden"}),this.runModules("beforeOpen");var o=this.get().stack;if(!this.refs.elem.parentNode||o&&o.context&&o.context!==this.refs.elem.parentNode)if(o&&o.context)o.context.appendChild(this.refs.elem);else{if(!document.body)throw new Error("No context to open this notice in.");document.body.appendChild(this.refs.elem)}return setTimeout(function(){o&&(o.animation=!1,g.positionAll(),o.animation=!0),t.animateIn(function(){t.get().hide&&t.queueClose(),t.set({_state:"open"}),t.runModules("afterOpen")})},0),this}n&&this.queueClose()}},remove:function(t){return this.close(t)},close:function(t){var e=this,i=this.get()._state;if("closing"!==i&&"closed"!==i){this.set({_state:"closing",_timerHide:!!t}),this.runModules("beforeClose");var n=this.get()._timer;return n&&clearTimeout&&(clearTimeout(n),this.set({_timer:null})),this.animateOut(function(){if(e.set({_state:"closed"}),e.runModules("afterClose"),e.queuePosition(),e.get().remove&&e.refs.elem.parentNode.removeChild(e.refs.elem),e.runModules("beforeDestroy"),e.get().destroy&&null!==g.notices){var t=g.notices.indexOf(e);-1!==t&&g.notices.splice(t,1)}e.runModules("afterDestroy")}),this}},animateIn:function(c){var l=this;this.set({_animating:"in"});var t=function t(){l.refs.elem.removeEventListener("transitionend",t);var e=l.get(),i=e._animTimer,n=e._animating,o=e._moduleIsNoticeOpen;if(i&&clearTimeout(i),"in"===n){var s=o;if(!s){var r=l.refs.elem.getBoundingClientRect();for(var a in r)if(0<r[a]){s=!0;break}}s?(c&&c.call(),l.set({_animating:!1})):l.set({_animTimer:setTimeout(t,40)})}};"fade"===this.get().animation?(this.refs.elem.addEventListener("transitionend",t),this.set({_animatingClass:"ui-pnotify-in"}),this.refs.elem.style.opacity,this.set({_animatingClass:"ui-pnotify-in ui-pnotify-fade-in"}),this.set({_animTimer:setTimeout(t,650)})):(this.set({_animatingClass:"ui-pnotify-in"}),t())},animateOut:function(d){var p=this;this.set({_animating:"out"});var t=function t(){p.refs.elem.removeEventListener("transitionend",t);var e=p.get(),i=e._animTimer,n=e._animating,o=e._moduleIsNoticeOpen;if(i&&clearTimeout(i),"out"===n){var s=o;if(!s){var r=p.refs.elem.getBoundingClientRect();for(var a in r)if(0<r[a]){s=!0;break}}if(p.refs.elem.style.opacity&&"0"!==p.refs.elem.style.opacity&&s)p.set({_animTimer:setTimeout(t,40)});else{p.set({_animatingClass:""});var c=p.get().stack;if(c&&c.overlay){for(var l=!1,f=0;f<g.notices.length;f++){var u=g.notices[f];if(u!==p&&u.get().stack===c&&"closed"!==u.get()._state){l=!0;break}}l||h(c)}d&&d.call(),p.set({_animating:!1})}}};"fade"===this.get().animation?(this.refs.elem.addEventListener("transitionend",t),this.set({_animatingClass:"ui-pnotify-in"}),this.set({_animTimer:setTimeout(t,650)})):(this.set({_animatingClass:""}),t())},position:function(){var t=this.get().stack,e=this.refs.elem;if(t){if(t.context||(t.context=document.body),"number"!=typeof t.nextpos1&&(t.nextpos1=t.firstpos1),"number"!=typeof t.nextpos2&&(t.nextpos2=t.firstpos2),"number"!=typeof t.addpos2&&(t.addpos2=0),!e.classList.contains("ui-pnotify-in")&&!e.classList.contains("ui-pnotify-initial-hidden"))return this;var i,n,o;t.modal&&(t.overlay||(n=t,(o=document.createElement("div")).classList.add("ui-pnotify-modal-overlay"),n.context!==document.body&&(o.style.height=n.context.scrollHeight+"px",o.style.width=n.context.scrollWidth+"px"),o.addEventListener("click",function(){n.overlayClose&&g.closeStack(n)}),n.overlay=o),(i=t).overlay.parentNode!==i.context&&(i.overlay=i.context.insertBefore(i.overlay,i.context.firstChild))),e.getBoundingClientRect(),t.animation&&this.set({_moveClass:"ui-pnotify-move"});var s=t.context===document.body?window.innerHeight:t.context.scrollHeight,r=t.context===document.body?window.innerWidth:t.context.scrollWidth,a=void 0;if(t.dir1){a={down:"top",up:"bottom",left:"right",right:"left"}[t.dir1];var c=void 0;switch(t.dir1){case"down":c=e.offsetTop;break;case"up":c=s-e.scrollHeight-e.offsetTop;break;case"left":c=r-e.scrollWidth-e.offsetLeft;break;case"right":c=e.offsetLeft}void 0===t.firstpos1&&(t.firstpos1=c,t.nextpos1=t.firstpos1)}if(t.dir1&&t.dir2){var l={down:"top",up:"bottom",left:"right",right:"left"}[t.dir2],f=void 0;switch(t.dir2){case"down":f=e.offsetTop;break;case"up":f=s-e.scrollHeight-e.offsetTop;break;case"left":f=r-e.scrollWidth-e.offsetLeft;break;case"right":f=e.offsetLeft}void 0===t.firstpos2&&(t.firstpos2=f,t.nextpos2=t.firstpos2);var u=t.nextpos1+e.offsetHeight+(void 0===t.spacing1?25:t.spacing1),d=t.nextpos1+e.offsetWidth+(void 0===t.spacing1?25:t.spacing1);switch((("down"===t.dir1||"up"===t.dir1)&&s<u||("left"===t.dir1||"right"===t.dir1)&&r<d)&&(t.nextpos1=t.firstpos1,t.nextpos2+=t.addpos2+(void 0===t.spacing2?25:t.spacing2),t.addpos2=0),"number"==typeof t.nextpos2&&(e.style[l]=t.nextpos2+"px",t.animation||e.style[l]),t.dir2){case"down":case"up":e.offsetHeight+(parseFloat(e.style.marginTop,10)||0)+(parseFloat(e.style.marginBottom,10)||0)>t.addpos2&&(t.addpos2=e.offsetHeight);break;case"left":case"right":e.offsetWidth+(parseFloat(e.style.marginLeft,10)||0)+(parseFloat(e.style.marginRight,10)||0)>t.addpos2&&(t.addpos2=e.offsetWidth)}}else if(t.dir1){var p=void 0,h=void 0;switch(t.dir1){case"down":case"up":h=["left","right"],p=t.context.scrollWidth/2-e.offsetWidth/2;break;case"left":case"right":h=["top","bottom"],p=s/2-e.offsetHeight/2}e.style[h[0]]=p+"px",e.style[h[1]]="auto",t.animation||e.style[h[0]]}if(t.dir1)switch("number"==typeof t.nextpos1&&(e.style[a]=t.nextpos1+"px",t.animation||e.style[a]),t.dir1){case"down":case"up":t.nextpos1+=e.offsetHeight+(void 0===t.spacing1?25:t.spacing1);break;case"left":case"right":t.nextpos1+=e.offsetWidth+(void 0===t.spacing1?25:t.spacing1)}else{var m=r/2-e.offsetWidth/2,y=s/2-e.offsetHeight/2;e.style.left=m+"px",e.style.top=y+"px",t.animation||e.style.left}return this}},queuePosition:function(t){return n&&clearTimeout(n),t||(t=10),n=setTimeout(function(){g.positionAll()},t),this},cancelRemove:function(){return this.cancelClose()},cancelClose:function(){var t=this.get(),e=t._timer,i=t._animTimer,n=t._state,o=t.animation;return e&&clearTimeout(e),i&&clearTimeout(i),"closing"===n&&this.set({_state:"open",_animating:!1,_animatingClass:"fade"===o?"ui-pnotify-in ui-pnotify-fade-in":"ui-pnotify-in"}),this},queueRemove:function(){return this.queueClose()},queueClose:function(){var t=this;return this.cancelClose(),this.set({_timer:setTimeout(function(){return t.close(!0)},isNaN(this.get().delay)?0:this.get().delay)}),this},addModuleClass:function(){for(var t=this.get()._moduleClasses,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];for(var o=0;o<i.length;o++){var s=i[o];-1===t.indexOf(s)&&t.push(s)}this.set({_moduleClasses:t})},removeModuleClass:function(){for(var t=this.get()._moduleClasses,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];for(var o=0;o<i.length;o++){var s=i[o],r=t.indexOf(s);-1!==r&&t.splice(r,1)}this.set({_moduleClasses:t})},hasModuleClass:function(){for(var t=this.get()._moduleClasses,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];for(var o=0;o<i.length;o++){var s=i[o];if(-1===t.indexOf(s))return!1}return!0}};function D(e,t,i){var n,o,s=i.module;if(s)var r=new s({root:e.root});return r&&r.on("init",function(t){e.initModule(t.module)}),{key:t,first:null,c:function(){n=a(),o=a(),r&&r._fragment.c(),this.first=n},m:function(t,e){et(n,t,e),et(o,t,e),r&&r._mount(t,e)},d:function(t){t&&(ot(n),ot(o)),r&&r.destroy(t)}}}function F(i,t){var n,o,s,r;return{c:function(){n=Q("div"),(o=Q("span")).className=s=!0===t.icon?t._icons[t.type]?t._icons[t.type]:"":t.icon,n.className=r="ui-pnotify-icon "+(t._styles.icon?t._styles.icon:"")},m:function(t,e){et(n,t,e),U(o,n),i.refs.iconContainer=n},p:function(t,e){(t.icon||t._icons||t.type)&&s!==(s=!0===e.icon?e._icons[e.type]?e._icons[e.type]:"":e.icon)&&(o.className=s),t._styles&&r!==(r="ui-pnotify-icon "+(e._styles.icon?e._styles.icon:""))&&(n.className=r)},d:function(t){t&&ot(n),i.refs.iconContainer===n&&(i.refs.iconContainer=null)}}}function c(t,i){var n,o;return{c:function(){n=Q("noscript"),o=Q("noscript")},m:function(t,e){et(n,t,e),n.insertAdjacentHTML("afterend",i.title),et(o,t,e)},p:function(t,e){t.title&&(s(n,o),n.insertAdjacentHTML("afterend",e.title))},d:function(t){t&&(s(n,o),ot(n),ot(o))}}}function l(t,e){var i;return{c:function(){i=Y(e.title)},m:function(t,e){et(i,t,e)},p:function(t,e){t.title&&(i.data=e.title)},d:function(t){t&&ot(i)}}}function V(i,t){var n,o;function s(t){return t.titleTrusted?c:l}var r=s(t),a=r(i,t);return{c:function(){n=Q("h4"),a.c(),n.className=o="ui-pnotify-title "+(t._styles.title?t._styles.title:"")},m:function(t,e){et(n,t,e),a.m(n,null),i.refs.titleContainer=n},p:function(t,e){r===(r=s(e))&&a?a.p(t,e):(a.d(1),(a=r(i,e)).c(),a.m(n,null)),t._styles&&o!==(o="ui-pnotify-title "+(e._styles.title?e._styles.title:""))&&(n.className=o)},d:function(t){t&&ot(n),a.d(),i.refs.titleContainer===n&&(i.refs.titleContainer=null)}}}function f(t,i){var n,o;return{c:function(){n=Q("noscript"),o=Q("noscript")},m:function(t,e){et(n,t,e),n.insertAdjacentHTML("afterend",i.text),et(o,t,e)},p:function(t,e){t.text&&(s(n,o),n.insertAdjacentHTML("afterend",e.text))},d:function(t){t&&(s(n,o),ot(n),ot(o))}}}function u(t,e){var i;return{c:function(){i=Y(e.text)},m:function(t,e){et(i,t,e)},p:function(t,e){t.text&&(i.data=e.text)},d:function(t){t&&ot(i)}}}function $(i,t){var n,o;function s(t){return t.textTrusted?f:u}var r=s(t),a=r(i,t);return{c:function(){n=Q("div"),a.c(),n.className=o="ui-pnotify-text "+(t._styles.text?t._styles.text:""),Z(n,"role","alert")},m:function(t,e){et(n,t,e),a.m(n,null),i.refs.textContainer=n},p:function(t,e){r===(r=s(e))&&a?a.p(t,e):(a.d(1),(a=r(i,e)).c(),a.m(n,null)),t._styles&&o!==(o="ui-pnotify-text "+(e._styles.text?e._styles.text:""))&&(n.className=o)},d:function(t){t&&ot(n),a.d(),i.refs.textContainer===n&&(i.refs.textContainer=null)}}}function G(e,t,i){var n,o,s=i.module;if(s)var r=new s({root:e.root});return r&&r.on("init",function(t){e.initModule(t.module)}),{key:t,first:null,c:function(){n=a(),o=a(),r&&r._fragment.c(),this.first=n},m:function(t,e){et(n,t,e),et(o,t,e),r&&r._mount(t,e)},d:function(t){t&&(ot(n),ot(o)),r&&r.destroy(t)}}}function J(t,e,i){var n=Object.create(t);return n.module=e[i],n.each_value=e,n.module_index=i,n}function K(t,e,i){var n=Object.create(t);return n.module=e[i],n.each_value_1=e,n.module_index_1=i,n}function o(t){var e,i,n,o,s=this;i=t,(e=this)._handlers=X(),e._bind=i._bind,e.options=i,e.root=i.root||e,e.store=e.root.store||i.store,this.refs={},this._state=r(((n=_extends({_state:"initializing",_timer:null,_animTimer:null,_animating:!1,_animatingClass:"",_moveClass:"",_timerHide:!1,_moduleClasses:[],_moduleIsNoticeOpen:!1,_modules:{},_modulesPrependContainer:g.modulesPrependContainer,_modulesAppendContainer:g.modulesAppendContainer},g.defaults)).modules=_extends({},g.defaults.modules),n),t.data),this._recompute({styling:1,icons:1,width:1,minHeight:1},this._state),this._intro=!0,document.getElementById("svelte-1eldsjg-style")||((o=Q("style")).id="svelte-1eldsjg-style",o.textContent='body > .ui-pnotify{position:fixed;z-index:100040}body > .ui-pnotify.ui-pnotify-modal{z-index:100042}.ui-pnotify{position:absolute;height:auto;z-index:1;display:none}.ui-pnotify.ui-pnotify-modal{z-index:3}.ui-pnotify.ui-pnotify-in{display:block}.ui-pnotify.ui-pnotify-initial-hidden{display:block;visibility:hidden}.ui-pnotify.ui-pnotify-move{transition:left .5s ease, top .5s ease, right .5s ease, bottom .5s ease}.ui-pnotify.ui-pnotify-fade-slow{transition:opacity .4s linear;opacity:0}.ui-pnotify.ui-pnotify-fade-slow.ui-pnotify.ui-pnotify-move{transition:opacity .4s linear, left .5s ease, top .5s ease, right .5s ease, bottom .5s ease}.ui-pnotify.ui-pnotify-fade-normal{transition:opacity .25s linear;opacity:0}.ui-pnotify.ui-pnotify-fade-normal.ui-pnotify.ui-pnotify-move{transition:opacity .25s linear, left .5s ease, top .5s ease, right .5s ease, bottom .5s ease}.ui-pnotify.ui-pnotify-fade-fast{transition:opacity .1s linear;opacity:0}.ui-pnotify.ui-pnotify-fade-fast.ui-pnotify.ui-pnotify-move{transition:opacity .1s linear, left .5s ease, top .5s ease, right .5s ease, bottom .5s ease}.ui-pnotify.ui-pnotify-fade-in{opacity:1}.ui-pnotify .ui-pnotify-shadow{-webkit-box-shadow:0px 6px 28px 0px rgba(0,0,0,0.1);-moz-box-shadow:0px 6px 28px 0px rgba(0,0,0,0.1);box-shadow:0px 6px 28px 0px rgba(0,0,0,0.1)}.ui-pnotify-container{background-position:0 0;padding:.8em;height:100%;margin:0}.ui-pnotify-container:after{content:" ";visibility:hidden;display:block;height:0;clear:both}.ui-pnotify-container.ui-pnotify-sharp{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.ui-pnotify-title{display:block;white-space:pre-line;margin-bottom:.4em;margin-top:0}.ui-pnotify.ui-pnotify-with-icon .ui-pnotify-title,.ui-pnotify.ui-pnotify-with-icon .ui-pnotify-text{margin-left:24px}[dir=rtl] .ui-pnotify.ui-pnotify-with-icon .ui-pnotify-title,[dir=rtl] .ui-pnotify.ui-pnotify-with-icon .ui-pnotify-text{margin-right:24px;margin-left:0}.ui-pnotify-title-bs4{font-size:1.2rem}.ui-pnotify-text{display:block;white-space:pre-line}.ui-pnotify-icon,.ui-pnotify-icon span{display:block;float:left}[dir=rtl] .ui-pnotify-icon,[dir=rtl] .ui-pnotify-icon span{float:right}.ui-pnotify-icon-bs3 > span{position:relative;top:2px}.ui-pnotify-icon-bs4 > span{position:relative;top:4px}.ui-pnotify-modal-overlay{background-color:rgba(0, 0, 0, .4);top:0;left:0;position:absolute;height:100%;width:100%;z-index:2}body > .ui-pnotify-modal-overlay{position:fixed;z-index:100041}',U(o,document.head)),t.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=function(o,t){for(var s,r,a,c,l,f,u,d,p,h=[],m=X(),y=[],g=X(),e=t._modulesPrependContainer,_=function(t){return t.module.key},i=0;i<e.length;i+=1){var n=J(t,e,i),v=_(n);h[i]=m[v]=D(o,v,n)}var x=!1!==t.icon&&F(o,t),b=!1!==t.title&&V(o,t),C=!1!==t.text&&$(o,t),w=t._modulesAppendContainer,k=function(t){return t.module.key};for(i=0;i<w.length;i+=1){var T=K(t,w,i),S=k(T);y[i]=g[S]=G(o,S,T)}function N(t){o.fire("mouseover",t)}function H(t){o.fire("mouseout",t)}function M(t){o.fire("mouseenter",t)}function O(t){o.fire("mouseleave",t)}function L(t){o.fire("mousemove",t)}function A(t){o.fire("mousedown",t)}function j(t){o.fire("mouseup",t)}function E(t){o.fire("click",t)}function P(t){o.fire("dblclick",t)}function W(t){o.fire("focus",t)}function z(t){o.fire("blur",t)}function R(t){o.fire("touchstart",t)}function q(t){o.fire("touchmove",t)}function B(t){o.fire("touchend",t)}function I(t){o.fire("touchcancel",t)}return{c:function(){for(s=Q("div"),r=Q("div"),i=0;i<h.length;i+=1)h[i].c();for(a=Y("\n    "),x&&x.c(),c=Y("\n    "),b&&b.c(),l=Y("\n    "),C&&C.c(),f=Y("\n    "),i=0;i<y.length;i+=1)y[i].c();r.className=u="\n        ui-pnotify-container\n        "+(t._styles.container?t._styles.container:"")+"\n        "+(t._styles[t.type]?t._styles[t.type]:"")+"\n        "+t.cornerClass+"\n        "+(t.shadow?"ui-pnotify-shadow":"")+"\n      ",r.style.cssText=d=t._widthStyle+" "+t._minHeightStyle,Z(r,"role","alert"),tt(s,"mouseover",N),tt(s,"mouseout",H),tt(s,"mouseenter",M),tt(s,"mouseleave",O),tt(s,"mousemove",L),tt(s,"mousedown",A),tt(s,"mouseup",j),tt(s,"click",E),tt(s,"dblclick",P),tt(s,"focus",W),tt(s,"blur",z),tt(s,"touchstart",R),tt(s,"touchmove",q),tt(s,"touchend",B),tt(s,"touchcancel",I),s.className=p="\n      ui-pnotify\n      "+(!1!==t.icon?"ui-pnotify-with-icon":"")+"\n      "+(t._styles.element?t._styles.element:"")+"\n      "+t.addClass+"\n      "+t._animatingClass+"\n      "+t._moveClass+"\n      "+("fade"===t.animation?"ui-pnotify-fade-"+t.animateSpeed:"")+"\n      "+(t.stack&&t.stack.modal?"ui-pnotify-modal":"")+"\n      "+t._moduleClasses.join(" ")+"\n    ",Z(s,"aria-live","assertive"),Z(s,"role","alertdialog"),Z(s,"ui-pnotify",!0)},m:function(t,e){for(et(s,t,e),U(r,s),i=0;i<h.length;i+=1)h[i].m(r,null);for(U(a,r),x&&x.m(r,null),U(c,r),b&&b.m(r,null),U(l,r),C&&C.m(r,null),U(f,r),i=0;i<y.length;i+=1)y[i].m(r,null);o.refs.container=r,o.refs.elem=s},p:function(t,e){var i=e._modulesPrependContainer;h=it(h,o,t,_,0,e,i,m,r,nt,D,"m",a,J),!1!==e.icon?x?x.p(t,e):((x=F(o,e)).c(),x.m(r,c)):x&&(x.d(1),x=null),!1!==e.title?b?b.p(t,e):((b=V(o,e)).c(),b.m(r,l)):b&&(b.d(1),b=null),!1!==e.text?C?C.p(t,e):((C=$(o,e)).c(),C.m(r,f)):C&&(C.d(1),C=null);var n=e._modulesAppendContainer;y=it(y,o,t,k,0,e,n,g,r,nt,G,"m",null,K),(t._styles||t.type||t.cornerClass||t.shadow)&&u!==(u="\n        ui-pnotify-container\n        "+(e._styles.container?e._styles.container:"")+"\n        "+(e._styles[e.type]?e._styles[e.type]:"")+"\n        "+e.cornerClass+"\n        "+(e.shadow?"ui-pnotify-shadow":"")+"\n      ")&&(r.className=u),(t._widthStyle||t._minHeightStyle)&&d!==(d=e._widthStyle+" "+e._minHeightStyle)&&(r.style.cssText=d),(t.icon||t._styles||t.addClass||t._animatingClass||t._moveClass||t.animation||t.animateSpeed||t.stack||t._moduleClasses)&&p!==(p="\n      ui-pnotify\n      "+(!1!==e.icon?"ui-pnotify-with-icon":"")+"\n      "+(e._styles.element?e._styles.element:"")+"\n      "+e.addClass+"\n      "+e._animatingClass+"\n      "+e._moveClass+"\n      "+("fade"===e.animation?"ui-pnotify-fade-"+e.animateSpeed:"")+"\n      "+(e.stack&&e.stack.modal?"ui-pnotify-modal":"")+"\n      "+e._moduleClasses.join(" ")+"\n    ")&&(s.className=p)},d:function(t){for(t&&ot(s),i=0;i<h.length;i+=1)h[i].d();for(x&&x.d(),b&&b.d(),C&&C.d(),i=0;i<y.length;i+=1)y[i].d();o.refs.container===r&&(o.refs.container=null),st(s,"mouseover",N),st(s,"mouseout",H),st(s,"mouseenter",M),st(s,"mouseleave",O),st(s,"mousemove",L),st(s,"mousedown",A),st(s,"mouseup",j),st(s,"click",E),st(s,"dblclick",P),st(s,"focus",W),st(s,"blur",z),st(s,"touchstart",R),st(s,"touchmove",q),st(s,"touchend",B),st(s,"touchcancel",I),o.refs.elem===s&&(o.refs.elem=null)}}}(this,this._state),this.root._oncreate.push(function(){(function(){var e=this;this.on("mouseenter",function(t){if(e.get().mouseReset&&"out"===e.get()._animating){if(!e.get()._timerHide)return;e.cancelClose()}e.get().hide&&e.get().mouseReset&&e.cancelClose()}),this.on("mouseleave",function(t){e.get().hide&&e.get().mouseReset&&"out"!==e.get()._animating&&e.queueClose(),g.positionAll()});var t=this.get().stack;t&&"top"===t.push?g.notices.splice(0,0,this):g.notices.push(this),this.runModules("init"),this.set({_state:"closed"}),this.get().autoDisplay&&this.open()}).call(s),s.fire("update",{changed:function(t,e){for(var i in e)t[i]=1;return t}({},s._state),current:s._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),this._lock=!0,d(this._beforecreate),d(this._oncreate),d(this._aftercreate),this._lock=!1)}function Q(t){return document.createElement(t)}function U(t,e){e.appendChild(t)}function X(){return Object.create(null)}function Y(t){return document.createTextNode(t)}function Z(t,e,i){t.setAttribute(e,i)}function tt(t,e,i){t.addEventListener(e,i,!1)}function et(t,e,i){e.insertBefore(t,i)}function it(t,e,i,n,o,s,r,a,c,l,f,u,d,p){for(var h=t.length,m=r.length,y=h,g={};y--;)g[t[y].key]=y;var _=[],v={},x={};for(y=m;y--;){var b=p(s,r,y),C=n(b),w=a[C];w?o&&w.p(i,b):(w=f(e,C,b)).c(),_[y]=v[C]=w,C in g&&(x[C]=Math.abs(y-g[C]))}var k={},T={};function S(t){t[u](c,d),a[t.key]=t,d=t.first,m--}for(;h&&m;){var N=_[m-1],H=t[h-1],M=N.key,O=H.key;N===H?(d=N.first,h--,m--):v[O]?!a[M]||k[M]?S(N):T[O]?h--:x[M]>x[O]?(T[M]=!0,S(N)):(k[O]=!0,h--):(l(H,a),h--)}for(;h--;)v[(H=t[h]).key]||l(H,a);for(;m;)S(_[m-1]);return _}function nt(t,e){t.d(1),e[t.key]=null}function ot(t){t.parentNode.removeChild(t)}function st(t,e,i){t.removeEventListener(e,i,!1)}function a(){return document.createComment("")}function s(t,e){for(;t.nextSibling&&t.nextSibling!==e;)t.parentNode.removeChild(t.nextSibling)}function r(t,e){for(var i in e)t[i]=e[i];return t}function d(t){for(;t&&t.length;)t.shift()()}function p(){}return r(o.prototype,{destroy:function(t){this.destroy=p,this.fire("destroy"),this.set=p,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:function(){return this._state},fire:function(t,e){var i=t in this._handlers&&this._handlers[t].slice();if(i)for(var n=0;n<i.length;n+=1){var o=i[n];o.__calling||(o.__calling=!0,o.call(this,e),o.__calling=!1)}},on:function(t,e){var i=this._handlers[t]||(this._handlers[t]=[]);return i.push(e),{cancel:function(){var t=i.indexOf(e);~t&&i.splice(t,1)}}},set:function(t){this._set(r({},t)),this.root._lock||(this.root._lock=!0,d(this.root._beforecreate),d(this.root._oncreate),d(this.root._aftercreate),this.root._lock=!1)},_set:function(t){var e=this._state,i={},n=!1;for(var o in t)this._differs(t[o],e[o])&&(i[o]=n=!0);n&&(this._state=r(r({},e),t),this._recompute(i,this._state),this._bind&&this._bind(i,this._state),this._fragment&&(this.fire("state",{changed:i,current:this._state,previous:e}),this._fragment.p(i,this._state),this.fire("update",{changed:i,current:this._state,previous:e})))},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:function(t,e){return t!=t?e==e:t!==e||t&&"object"===(void 0===t?"undefined":_typeof(t))||"function"==typeof t}}),r(o.prototype,i),o.prototype._recompute=function(t,e){var i,n,o,s;t.styling&&this._differs(e._styles,e._styles="object"===(void 0===(i=e.styling)?"undefined":_typeof(i))?i:g.styling[i])&&(t._styles=!0),t.icons&&this._differs(e._icons,e._icons="object"===(void 0===(n=e.icons)?"undefined":_typeof(n))?n:g.icons[n])&&(t._icons=!0),t.width&&this._differs(e._widthStyle,e._widthStyle="string"==typeof(o=e.width)?"width: "+o+";":"")&&(t._widthStyle=!0),t.minHeight&&this._differs(e._minHeightStyle,e._minHeightStyle="string"==typeof(s=e.minHeight)?"min-height: "+s+";":"")&&(t._minHeightStyle=!0)},(g=o).VERSION="4.0.0-alpha.3",g.defaultStack={dir1:"down",dir2:"left",firstpos1:25,firstpos2:25,spacing1:36,spacing2:36,push:"bottom",context:window&&document.body},g.defaults={title:!1,titleTrusted:!1,text:!1,textTrusted:!1,styling:"brighttheme",icons:"brighttheme",addClass:"",cornerClass:"",autoDisplay:!0,width:"360px",minHeight:"16px",type:"notice",icon:!0,animation:"fade",animateSpeed:"normal",shadow:!0,hide:!0,delay:8e3,mouseReset:!0,remove:!0,destroy:!0,stack:g.defaultStack,modules:{}},g.notices=[],g.modules={},g.modulesPrependContainer=[],g.modulesAppendContainer=[],g.alert=function(t){return new g(e(t))},g.notice=function(t){return new g(e(t,"notice"))},g.info=function(t){return new g(e(t,"info"))},g.success=function(t){return new g(e(t,"success"))},g.error=function(t){return new g(e(t,"error"))},g.removeAll=function(){g.closeAll()},g.closeAll=function(){for(var t=0;t<g.notices.length;t++)g.notices[t].close&&g.notices[t].close(!1)},g.removeStack=function(t){g.closeStack(t)},g.closeStack=function(t){if(!1!==t)for(var e=0;e<g.notices.length;e++)g.notices[e].close&&g.notices[e].get().stack===t&&g.notices[e].close(!1)},g.positionAll=function(){if(n&&clearTimeout(n),n=null,0<g.notices.length){for(var t=0;t<g.notices.length;t++){var e=g.notices[t].get().stack;e&&(e.overlay&&h(e),e.nextpos1=e.firstpos1,e.nextpos2=e.firstpos2,e.addpos2=0)}for(var i=0;i<g.notices.length;i++)g.notices[i].position()}else delete g.defaultStack.nextpos1,delete g.defaultStack.nextpos2},g.styling={brighttheme:{container:"brighttheme",notice:"brighttheme-notice",info:"brighttheme-info",success:"brighttheme-success",error:"brighttheme-error"},bootstrap3:{container:"alert",notice:"alert-warning",info:"alert-info",success:"alert-success",error:"alert-danger",icon:"ui-pnotify-icon-bs3"},bootstrap4:{container:"alert",notice:"alert-warning",info:"alert-info",success:"alert-success",error:"alert-danger",icon:"ui-pnotify-icon-bs4",title:"ui-pnotify-title-bs4"}},g.icons={brighttheme:{notice:"brighttheme-icon-notice",info:"brighttheme-icon-info",success:"brighttheme-icon-success",error:"brighttheme-icon-error"},bootstrap3:{notice:"glyphicon glyphicon-exclamation-sign",info:"glyphicon glyphicon-info-sign",success:"glyphicon glyphicon-ok-sign",error:"glyphicon glyphicon-warning-sign"},fontawesome4:{notice:"fa fa-exclamation-circle",info:"fa fa-info-circle",success:"fa fa-check-circle",error:"fa fa-exclamation-triangle"},fontawesome5:{notice:"fas fa-exclamation-circle",info:"fas fa-info-circle",success:"fas fa-check-circle",error:"fas fa-exclamation-triangle"}},window&&document.body?t():document.addEventListener("DOMContentLoaded",t),o},"object"===(void 0===exports?"undefined":_typeof(exports))&&void 0!==module?module.exports=e():"function"==typeof define&&define.amd?define("PNotify",e):t.PNotify=e()},{}],324:[function(require,module,exports){var t,e,_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t=this,e=function(o){"use strict";var t;function c(e,t){var s,n,i,o;function r(t){e.handleCloserClick()}return{c:function(){s=a("div"),(n=a("span")).className=t._closerClass+" svelte-1yjle82",_(s,"click",r),s.className=i="ui-pnotify-closer "+(!t.closerHover||t._mouseIsIn?"":"ui-pnotify-buttons-hidden")+" svelte-1yjle82",h(s,"role","button"),s.tabIndex="0",s.title=o=t.labels.close},m:function(t,e){f(s,t,e),u(n,s)},p:function(t,e){t._closerClass&&(n.className=e._closerClass+" svelte-1yjle82"),(t.closerHover||t._mouseIsIn)&&i!==(i="ui-pnotify-closer "+(!e.closerHover||e._mouseIsIn?"":"ui-pnotify-buttons-hidden")+" svelte-1yjle82")&&(s.className=i),t.labels&&o!==(o=e.labels.close)&&(s.title=o)},d:function(t){t&&p(s),d(s,"click",r)}}}function l(e,t){var s,n,i,o,r,c;function l(t){e.handleStickerClick()}return{c:function(){s=a("div"),(n=a("span")).className=i=(t._options.hide?t._pinUpClass:t._pinDownClass)+" svelte-1yjle82",_(s,"click",l),s.className=o="ui-pnotify-sticker "+(!t.stickerHover||t._mouseIsIn?"":"ui-pnotify-buttons-hidden")+" svelte-1yjle82",h(s,"role","button"),h(s,"aria-pressed",r=t._options.hide),s.tabIndex="0",s.title=c=t._options.hide?t.labels.stick:t.labels.unstick},m:function(t,e){f(s,t,e),u(n,s)},p:function(t,e){(t._options||t._pinUpClass||t._pinDownClass)&&i!==(i=(e._options.hide?e._pinUpClass:e._pinDownClass)+" svelte-1yjle82")&&(n.className=i),(t.stickerHover||t._mouseIsIn)&&o!==(o="ui-pnotify-sticker "+(!e.stickerHover||e._mouseIsIn?"":"ui-pnotify-buttons-hidden")+" svelte-1yjle82")&&(s.className=o),t._options&&r!==(r=e._options.hide)&&h(s,"aria-pressed",r),(t._options||t.labels)&&c!==(c=e._options.hide?e.labels.stick:e.labels.unstick)&&(s.title=c)},d:function(t){t&&p(s),d(s,"click",l)}}}function e(t){var e,s,n,i=this;s=t,(e=this)._handlers=Object.create(null),e._bind=s._bind,e.options=s,e.root=s.root||e,e.store=e.root.store||s.store,this._state=m(_extends({_notice:null,_options:{},_mouseIsIn:!1},o.modules.Buttons.defaults),t.data),this._recompute({sticker:1,_notice:1,closer:1,classes:1},this._state),this._intro=!0,document.getElementById("svelte-1yjle82-style")||((n=a("style")).id="svelte-1yjle82-style",n.textContent=".ui-pnotify-closer.svelte-1yjle82,.ui-pnotify-sticker.svelte-1yjle82{float:right;margin-left:.5em;cursor:pointer}[dir=rtl] .ui-pnotify-closer,[dir=rtl] .ui-pnotify-sticker{float:left;margin-right:.5em;margin-left:0}.ui-pnotify-buttons-hidden.svelte-1yjle82{visibility:hidden}",u(n,document.head)),t.root||(this._oncreate=[]),this._fragment=function(s,t){var n,i,o=t._showCloser&&c(s,t),r=t._showSticker&&l(s,t);return{c:function(){o&&o.c(),n=document.createTextNode("\n"),r&&r.c(),i=document.createComment("")},m:function(t,e){o&&o.m(t,e),f(n,t,e),r&&r.m(t,e),f(i,t,e)},p:function(t,e){e._showCloser?o?o.p(t,e):((o=c(s,e)).c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),e._showSticker?r?r.p(t,e):((r=l(s,e)).c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},d:function(t){o&&o.d(t),t&&p(n),r&&r.d(t),t&&p(i)}}}(this,this._state),this.root._oncreate.push(function(){(function(){this.fire("init",{module:this})}).call(i),i.fire("update",{changed:function(t,e){for(var s in e)t[s]=1;return t}({},i._state),current:i._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),y(this._oncreate))}function a(t){return document.createElement(t)}function u(t,e){e.appendChild(t)}function f(t,e,s){e.insertBefore(t,s)}function p(t){t.parentNode.removeChild(t)}function _(t,e,s){t.addEventListener(e,s,!1)}function h(t,e,s){t.setAttribute(e,s)}function d(t,e,s){t.removeEventListener(e,s,!1)}function m(t,e){for(var s in e)t[s]=e[s];return t}function y(t){for(;t&&t.length;)t.shift()()}function s(){}return o=o&&o.__esModule?o.default:o,m(e.prototype,{destroy:function(t){this.destroy=s,this.fire("destroy"),this.set=s,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:function(){return this._state},fire:function(t,e){var s=t in this._handlers&&this._handlers[t].slice();if(s)for(var n=0;n<s.length;n+=1){var i=s[n];i.__calling||(i.__calling=!0,i.call(this,e),i.__calling=!1)}},on:function(t,e){var s=this._handlers[t]||(this._handlers[t]=[]);return s.push(e),{cancel:function(){var t=s.indexOf(e);~t&&s.splice(t,1)}}},set:function(t){this._set(m({},t)),this.root._lock||(this.root._lock=!0,y(this.root._beforecreate),y(this.root._oncreate),y(this.root._aftercreate),this.root._lock=!1)},_set:function(t){var e=this._state,s={},n=!1;for(var i in t)this._differs(t[i],e[i])&&(s[i]=n=!0);n&&(this._state=m(m({},e),t),this._recompute(s,this._state),this._bind&&this._bind(s,this._state),this._fragment&&(this.fire("state",{changed:s,current:this._state,previous:e}),this._fragment.p(s,this._state),this.fire("update",{changed:s,current:this._state,previous:e})))},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:function(t,e){return t!=t?e==e:t!==e||t&&"object"===(void 0===t?"undefined":_typeof(t))||"function"==typeof t}}),m(e.prototype,{initModule:function(t){var i=this;this.set(t);var e=this.get()._notice;e.on("mouseenter",function(){return i.set({_mouseIsIn:!0})}),e.on("mouseleave",function(){return i.set({_mouseIsIn:!1})}),e.on("state",function(t){var e=t.changed,s=t.current;if(e.hide&&i.get().sticker){var n=s.hide?i.get().classes.pinUp:i.get().classes.pinDown;("fontawesome5"===i.get()._notice.get().icons||"string"==typeof n&&n.match(/(^| )fa[srlb]($| )/))&&(i.set({sticker:!1}),i.set({sticker:!0}))}})},handleStickerClick:function(){var t=this.get()._notice;t.update({hide:!t.get().hide})},handleCloserClick:function(){this.get()._notice.close(!1),this.set({_mouseIsIn:!1})}}),e.prototype._recompute=function(t,e){var s,n,i,o,r,c,l,a,u,f,p,_,h,d,m;(t.sticker||t._notice)&&this._differs(e._showSticker,e._showSticker=(n=(s=e).sticker,i=s._notice,n&&!(i&&i.refs.elem.classList.contains("nonblock"))))&&(t._showSticker=!0),(t.closer||t._notice)&&this._differs(e._showCloser,e._showCloser=(r=(o=e).closer,c=o._notice,r&&!(c&&c.refs.elem.classList.contains("nonblock"))))&&(t._showCloser=!0),(t.classes||t._notice)&&(this._differs(e._pinUpClass,e._pinUpClass=(d=(h=e).classes,(m=h._notice)?null===d.pinUp?m.get()._icons.pinUp:d.pinUp:""))&&(t._pinUpClass=!0),this._differs(e._pinDownClass,e._pinDownClass=(p=(f=e).classes,(_=f._notice)?null===p.pinDown?_.get()._icons.pinDown:p.pinDown:""))&&(t._pinDownClass=!0),this._differs(e._closerClass,e._closerClass=(a=(l=e).classes,(u=l._notice)?null===a.closer?u.get()._icons.closer:a.closer:""))&&(t._closerClass=!0))},(t=e).key="Buttons",t.defaults={closer:!0,closerHover:!0,sticker:!0,stickerHover:!0,labels:{close:"Close",stick:"Stick",unstick:"Unstick"},classes:{closer:null,pinUp:null,pinDown:null}},o.modules.Buttons=t,o.modulesPrependContainer.push(t),_extends(o.icons.brighttheme,{closer:"brighttheme-icon-closer",pinUp:"brighttheme-icon-sticker",pinDown:"brighttheme-icon-sticker brighttheme-icon-stuck"}),_extends(o.icons.bootstrap3,{closer:"glyphicon glyphicon-remove",pinUp:"glyphicon glyphicon-pause",pinDown:"glyphicon glyphicon-play"}),_extends(o.icons.fontawesome4,{closer:"fa fa-times",pinUp:"fa fa-pause",pinDown:"fa fa-play"}),_extends(o.icons.fontawesome5,{closer:"fas fa-times",pinUp:"fas fa-pause",pinDown:"fas fa-play"}),e},"object"===(void 0===exports?"undefined":_typeof(exports))&&void 0!==module?module.exports=e(require("./PNotify")):"function"==typeof define&&define.amd?define("PNotifyButtons",["./PNotify"],e):t.PNotifyButtons=e(PNotify)},{"./PNotify":323}],325:[function(require,module,exports){arguments[4][123][0].apply(exports,arguments)},{dup:123}],326:[function(require,module,exports){arguments[4][124][0].apply(exports,arguments)},{dup:124}],327:[function(require,module,exports){arguments[4][125][0].apply(exports,arguments)},{dup:125}],328:[function(require,module,exports){arguments[4][126][0].apply(exports,arguments)},{dup:126}],329:[function(require,module,exports){arguments[4][127][0].apply(exports,arguments)},{dup:127}],330:[function(require,module,exports){arguments[4][128][0].apply(exports,arguments)},{"./Func.js":325,"./List.js":326,"./Num.js":327,"./Obj.js":328,"./Str.js":329,dup:128}],331:[function(require,module,exports){(function(process){"use strict";!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports={nextTick:function(fn,arg1,arg2,arg3){if("function"!=typeof fn)throw new TypeError('"callback" argument must be a function');var args,i,len=arguments.length;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function(){fn.call(null,arg1)});case 3:return process.nextTick(function(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function(){fn.call(null,arg1,arg2,arg3)});default:for(args=new Array(len-1),i=0;i<args.length;)args[i++]=arguments[i];return process.nextTick(function(){fn.apply(null,args)})}}}:module.exports=process}).call(this,require("_process"))},{_process:332}],332:[function(require,module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],333:[function(require,module,exports){exports.publicEncrypt=require("./publicEncrypt"),exports.privateDecrypt=require("./privateDecrypt"),exports.privateEncrypt=function(key,buf){return exports.publicEncrypt(key,buf,!0)},exports.publicDecrypt=function(key,buf){return exports.privateDecrypt(key,buf,!0)}},{"./privateDecrypt":335,"./publicEncrypt":336}],334:[function(require,module,exports){(function(Buffer){var createHash=require("create-hash");function i2ops(c){var out=new Buffer(4);return out.writeUInt32BE(c,0),out}module.exports=function(seed,len){for(var c,t=new Buffer(""),i=0;t.length<len;)c=i2ops(i++),t=Buffer.concat([t,createHash("sha1").update(seed).update(c).digest()]);return t.slice(0,len)}}).call(this,require("buffer").Buffer)},{buffer:246,"create-hash":250}],335:[function(require,module,exports){(function(Buffer){var parseKeys=require("parse-asn1"),mgf=require("./mgf"),xor=require("./xor"),bn=require("bn.js"),crt=require("browserify-rsa"),createHash=require("create-hash"),withPublic=require("./withPublic");module.exports=function(private_key,enc,reverse){var padding;padding=private_key.padding?private_key.padding:reverse?1:4;var msg,key=parseKeys(private_key),k=key.modulus.byteLength();if(enc.length>k||new bn(enc).cmp(key.modulus)>=0)throw new Error("decryption error");msg=reverse?withPublic(new bn(enc),key):crt(enc,key);var zBuffer=new Buffer(k-msg.length);if(zBuffer.fill(0),msg=Buffer.concat([zBuffer,msg],k),4===padding)return function(key,msg){key.modulus;var k=key.modulus.byteLength(),iHash=(msg.length,createHash("sha1").update(new Buffer("")).digest()),hLen=iHash.length;if(0!==msg[0])throw new Error("decryption error");var maskedSeed=msg.slice(1,hLen+1),maskedDb=msg.slice(hLen+1),seed=xor(maskedSeed,mgf(maskedDb,hLen)),db=xor(maskedDb,mgf(seed,k-hLen-1));if(function(a,b){a=new Buffer(a),b=new Buffer(b);var dif=0,len=a.length;a.length!==b.length&&(dif++,len=Math.min(a.length,b.length));var i=-1;for(;++i<len;)dif+=a[i]^b[i];return dif}(iHash,db.slice(0,hLen)))throw new Error("decryption error");var i=hLen;for(;0===db[i];)i++;if(1!==db[i++])throw new Error("decryption error");return db.slice(i)}(key,msg);if(1===padding)return function(key,msg,reverse){var p1=msg.slice(0,2),i=2,status=0;for(;0!==msg[i++];)if(i>=msg.length){status++;break}var ps=msg.slice(2,i-1);msg.slice(i-1,i);("0002"!==p1.toString("hex")&&!reverse||"0001"!==p1.toString("hex")&&reverse)&&status++;ps.length<8&&status++;if(status)throw new Error("decryption error");return msg.slice(i)}(0,msg,reverse);if(3===padding)return msg;throw new Error("unknown padding")}}).call(this,require("buffer").Buffer)},{"./mgf":334,"./withPublic":337,"./xor":338,"bn.js":214,"browserify-rsa":237,buffer:246,"create-hash":250,"parse-asn1":317}],336:[function(require,module,exports){(function(Buffer){var parseKeys=require("parse-asn1"),randomBytes=require("randombytes"),createHash=require("create-hash"),mgf=require("./mgf"),xor=require("./xor"),bn=require("bn.js"),withPublic=require("./withPublic"),crt=require("browserify-rsa");module.exports=function(public_key,msg,reverse){var padding;padding=public_key.padding?public_key.padding:reverse?1:4;var paddedMsg,key=parseKeys(public_key);if(4===padding)paddedMsg=function(key,msg){var k=key.modulus.byteLength(),mLen=msg.length,iHash=createHash("sha1").update(new Buffer("")).digest(),hLen=iHash.length,hLen2=2*hLen;if(mLen>k-hLen2-2)throw new Error("message too long");var ps=new Buffer(k-mLen-hLen2-2);ps.fill(0);var dblen=k-hLen-1,seed=randomBytes(hLen),maskedDb=xor(Buffer.concat([iHash,ps,new Buffer([1]),msg],dblen),mgf(seed,dblen)),maskedSeed=xor(seed,mgf(maskedDb,hLen));return new bn(Buffer.concat([new Buffer([0]),maskedSeed,maskedDb],k))}(key,msg);else if(1===padding)paddedMsg=function(key,msg,reverse){var ps,mLen=msg.length,k=key.modulus.byteLength();if(mLen>k-11)throw new Error("message too long");reverse?(ps=new Buffer(k-mLen-3)).fill(255):ps=function(len,crypto){var num,out=new Buffer(len),i=0,cache=randomBytes(2*len),cur=0;for(;i<len;)cur===cache.length&&(cache=randomBytes(2*len),cur=0),(num=cache[cur++])&&(out[i++]=num);return out}(k-mLen-3);return new bn(Buffer.concat([new Buffer([0,reverse?1:2]),ps,new Buffer([0]),msg],k))}(key,msg,reverse);else{if(3!==padding)throw new Error("unknown padding");if((paddedMsg=new bn(msg)).cmp(key.modulus)>=0)throw new Error("data too long for modulus")}return reverse?crt(paddedMsg,key):withPublic(paddedMsg,key)}}).call(this,require("buffer").Buffer)},{"./mgf":334,"./withPublic":337,"./xor":338,"bn.js":214,"browserify-rsa":237,buffer:246,"create-hash":250,"parse-asn1":317,randombytes:339}],337:[function(require,module,exports){(function(Buffer){var bn=require("bn.js");module.exports=function(paddedMsg,key){return new Buffer(paddedMsg.toRed(bn.mont(key.modulus)).redPow(new bn(key.publicExponent)).fromRed().toArray())}}).call(this,require("buffer").Buffer)},{"bn.js":214,buffer:246}],338:[function(require,module,exports){module.exports=function(a,b){for(var len=a.length,i=-1;++i<len;)a[i]^=b[i];return a}},{}],339:[function(require,module,exports){(function(process,global){"use strict";var Buffer=require("safe-buffer").Buffer,crypto=global.crypto||global.msCrypto;crypto&&crypto.getRandomValues?module.exports=function(size,cb){if(size>65536)throw new Error("requested too many random bytes");var rawBytes=new global.Uint8Array(size);size>0&&crypto.getRandomValues(rawBytes);var bytes=Buffer.from(rawBytes.buffer);if("function"==typeof cb)return process.nextTick(function(){cb(null,bytes)});return bytes}:module.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:332,"safe-buffer":355}],340:[function(require,module,exports){(function(process,global){"use strict";function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var safeBuffer=require("safe-buffer"),randombytes=require("randombytes"),Buffer=safeBuffer.Buffer,kBufferMaxLength=safeBuffer.kMaxLength,crypto=global.crypto||global.msCrypto,kMaxUint32=Math.pow(2,32)-1;function assertOffset(offset,length){if("number"!=typeof offset||offset!=offset)throw new TypeError("offset must be a number");if(offset>kMaxUint32||offset<0)throw new TypeError("offset must be a uint32");if(offset>kBufferMaxLength||offset>length)throw new RangeError("offset out of range")}function assertSize(size,offset,length){if("number"!=typeof size||size!=size)throw new TypeError("size must be a number");if(size>kMaxUint32||size<0)throw new TypeError("size must be a uint32");if(size+offset>length||size>kBufferMaxLength)throw new RangeError("buffer too small")}function actualFill(buf,offset,size,cb){if(process.browser){var ourBuf=buf.buffer,uint=new Uint8Array(ourBuf,offset,size);return crypto.getRandomValues(uint),cb?void process.nextTick(function(){cb(null,buf)}):buf}if(!cb)return randombytes(size).copy(buf,offset),buf;randombytes(size,function(err,bytes){if(err)return cb(err);bytes.copy(buf,offset),cb(null,buf)})}crypto&&crypto.getRandomValues||!process.browser?(exports.randomFill=function(buf,offset,size,cb){if(!(Buffer.isBuffer(buf)||buf instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof offset)cb=offset,offset=0,size=buf.length;else if("function"==typeof size)cb=size,size=buf.length-offset;else if("function"!=typeof cb)throw new TypeError('"cb" argument must be a function');return assertOffset(offset,buf.length),assertSize(size,offset,buf.length),actualFill(buf,offset,size,cb)},exports.randomFillSync=function(buf,offset,size){void 0===offset&&(offset=0);if(!(Buffer.isBuffer(buf)||buf instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');assertOffset(offset,buf.length),void 0===size&&(size=buf.length-offset);return assertSize(size,offset,buf.length),actualFill(buf,offset,size)}):(exports.randomFill=oldBrowser,exports.randomFillSync=oldBrowser)}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:332,randombytes:339,"safe-buffer":355}],341:[function(require,module,exports){module.exports=require("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":342}],342:[function(require,module,exports){"use strict";var pna=require("process-nextick-args"),objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),options&&!1===options.readable&&(this.readable=!1),options&&!1===options.writable&&(this.writable=!1),this.allowHalfOpen=!0,options&&!1===options.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||pna.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(value){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}}),Duplex.prototype._destroy=function(err,cb){this.push(null),this.end(),pna.nextTick(cb,err)}},{"./_stream_readable":344,"./_stream_writable":346,"core-util-is":248,inherits:300,"process-nextick-args":331}],343:[function(require,module,exports){"use strict";module.exports=PassThrough;var Transform=require("./_stream_transform"),util=require("core-util-is");function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}util.inherits=require("inherits"),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":345,"core-util-is":248,inherits:300}],344:[function(require,module,exports){(function(process,global){"use strict";var pna=require("process-nextick-args");module.exports=Readable;var Duplex,isArray=require("isarray");Readable.ReadableState=ReadableState;require("events").EventEmitter;var EElistenerCount=function(emitter,type){return emitter.listeners(type).length},Stream=require("./internal/streams/stream"),Buffer=require("safe-buffer").Buffer,OurUint8Array=global.Uint8Array||function(){};var util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util"),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder,BufferList=require("./internal/streams/BufferList"),destroyImpl=require("./internal/streams/destroy");util.inherits(Readable,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];function ReadableState(options,stream){Duplex=Duplex||require("./_stream_duplex"),options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,readableHwm=options.readableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(readableHwm||0===readableHwm)?readableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||require("./_stream_duplex"),!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this),this.readable=!0,options&&("function"==typeof options.read&&(this._read=options.read),"function"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){var er,state=stream._readableState;null===chunk?(state.reading=!1,function(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}(stream,state)):(skipChunkCheck||(er=function(state,chunk){var er;obj=chunk,Buffer.isBuffer(obj)||obj instanceof OurUint8Array||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk"));var obj;return er}(state,chunk)),er?stream.emit("error",er):state.objectMode||chunk&&chunk.length>0?("string"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),addToFront?state.endEmitted?stream.emit("error",new Error("stream.unshift() after end event")):addChunk(stream,state,chunk,!0):state.ended?stream.emit("error",new Error("stream.push() after EOF")):(state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1))):addToFront||(state.reading=!1));return function(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}(state)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){this.push(null),cb(err)},Readable.prototype.push=function(chunk,encoding){var skipChunkCheck,state=this._readableState;return state.objectMode?skipChunkCheck=!0:"string"==typeof chunk&&((encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=""),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!=n?state.flowing&&state.length?state.buffer.head.data.length:state.length:(n>state.highWaterMark&&(state.highWaterMark=function(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?pna.nextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,pna.nextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,state.awaitDrain=0,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){return 0===state.length?null:(state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(""):1===state.buffer.length?state.buffer.head.data:state.buffer.concat(state.length),state.buffer.clear()):ret=function(n,list,hasStrings){var ret;n<list.head.data.length?(ret=list.head.data.slice(0,n),list.head.data=list.head.data.slice(n)):ret=n===list.head.data.length?list.shift():hasStrings?function(n,list){var p=list.head,c=1,ret=p.data;n-=ret.length;for(;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=str.slice(nb));break}++c}return list.length-=c,ret}(n,list):function(n,list){var ret=Buffer.allocUnsafe(n),p=list.head,c=1;p.data.copy(ret),n-=p.data.length;for(;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=buf.slice(nb));break}++c}return list.length-=c,ret}(n,list);return ret}(n,state.buffer,state.decoder),ret);var ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,pna.nextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}Readable.prototype.read=function(n){debug("read",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var ret,doRead=state.needReadable;return debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&debug("length less than watermark",doRead=!0),state.ended||state.reading?debug("reading or ended",doRead=!1):doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state))),null===(ret=n>0?fromList(n,state):null)?(state.needReadable=!0,n=0):state.length-=n,0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var endFn=(!pipeOpts||!1!==pipeOpts.end)&&dest!==process.stdout&&dest!==process.stderr?onend:unpipe;function onunpipe(readable,unpipeInfo){debug("onunpipe"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",unpipe),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain())}function onend(){debug("onend"),dest.end()}state.endEmitted?pna.nextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=function(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}(src);dest.on("drain",ondrain);var cleanedUp=!1;var increasedAwaitDrain=!1;function ondata(chunk){debug("ondata"),increasedAwaitDrain=!1,!1!==dest.write(chunk)||increasedAwaitDrain||((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++,increasedAwaitDrain=!0),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}return src.on("data",ondata),function(emitter,event,fn){if("function"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this,unpipeInfo),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this,unpipeInfo);return this}var index=indexOf(state.pipes,dest);return-1===index?this:(state.pipes.splice(index,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this,unpipeInfo),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev)!1!==this._readableState.flowing&&this.resume();else if("readable"===ev){var state=this._readableState;state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.emittedReadable=!1,state.reading?state.length&&emitReadable(this):pna.nextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,function(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,pna.nextTick(resume_,stream,state))}(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var _this=this,state=this._readableState,paused=!1;for(var i in stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&_this.push(chunk)}_this.push(null)}),stream.on("data",function(chunk){(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),!state.objectMode||null!==chunk&&void 0!==chunk)&&((state.objectMode||chunk&&chunk.length)&&(_this.push(chunk)||(paused=!0,stream.pause())))}),stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]));return this._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},this},Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Readable._fromList=fromList}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":342,"./internal/streams/BufferList":347,"./internal/streams/destroy":348,"./internal/streams/stream":349,_process:332,"core-util-is":248,events:282,inherits:300,isarray:302,"process-nextick-args":331,"safe-buffer":355,"string_decoder/":366,util:216}],345:[function(require,module,exports){"use strict";module.exports=Transform;var Duplex=require("./_stream_duplex"),util=require("core-util-is");function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState={afterTransform:function(er,data){var ts=this._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return this.emit("error",new Error("write callback called multiple times"));ts.writechunk=null,ts.writecb=null,null!=data&&this.push(data),cb(er);var rs=this._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.on("prefinish",prefinish)}function prefinish(){var _this=this;"function"==typeof this._flush?this._flush(function(er,data){done(_this,er,data)}):done(this,null,null)}function done(stream,er,data){if(er)return stream.emit("error",er);if(null!=data&&stream.push(data),stream._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(stream._transformState.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}util.inherits=require("inherits"),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0},Transform.prototype._destroy=function(err,cb){var _this2=this;Duplex.prototype._destroy.call(this,err,function(err2){cb(err2),_this2.emit("close")})}},{"./_stream_duplex":342,"core-util-is":248,inherits:300}],346:[function(require,module,exports){(function(process,global,setImmediate){"use strict";var pna=require("process-nextick-args");function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){!function(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;for(;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=corkReq:state.corkedRequestsFree=corkReq}(_this,state)}}module.exports=Writable;var Duplex,asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:pna.nextTick;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var internalUtil={deprecate:require("util-deprecate")},Stream=require("./internal/streams/stream"),Buffer=require("safe-buffer").Buffer,OurUint8Array=global.Uint8Array||function(){};var realHasInstance,destroyImpl=require("./internal/streams/destroy");function nop(){}function WritableState(options,stream){Duplex=Duplex||require("./_stream_duplex"),options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,writableHwm=options.writableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(writableHwm||0===writableHwm)?writableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){!function(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(function(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}(state),er)!function(stream,state,sync,er,cb){--state.pendingcb,sync?(pna.nextTick(cb,er),pna.nextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,stream.emit("error",er)):(cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er),finishMaybe(stream,state))}(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){if(Duplex=Duplex||require("./_stream_duplex"),!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev),"function"==typeof options.destroy&&(this._destroy=options.destroy),"function"==typeof options.final&&(this._final=options.final)),Stream.call(this)}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function afterWrite(stream,state,finished,cb){finished||function(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)buffer[count]=entry,entry.isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state),state.bufferedRequestCount=0}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.bufferedRequestCount--,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--,err&&stream.emit("error",err),state.prefinished=!0,stream.emit("prefinish"),finishMaybe(stream,state)})}function finishMaybe(stream,state){var need=needFinish(state);return need&&(!function(stream,state){state.prefinished||state.finalCalled||("function"==typeof stream._final?(state.pendingcb++,state.finalCalled=!0,pna.nextTick(callFinal,stream,state)):(state.prefinished=!0,stream.emit("prefinish")))}(stream,state),0===state.pendingcb&&(state.finished=!0,stream.emit("finish"))),need}util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||this===Writable&&(object&&object._writableState instanceof WritableState)}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var obj,state=this._writableState,ret=!1,isBuf=!state.objectMode&&(obj=chunk,Buffer.isBuffer(obj)||obj instanceof OurUint8Array);return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),"function"==typeof encoding&&(cb=encoding,encoding=null),isBuf?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?function(stream,cb){var er=new Error("write after end");stream.emit("error",er),pna.nextTick(cb,er)}(this,cb):(isBuf||function(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),pna.nextTick(cb,er),valid=!1),valid}(this,state,chunk,cb))&&(state.pendingcb++,ret=function(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=function(state,chunk,encoding){state.objectMode||!1===state.decodeStrings||"string"!=typeof chunk||(chunk=Buffer.from(chunk,encoding));return chunk}(state,chunk,encoding);chunk!==newChunk&&(isBuf=!0,encoding="buffer",chunk=newChunk)}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;ret||(state.needDrain=!0);if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||function(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?pna.nextTick(cb):stream.once("finish",cb));state.ended=!0,stream.writable=!1}(this,state,cb)},Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){this.end(),cb(err)}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("timers").setImmediate)},{"./_stream_duplex":342,"./internal/streams/destroy":348,"./internal/streams/stream":349,_process:332,"core-util-is":248,inherits:300,"process-nextick-args":331,"safe-buffer":355,timers:367,"util-deprecate":368}],347:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer,util=require("util");module.exports=function(){function BufferList(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function(v){var entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length},BufferList.prototype.unshift=function(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret},BufferList.prototype.concat=function(n){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var src,target,offset,ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)src=p.data,target=ret,offset=i,src.copy(target,offset),i+=p.data.length,p=p.next;return ret},BufferList}(),util&&util.inspect&&util.inspect.custom&&(module.exports.prototype[util.inspect.custom]=function(){var obj=util.inspect({length:this.length});return this.constructor.name+" "+obj})},{"safe-buffer":355,util:216}],348:[function(require,module,exports){"use strict";var pna=require("process-nextick-args");function emitErrorNT(self,err){self.emit("error",err)}module.exports={destroy:function(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;return readableDestroyed||writableDestroyed?(cb?cb(err):!err||this._writableState&&this._writableState.errorEmitted||pna.nextTick(emitErrorNT,this,err),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,function(err){!cb&&err?(pna.nextTick(emitErrorNT,_this,err),_this._writableState&&(_this._writableState.errorEmitted=!0)):cb&&cb(err)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":331}],349:[function(require,module,exports){module.exports=require("events").EventEmitter},{events:282}],350:[function(require,module,exports){module.exports=require("./readable").PassThrough},{"./readable":351}],351:[function(require,module,exports){(exports=module.exports=require("./lib/_stream_readable.js")).Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":342,"./lib/_stream_passthrough.js":343,"./lib/_stream_readable.js":344,"./lib/_stream_transform.js":345,"./lib/_stream_writable.js":346}],352:[function(require,module,exports){module.exports=require("./readable").Transform},{"./readable":351}],353:[function(require,module,exports){module.exports=require("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":346}],354:[function(require,module,exports){"use strict";var Buffer=require("buffer").Buffer,inherits=require("inherits"),HashBase=require("hash-base"),ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function rotl(x,n){return x<<n|x>>>32-n}function fn1(a,b,c,d,e,m,k,s){return rotl(a+(b^c^d)+m+k|0,s)+e|0}function fn2(a,b,c,d,e,m,k,s){return rotl(a+(b&c|~b&d)+m+k|0,s)+e|0}function fn3(a,b,c,d,e,m,k,s){return rotl(a+((b|~c)^d)+m+k|0,s)+e|0}function fn4(a,b,c,d,e,m,k,s){return rotl(a+(b&d|c&~d)+m+k|0,s)+e|0}function fn5(a,b,c,d,e,m,k,s){return rotl(a+(b^(c|~d))+m+k|0,s)+e|0}inherits(RIPEMD160,HashBase),RIPEMD160.prototype._update=function(){for(var words=ARRAY16,j=0;j<16;++j)words[j]=this._block.readInt32LE(4*j);for(var al=0|this._a,bl=0|this._b,cl=0|this._c,dl=0|this._d,el=0|this._e,ar=0|this._a,br=0|this._b,cr=0|this._c,dr=0|this._d,er=0|this._e,i=0;i<80;i+=1){var tl,tr;i<16?(tl=fn1(al,bl,cl,dl,el,words[zl[i]],hl[0],sl[i]),tr=fn5(ar,br,cr,dr,er,words[zr[i]],hr[0],sr[i])):i<32?(tl=fn2(al,bl,cl,dl,el,words[zl[i]],hl[1],sl[i]),tr=fn4(ar,br,cr,dr,er,words[zr[i]],hr[1],sr[i])):i<48?(tl=fn3(al,bl,cl,dl,el,words[zl[i]],hl[2],sl[i]),tr=fn3(ar,br,cr,dr,er,words[zr[i]],hr[2],sr[i])):i<64?(tl=fn4(al,bl,cl,dl,el,words[zl[i]],hl[3],sl[i]),tr=fn2(ar,br,cr,dr,er,words[zr[i]],hr[3],sr[i])):(tl=fn5(al,bl,cl,dl,el,words[zl[i]],hl[4],sl[i]),tr=fn1(ar,br,cr,dr,er,words[zr[i]],hr[4],sr[i])),al=el,el=dl,dl=rotl(cl,10),cl=bl,bl=tl,ar=er,er=dr,dr=rotl(cr,10),cr=br,br=tr}var t=this._b+cl+dr|0;this._b=this._c+dl+er|0,this._c=this._d+el+ar|0,this._d=this._e+al+br|0,this._e=this._a+bl+cr|0,this._a=t},RIPEMD160.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var buffer=Buffer.alloc?Buffer.alloc(20):new Buffer(20);return buffer.writeInt32LE(this._a,0),buffer.writeInt32LE(this._b,4),buffer.writeInt32LE(this._c,8),buffer.writeInt32LE(this._d,12),buffer.writeInt32LE(this._e,16),buffer},module.exports=RIPEMD160},{buffer:246,"hash-base":284,inherits:300}],355:[function(require,module,exports){arguments[4][129][0].apply(exports,arguments)},{buffer:246,dup:129}],356:[function(require,module,exports){arguments[4][131][0].apply(exports,arguments)},{dup:131,"safe-buffer":355}],357:[function(require,module,exports){arguments[4][132][0].apply(exports,arguments)},{"./sha":358,"./sha1":359,"./sha224":360,"./sha256":361,"./sha384":362,"./sha512":363,dup:132}],358:[function(require,module,exports){arguments[4][133][0].apply(exports,arguments)},{"./hash":356,dup:133,inherits:300,"safe-buffer":355}],359:[function(require,module,exports){arguments[4][134][0].apply(exports,arguments)},{"./hash":356,dup:134,inherits:300,"safe-buffer":355}],360:[function(require,module,exports){arguments[4][135][0].apply(exports,arguments)},{"./hash":356,"./sha256":361,dup:135,inherits:300,"safe-buffer":355}],361:[function(require,module,exports){arguments[4][136][0].apply(exports,arguments)},{"./hash":356,dup:136,inherits:300,"safe-buffer":355}],362:[function(require,module,exports){arguments[4][137][0].apply(exports,arguments)},{"./hash":356,"./sha512":363,dup:137,inherits:300,"safe-buffer":355}],363:[function(require,module,exports){arguments[4][138][0].apply(exports,arguments)},{"./hash":356,dup:138,inherits:300,"safe-buffer":355}],364:[function(require,module,exports){var root,factory;root=this,factory=function(){var Sifter=function(items,settings){this.items=items,this.settings=settings||{diacritics:!0}};Sifter.prototype.tokenize=function(query){if(!(query=trim(String(query||"").toLowerCase()))||!query.length)return[];var i,n,regex,letter,tokens=[],words=query.split(/ +/);for(i=0,n=words.length;i<n;i++){if(regex=escape_regex(words[i]),this.settings.diacritics)for(letter in DIACRITICS)DIACRITICS.hasOwnProperty(letter)&&(regex=regex.replace(new RegExp(letter,"g"),DIACRITICS[letter]));tokens.push({string:words[i],regex:new RegExp(regex,"i")})}return tokens},Sifter.prototype.iterator=function(object,callback){(is_array(object)?Array.prototype.forEach||function(callback){for(var i=0,n=this.length;i<n;i++)callback(this[i],i,this)}:function(callback){for(var key in this)this.hasOwnProperty(key)&&callback(this[key],key,this)}).apply(object,[callback])},Sifter.prototype.getScoreFunction=function(search,options){var fields,tokens,token_count,nesting;search=this.prepareSearch(search,options),tokens=search.tokens,fields=search.options.fields,token_count=tokens.length,nesting=search.options.nesting;var field_count,scoreValue=function(value,token){var score,pos;return value?-1===(pos=(value=String(value||"")).search(token.regex))?0:(score=token.string.length/value.length,0===pos&&(score+=.5),score):0},scoreObject=(field_count=fields.length)?1===field_count?function(token,data){return scoreValue(getattr(data,fields[0],nesting),token)}:function(token,data){for(var i=0,sum=0;i<field_count;i++)sum+=scoreValue(getattr(data,fields[i],nesting),token);return sum/field_count}:function(){return 0};return token_count?1===token_count?function(data){return scoreObject(tokens[0],data)}:"and"===search.options.conjunction?function(data){for(var score,i=0,sum=0;i<token_count;i++){if((score=scoreObject(tokens[i],data))<=0)return 0;sum+=score}return sum/token_count}:function(data){for(var i=0,sum=0;i<token_count;i++)sum+=scoreObject(tokens[i],data);return sum/token_count}:function(){return 0}},Sifter.prototype.getSortFunction=function(search,options){var i,n,self,field,fields,fields_count,multiplier,multipliers,get_field,implicit_score,sort;if(sort=!(search=(self=this).prepareSearch(search,options)).query&&options.sort_empty||options.sort,get_field=function(name,result){return"$score"===name?result.score:getattr(self.items[result.id],name,options.nesting)},fields=[],sort)for(i=0,n=sort.length;i<n;i++)(search.query||"$score"!==sort[i].field)&&fields.push(sort[i]);if(search.query){for(implicit_score=!0,i=0,n=fields.length;i<n;i++)if("$score"===fields[i].field){implicit_score=!1;break}implicit_score&&fields.unshift({field:"$score",direction:"desc"})}else for(i=0,n=fields.length;i<n;i++)if("$score"===fields[i].field){fields.splice(i,1);break}for(multipliers=[],i=0,n=fields.length;i<n;i++)multipliers.push("desc"===fields[i].direction?-1:1);return(fields_count=fields.length)?1===fields_count?(field=fields[0].field,multiplier=multipliers[0],function(a,b){return multiplier*cmp(get_field(field,a),get_field(field,b))}):function(a,b){var i,result,field;for(i=0;i<fields_count;i++)if(field=fields[i].field,result=multipliers[i]*cmp(get_field(field,a),get_field(field,b)))return result;return 0}:null},Sifter.prototype.prepareSearch=function(query,options){if("object"==typeof query)return query;var option_fields=(options=extend({},options)).fields,option_sort=options.sort,option_sort_empty=options.sort_empty;return option_fields&&!is_array(option_fields)&&(options.fields=[option_fields]),option_sort&&!is_array(option_sort)&&(options.sort=[option_sort]),option_sort_empty&&!is_array(option_sort_empty)&&(options.sort_empty=[option_sort_empty]),{options:options,query:String(query||"").toLowerCase(),tokens:this.tokenize(query),total:0,items:[]}},Sifter.prototype.search=function(query,options){var score,search,fn_sort,fn_score;return search=this.prepareSearch(query,options),options=search.options,query=search.query,fn_score=options.score||this.getScoreFunction(search),query.length?this.iterator(this.items,function(item,id){score=fn_score(item),(!1===options.filter||score>0)&&search.items.push({score:score,id:id})}):this.iterator(this.items,function(item,id){search.items.push({score:1,id:id})}),(fn_sort=this.getSortFunction(search,options))&&search.items.sort(fn_sort),search.total=search.items.length,"number"==typeof options.limit&&(search.items=search.items.slice(0,options.limit)),search};var cmp=function(a,b){return"number"==typeof a&&"number"==typeof b?a>b?1:a<b?-1:0:(a=asciifold(String(a||"")))>(b=asciifold(String(b||"")))?1:b>a?-1:0},extend=function(a,b){var i,n,k,object;for(i=1,n=arguments.length;i<n;i++)if(object=arguments[i])for(k in object)object.hasOwnProperty(k)&&(a[k]=object[k]);return a},getattr=function(obj,name,nesting){if(obj&&name){if(!nesting)return obj[name];for(var names=name.split(".");names.length&&(obj=obj[names.shift()]););return obj}},trim=function(str){return(str+"").replace(/^\s+|\s+$|/g,"")},escape_regex=function(str){return(str+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},is_array=Array.isArray||"undefined"!=typeof $&&$.isArray||function(object){return"[object Array]"===Object.prototype.toString.call(object)},DIACRITICS={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"},asciifold=function(){var i,n,k,chunk,foreignletters="",lookup={};for(k in DIACRITICS)if(DIACRITICS.hasOwnProperty(k))for(foreignletters+=chunk=DIACRITICS[k].substring(2,DIACRITICS[k].length-1),i=0,n=chunk.length;i<n;i++)lookup[chunk.charAt(i)]=k;var regexp=new RegExp("["+foreignletters+"]","g");return function(str){return str.replace(regexp,function(foreignletter){return lookup[foreignletter]}).toLowerCase()}}();return Sifter},"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?module.exports=factory():root.Sifter=factory()},{}],365:[function(require,module,exports){module.exports=Stream;var EE=require("events").EventEmitter;function Stream(){EE.call(this)}require("inherits")(Stream,EE),Stream.Readable=require("readable-stream/readable.js"),Stream.Writable=require("readable-stream/writable.js"),Stream.Duplex=require("readable-stream/duplex.js"),Stream.Transform=require("readable-stream/transform.js"),Stream.PassThrough=require("readable-stream/passthrough.js"),Stream.Stream=Stream,Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}source.on("data",ondata),dest.on("drain",ondrain),dest._isStdio||options&&!1===options.end||(source.on("end",onend),source.on("close",onclose));var didOnEnd=!1;function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,"function"==typeof dest.destroy&&dest.destroy())}function onerror(er){if(cleanup(),0===EE.listenerCount(this,"error"))throw er}function cleanup(){source.removeListener("data",ondata),dest.removeListener("drain",ondrain),source.removeListener("end",onend),source.removeListener("close",onclose),source.removeListener("error",onerror),dest.removeListener("error",onerror),source.removeListener("end",cleanup),source.removeListener("close",cleanup),dest.removeListener("close",cleanup)}return source.on("error",onerror),dest.on("error",onerror),source.on("end",cleanup),source.on("close",cleanup),dest.on("close",cleanup),dest.emit("pipe",source),dest}},{events:282,inherits:300,"readable-stream/duplex.js":341,"readable-stream/passthrough.js":350,"readable-stream/readable.js":351,"readable-stream/transform.js":352,"readable-stream/writable.js":353}],366:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer,isEncoding=Buffer.isEncoding||function(encoding){switch((encoding=""+encoding)&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function StringDecoder(encoding){var nb;switch(this.encoding=function(enc){var nenc=function(enc){if(!enc)return"utf8";for(var retried;;)switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase(),retried=!0}}(enc);if("string"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}(encoding),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,nb=4;break;case"utf8":this.fillLast=utf8FillLast,nb=4;break;case"base64":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(nb)}function utf8CheckByte(byte){return byte<=127?0:byte>>5==6?2:byte>>4==14?3:byte>>3==30?4:byte>>6==2?-1:-2}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=function(self,buf,p){if(128!=(192&buf[0]))return self.lastNeed=0,"�";if(self.lastNeed>1&&buf.length>1){if(128!=(192&buf[1]))return self.lastNeed=1,"�";if(self.lastNeed>2&&buf.length>2&&128!=(192&buf[2]))return self.lastNeed=2,"�"}}(this,buf);return void 0!==r?r:this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(buf.copy(this.lastChar,p,0,buf.length),void(this.lastNeed-=buf.length))}function utf16Text(buf,i){if((buf.length-i)%2==0){var r=buf.toString("utf16le",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString("utf16le",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0===n?buf.toString("base64",i):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString("base64",i,buf.length-n))}function base64End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+this.lastChar.toString("base64",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}exports.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(buf){if(0===buf.length)return"";var r,i;if(this.lastNeed){if(void 0===(r=this.fillLast(buf)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||""},StringDecoder.prototype.end=function(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+"�":r},StringDecoder.prototype.text=function(buf,i){var total=function(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);if(nb>=0)return nb>0&&(self.lastNeed=nb-1),nb;if(--j<i||-2===nb)return 0;if((nb=utf8CheckByte(buf[j]))>=0)return nb>0&&(self.lastNeed=nb-2),nb;if(--j<i||-2===nb)return 0;if((nb=utf8CheckByte(buf[j]))>=0)return nb>0&&(2===nb?nb=0:self.lastNeed=nb-3),nb;return 0}(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString("utf8",i,end)},StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length}},{"safe-buffer":355}],367:[function(require,module,exports){(function(setImmediate,clearImmediate){var nextTick=require("process/browser.js").nextTick,apply=Function.prototype.apply,slice=Array.prototype.slice,immediateIds={},nextImmediateId=0;function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout(function(){item._onTimeout&&item._onTimeout()},msecs))},exports.setImmediate="function"==typeof setImmediate?setImmediate:function(fn){var id=nextImmediateId++,args=!(arguments.length<2)&&slice.call(arguments,1);return immediateIds[id]=!0,nextTick(function(){immediateIds[id]&&(args?fn.apply(null,args):fn.call(null),exports.clearImmediate(id))}),id},exports.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(id){delete immediateIds[id]}}).call(this,require("timers").setImmediate,require("timers").clearImmediate)},{"process/browser.js":332,timers:367}],368:[function(require,module,exports){(function(global){function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null!=val&&"true"===String(val).toLowerCase()}module.exports=function(fn,msg){if(config("noDeprecation"))return fn;var warned=!1;return function(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);config("traceDeprecation")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],369:[function(require,module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],370:[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}i=1;for(var args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];i<len;x=args[++i])isNull(x)||!isObject(x)?str+=" "+x:str+=" "+inspect(x);return str},exports.deprecate=function(fn,msg){if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(!0===process.noDeprecation)return fn;var warned=!1;return function(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}};var debugEnviron,debugs={};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=function(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=function(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var output,base="",array=!1,braces=["{","}"];(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value))&&(base=" [Function"+(value.name?": "+value.name:"")+"]");return isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0!==keys.length||array&&0!=value.length?recurseTimes<0?isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special"):(ctx.seen.push(value),output=array?function(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),function(output,base,braces){if(output.reduce(function(prev,cur){return 0,cur.indexOf("\n")>=0&&0,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1];return braces[0]+base+" "+output.join(", ")+" "+braces[1]}(output,base,braces)):braces[0]+base+braces[1]}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if((desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]}).get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1)).indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=function(arg){return"symbol"==typeof arg},exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=function(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}exports.log=function(){var d,time;console.log("%s - %s",(d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":"),[d.getDate(),months[d.getMonth()],time].join(" ")),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":369,_process:332,inherits:300}],371:[function(require,module,exports){arguments[4][139][0].apply(exports,arguments)},{crypto:254,dup:139}],372:[function(require,module,exports){var indexOf=require("indexof"),Object_keys=function(obj){if(Object.keys)return Object.keys(obj);var res=[];for(var key in obj)res.push(key);return res},forEach=function(xs,fn){if(xs.forEach)return xs.forEach(fn);for(var i=0;i<xs.length;i++)fn(xs[i],i,xs)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(obj,name,value){Object.defineProperty(obj,name,{writable:!0,enumerable:!1,configurable:!0,value:value})}}catch(e){return function(obj,name,value){obj[name]=value}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(code){if(!(this instanceof Script))return new Script(code);this.code=code};Script.prototype.runInContext=function(context){if(!(context instanceof Context))throw new TypeError("needs a 'context' argument.");var iframe=document.createElement("iframe");iframe.style||(iframe.style={}),iframe.style.display="none",document.body.appendChild(iframe);var win=iframe.contentWindow,wEval=win.eval,wExecScript=win.execScript;!wEval&&wExecScript&&(wExecScript.call(win,"null"),wEval=win.eval),forEach(Object_keys(context),function(key){win[key]=context[key]}),forEach(globals,function(key){context[key]&&(win[key]=context[key])});var winKeys=Object_keys(win),res=wEval.call(win,this.code);return forEach(Object_keys(win),function(key){(key in context||-1===indexOf(winKeys,key))&&(context[key]=win[key])}),forEach(globals,function(key){key in context||defineProp(context,key,win[key])}),document.body.removeChild(iframe),res},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(context){var ctx=Script.createContext(context),res=this.runInContext(ctx);return forEach(Object_keys(ctx),function(key){context[key]=ctx[key]}),res},forEach(Object_keys(Script.prototype),function(name){exports[name]=Script[name]=function(code){var s=Script(code);return s[name].apply(s,[].slice.call(arguments,1))}}),exports.createScript=function(code){return exports.Script(code)},exports.createContext=Script.createContext=function(context){var copy=new Context;return"object"==typeof context&&forEach(Object_keys(context),function(key){copy[key]=context[key]}),copy}},{indexof:299}],373:[function(require,module,exports){Ractive.components.about=Ractive.extend({template:{v:4,t:[{t:7,e:"h1",m:[{t:13,n:"class",f:"ui header top attached block big",g:1}],f:["İletişim"]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui segment bottom attached",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"ui grid equal width stackable",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"column",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui p",g:1}],f:["Her türlü istek, sorun ve öneri için (Türkçe de yazabilirsiniz): ",{t:7,e:"br"},{t:7,e:"br"},{t:7,e:"a",m:[{n:"href",f:"https://github.com/ceremcem/vote-is-well/issues",t:13,g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui big label green",g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"github",g:1}],f:["Github"]}]}]}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"column",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"ui p",g:1}],f:["Duyuruları takip etmek için: ",{t:7,e:"br"},{t:7,e:"br"},{t:7,e:"a",m:[{n:"href",f:"https://twitter.com/acikteyit",t:13,g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui big label blue",g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"twitter",g:1}],f:["@acikteyit"]}]}]}]}]}]}]},{t:7,e:"h1",m:[{t:13,n:"class",f:"ui header top attached block big",g:1}],f:["Açıklamalar"]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui segment bottom attached",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui accordion",g:1},{n:"accordion",t:71}],f:[{t:7,e:"anchor",f:["design"]},{t:7,e:"div",m:[{t:13,n:"class",f:"title",g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"dropdown",g:1}],f:["Tasarım kriterleri"]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"content",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui p",g:1}],f:["Sistemin tasarımında dikkate alınan hedefler şunlardır: "]},{t:7,e:"ol",f:[{t:7,e:"li",f:["Açık kaynaklı olmalı, herhangi bir şüpheye mahal vermemelidir. (bkz. ",{t:7,e:"a",m:[{n:"href",f:"https://github.com/ceremcem/vote-is-well",t:13,g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"github",g:1}],f:["Kaynak Kodlar"]}]},")"]},{t:7,e:"li",f:["Veritabanı, tüm katılımcılarla anlık olarak paylaşılmalıdır."]},{t:7,e:"li",f:["Sistem erişilebilir olmalı, mümkün olduğunca fazla çeşit cihazla ulaşılabilmelidir."]},{t:7,e:"li",f:["Sağlam olmalıdır: Seçim gecesi milyonlarca kişi neredeyse aynı anda sisteme giriş yapmak istediğinde sistem çökmemelidir."]},{t:7,e:"li",f:["Sistemin bir hata takip mekanizması olmalıdır (bkz. ",{t:7,e:"a",m:[{n:"href",f:"https://github.com/ceremcem/vote-is-well/issues",t:13,g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"github",g:1}],f:["Github"]}]},")"]}]}]},{t:7,e:"anchor",f:["howto"]},{t:7,e:"div",m:[{t:13,n:"class",f:"title",g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"dropdown",g:1}],f:["Çalışma Şekli"]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"content",g:1}],f:[" ",{t:7,e:"ul",f:[{t:7,e:"li",f:["Dağınık ve açık veritabanı olarak Twitter'ın kendisi kullanılmaktadır."]},{t:7,e:"li",f:["Tutanaklar belli bir hashtag ile Twitter'a yüklenecektir."]},{t:7,e:"li",f:["Tutanak dökümleri kişiler tarafından yorum olarak tweet'lerin altına yazılacaktır. "]},{t:7,e:"li",f:["Yüklenmiş tutanaklar işbu servis aracılığıyla otomatik olarak işlenecektir."]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui p",g:1}],f:["Ayrıntılar için (bkz. ",{t:7,e:"a",m:[{n:"href",f:"https://github.com/ceremcem/vote-is-well/blob/master/doc/Algorithm-tr.md",t:13,g:1}],f:["Algoritma"]},")"]}]},{t:7,e:"anchor",f:["history"]},{t:7,e:"div",m:[{t:13,n:"class",f:"title",g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"dropdown",g:1}],f:["Projenin Hikayesi"]}]},{t:7,e:"div",m:[{t:13,n:"style",f:"background-color: teal; border-radius: 10px;",g:1},{t:13,n:"class",f:"content",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"timeline",g:1}],f:[{t:4,f:[{t:19,f:[{t:8,r:"timeline-item"}],n:54,z:[{n:"_tmp",x:{r:"@local"}}]}],n:52,x:{r:["_","history"],s:"_0.reverse(_1)"}}]}]},{t:7,e:"anchor",f:["development"]},{t:7,e:"div",m:[{t:13,n:"class",f:"title",g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"dropdown",g:1}],f:["Kim tarafından geliştiriliyor?"]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"content",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"ui p",g:1}],f:["(bkz. ",{t:7,e:"a",m:[{n:"href",f:"https://github.com/ceremcem/vote-is-well/graphs/contributors",t:13,g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"github",g:1}],f:["geliştiriciler"]}]},")"]}]},{t:7,e:"anchor",f:["todo"]},{t:7,e:"div",m:[{t:13,n:"class",f:"title",g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"dropdown",g:1}],f:["Yol Haritası"]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"content",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"ui list",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"item",g:1}],f:['Twitter servisi yeni bir tutanak yüklenir yüklenmez "Görüldü, uygundur" şeklinde bir mesaj bıraksın.']},{t:7,e:"div",m:[{t:13,n:"class",f:"item strike-out",g:1}],f:["İşlenmesi gereken tweetler işbu sayfa aracılığıyla listelensin. "]},{t:7,e:"div",m:[{t:13,n:"class",f:"item strike-out",g:1}],f:["Twitter'a tutanak yükleme hızının grafiği bu sayfada gösterilsin."]}]}]}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"spacer",g:1}]}],p:{renderMarkup:[{t:4,f:[{t:8,x:{r:["."],s:"{template:_0}"}}],n:50,x:{r:["."],s:'typeof _0==="string"'}},{t:4,f:[{t:3,r:"."}],n:51,l:1}],"timeline-item":[{t:7,e:"div",m:[{n:"class",f:["container ",{t:4,f:["left"],n:50,x:{r:["@index"],s:"_0%2===0"}},{t:4,f:["right"],n:51,l:1}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"content",g:1}],f:[{t:7,e:"h2",f:[{t:2,r:".date"}," "]},{t:7,e:"p",f:[{t:8,r:"renderMarkup",c:{r:".content"}}]}]}]}]},e:{}},data:function(){return{history:[{date:"18 Nisan 2018, 01:18",content:'Açık Teyit sisteminin temelleri atıldı, tasarım kriterleri belirlendi.\n<a href="https://twitter.com/ceremcem/status/854404727454523392">*</a>'},{date:"18 Nisan 2018, 16:30",content:"Cumhurbaşkanı, 24 Haziran 2018 erken seçimini ilan etti."},{date:"4 Haziran 2018",content:'Kaynak kodu açık olmaması ve veritabanı kapalı olması\nnedeniyle AdilSecim\'in platformunun uygun olmadığı konusunda\ngereken ilk ikaz yapıldı.\n<a href="https://twitter.com/ceremcem/status/1003709895949078530">*</a>'},{date:"17 Haziran 2018",content:'Oy ve Ötesi, "müşahit olun" şeklinde çağrı yaparak mevcut insan kaynağının\ndaha da bölünmesine neden oldu.\n<a href="https://twitter.com/OyveOtesi/status/1008414542953635842">*</a>\n<a href="https://twitter.com/ceremcem/status/1008436476114292736">*</a>\n<a href="https://twitter.com/ceremcem/status/1008778482858504193">*</a>\n<a href="https://twitter.com/ceremcem/status/1008776890906304513">*</a>'},{date:"5-21 Haziran 2018",content:'Adil Seçim Platformu\'na teknik anlamdaki sorular ve endişeler\niletildi.\n<a href="https://twitter.com/ceremcem/status/1004036902486331394">*</a>\n<a href="https://twitter.com/ceremcem/status/1004037848142663687">*</a>'},{date:"22 Haziran 2018, 12:55",content:'Twitter\'ın üzerine inşa edilen Açık veritabanlı, dağınık mimarili sistem\nönerisi netleşti ve <a href="https://twitter.com/ceremcem/status/1010098855730434048">duyuruldu.</a>'},{date:"22 Haziran 2018, 14:00",content:'Diğer platformlara hem mail yoluyla hem Twitter\'dan iş birliği çağrısında bulunuldu.\n<a href="https://twitter.com/ceremcem/status/1010115545465868289">*</a>'},{date:"23 Haziran 2018",content:"Açık Teyit için Twitter servisinin yazılmasına başlandı."},{date:"24 Haziran 2018",content:"Seçim yapıldı."},{date:"25 Haziran 2018, 8:50",content:'Tüm müşahitlere, ellerindeki tutanakları Twitter\'a yüklemeleri konusunda\nçağrı yapıldı. <a href="https://twitter.com/ceremcem/status/1011115529510277120">*</a>'},{date:"25 Haziran 2018, 12:00",content:'Muharrem İNCE, "Elimizdeki tutanaklarla YSK sonuçlarını karşılaştırdık,\nseçim sonucunu etkileyecek bir fark görmedik, seçimin sonucunu kabul\nediyorum" dedi.'},{date:"25-28 Haziran 2018",content:'Tüm partilere, adaylara ve sivil organizasyonlara "Ellerinizdeki tutanakları paylaşın"\nçağrısı yapıldı, "<a href="https://twitter.com/hashtag/TutanaklarNerede?src=hash">\n#TutanaklarNerede</a>?" diye soruldu, ancak hiçbirinden cevap alınamadı.\n\n<a href="https://twitter.com/ceremcem/status/1011125144318857216">*</a>\n<a href="https://twitter.com/guventurks/status/1011258049300979712">*</a>\n<a href="https://twitter.com/ceremcem/status/1011720046920519682">*</a>\n<a href="https://twitter.com/ceremcem/status/1011312033382453248">*</a>\n<a href="https://twitter.com/mirelle11/status/1011912737486704651">*</a>'},{date:"1 Temmuz 2018",content:'İşbu web uygulaması devreye alındı.\n<a href="https://twitter.com/acikteyit/status/1013507202781466624">*</a>'}]}}})},{}],374:[function(require,module,exports){var e;try{require("aea/defaults"),require("components"),require("./home"),require("./menu"),require("./login"),require("./about"),require("./tools"),require("./stats"),loadingMessage("Getting 2/3"),getDep("css/vendor2.css",function(){return loadingMessage("Getting 3/3"),getDep("js/vendor2.js",function(){return new Ractive({el:"body",template:{v:4,t:[{t:7,e:"router",m:[{n:"offset",f:"60",t:13,g:1}]},{t:7,e:"logger"},{t:7,e:"aktos-dcs",m:[{n:"url",f:[{t:2,r:"dcsUrl"}],t:13}]},{t:7,e:"side-menu"},{t:7,e:"top-menu"},{t:7,e:"scene",m:[{t:13,n:"class",f:"pusher",g:1},{n:"name",f:"home",t:13,g:1},{n:"default",f:0,t:13},{n:"public",f:0,t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui container",g:1}],f:[{t:7,e:"home"}]}]},{t:7,e:"scene",m:[{t:13,n:"class",f:"pusher",g:1},{n:"name",f:"login",t:13,g:1},{n:"public",f:0,t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui container",g:1}],f:[{t:7,e:"login"}]}]},{t:7,e:"scene",m:[{t:13,n:"class",f:"pusher",g:1},{n:"name",f:"about",t:13,g:1},{n:"public",f:0,t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui container",g:1}],f:[{t:7,e:"about"}]}]},{t:7,e:"scene",m:[{t:13,n:"class",f:"pusher",g:1},{n:"name",f:"tools",t:13,g:1},{n:"public",f:0,t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui container",g:1}],f:[{t:7,e:"tools"}]}]},{t:7,e:"scene",m:[{t:13,n:"class",f:"pusher",g:1},{n:"name",f:"stats",t:13,g:1},{n:"public",f:0,t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui container",g:1}],f:[{t:7,e:"stats"}]}]},{t:7,e:"scene",m:[{t:13,n:"class",f:"pusher",g:1},{n:"name",f:"NOTFOUND",t:13,g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui container",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui orange message big",g:1}],f:["Aradığınız sayfa bulunamadı. Bunun bir hata olduğunu düşünüyorsanız lütfen ",{t:7,e:"a",m:[{n:"href",f:"https://github.com/ceremcem/vote-is-well/issues",t:13,g:1}],f:["hata bildirin."]}]}]}]},{t:7,e:"scene",m:[{t:13,n:"class",f:"pusher",g:1},{n:"name",f:"UNAUTHORIZED",t:13,g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui container",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui red message",g:1}],f:["Yetkiniz yok."]}]}]}]},data:{dcsUrl:"https://aktos.io/acikteyit"},oncomplete:function(){var info,start,this$=this;return info=PNotify.notice({text:"Fetching dependencies...",hide:!1,addClass:"nonblock"}),start=Date.now(),getScriptCached("js/dep.js",function(){var elapsed;return info.close(),elapsed=(Date.now()-start)/1e3,PNotify.info({text:"Dependencies are loaded in "+Math.round(10*elapsed)/10+" s",addClass:"nonblock"}),this$.set("@shared.deps",!0)})}})})})}catch(e$){e=e$,loadingError(e.stack||e)}},{"./about":373,"./home":375,"./login":376,"./menu":377,"./stats":378,"./tools":379,"aea/defaults":70,components:37}],375:[function(require,module,exports){Ractive.components.home=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{t:13,n:"style",f:"padding: 2em;",g:1},{t:13,n:"class",f:"ui message big",g:1}],f:[{t:7,e:"img",m:[{t:13,n:"class",f:"ui centered small image",g:1},{n:"src",f:"images/data-arrived.png",t:13,g:1}]},{t:7,e:"h2",m:[{t:13,n:"style",f:"margin: 1em;",g:1},{t:13,n:"class",f:"ui horizontal divider header",g:1}],f:["Nedir"]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui p",g:1}],f:["Seçimlerde sandık müşahitleri tarafından toplanan sandık sonuç tutanakları ile resmi kaynakların açıklamalarını karşılaştırıp teyit etmek için ",{t:7,e:"a",m:[{n:"href",f:"#/about#design",t:13,g:1}],f:["doğru şekilde tasarlanarak"]}," kurulmuş sistemdir. "]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui p",g:1}],f:["Toplanan tutanaklar müşahitler tarafından Twitter'a yüklenecek ve ",{t:7,e:"a",m:[{n:"href",f:"https://twitter.com/acikteyit",t:13,g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"twitter",g:1}],f:["@acikteyit"]}]}," tarafından işlenecektir. (bkz. ",{t:7,e:"a",m:[{n:"href",f:"#/about#howto",t:13,g:1}],f:["çalışma şekli"]},") "]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui p",g:1}],f:[{t:7,e:"btn",m:[{t:13,n:"class",f:"large icon purple",g:1},{n:"href",f:"#/tools#tweet-olustur",t:13,g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"play",g:1}],f:["Başlayın"]}]}]}]}]}})},{}],376:[function(require,module,exports){Ractive.components.login=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{t:13,n:"style",f:"margin-bottom: 10%;",g:1}]},{t:7,e:"div",m:[{n:"style",f:[{t:4,f:["display: none;"],n:50,x:{r:["@global.session.token"],s:"!(!_0)"}},{t:4,f:["display: inline"],n:51,l:1}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui four column stackable center aligned grid",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"column",g:1}],f:[{t:7,e:"form",m:[{t:13,n:"class",f:"ui form",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui left icon input",g:1}],f:[{t:7,e:"input",m:[{n:"class",f:"username",t:13},{n:"value",f:[{t:2,r:"user"}],t:13},{n:"placeholder",f:"username",t:13},{n:["enter"],t:70,f:"focusPassword"}]},{t:7,e:"i",m:[{t:13,n:"class",f:"user icon",g:1}],f:[]}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"ui left icon input",g:1}],f:[{t:7,e:"input",m:[{n:"class",f:"password",t:13},{n:"value",f:[{t:2,r:"password"}],t:13},{n:"placeholder",f:"password",t:13},{n:"type",f:"password",t:13},{n:["enter"],t:70,f:"clickLogin"}]},{t:7,e:"i",m:[{t:13,n:"class",f:"lock icon",g:1}],f:[]}]}]},{t:7,e:"login-button",m:[{t:13,n:"class",f:"fluid green",g:1},{n:"user",f:[{t:2,r:"user"}],t:13},{n:"password",f:[{t:2,r:"password"}],t:13},{n:"wid",f:"login-button",t:13,g:1},{n:["success"],t:70,f:"success"}],f:["Login"]}]}]}]}]},{t:7,e:"div",m:[{n:"style",f:[{t:4,f:["display: none;"],n:50,x:{r:["@global.session.token"],s:"!(_0)"}},{t:4,f:["display: inline"],n:51,l:1}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui ten column stackable center aligned grid",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"six wide column",g:1}],f:[{t:7,e:"h1",m:[{t:13,n:"class",f:"ui header",g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"green check",g:1}],f:["Logged in"]}]},{t:7,e:"btn",m:[{t:13,n:"class",f:"right labeled icon teal",g:1},{n:"href",f:["#/",{t:2,r:"@global.session.openingScene"}],t:13},{n:"wid",f:"go-to-opening-scene",t:13,g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"toggle right",g:1}],f:["Opening scene"]}]}]}]}]}],e:{}},isolated:!1,data:function(){return{user:null,password:null}},onrender:function(){var usernameInput,passwordInput;return usernameInput=$(this.find("input.username")),passwordInput=$(this.find("input.password")),usernameInput.focus(),usernameInput.on("keyup",function(key){var inp,lower;if((inp=usernameInput.val()).length<2)return lower=inp.toLowerCase(),usernameInput.val(lower)}),this.on({clickLogin:function(ctx){return this.findWid("login-button").fire("click")},focusPassword:function(ctx){return passwordInput.focus()},success:function(ctx){return this.findAllComponents().forEach(function(x){if("go-to-opening-scene"===x.get("wid"))return x.fire("click")})}})}})},{}],377:[function(require,module,exports){var compact;compact=require("prelude-ls").compact,require("actors").RactiveActor,Ractive.components["top-menu"]=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui fixed inverted main menu",g:1}],f:[{t:7,e:"a",m:[{t:13,n:"class",f:"launch icon item",g:1},{n:"onclick",f:"$('.ui.sidebar').sidebar('toggle')",t:13,g:1}],f:[{t:7,e:"i",m:[{t:13,n:"class",f:"content icon",g:1}],f:[]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"right menu",g:1}]}]}]}}),Ractive.components["side-menu"]=Ractive.extend({template:{v:4,t:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui vertical inverted large sidebar menu left",g:1}],f:[{t:7,e:"a",m:[{t:13,n:"class",f:"item",g:1},{n:"href",f:"#/",t:13,g:1}],f:[{t:7,e:"img",m:[{t:13,n:"class",f:"ui mini avatar image",g:1},{n:"src",f:"https://user-images.githubusercontent.com/6639874/42140145-497092a8-7da3-11e8-8028-8ec89adc6034.png",t:13,g:1}]},{t:7,e:"span",m:[{t:13,n:"style",f:"font-weight: bold;",g:1}],f:["açık teyit"]}]},{t:7,e:"div",m:[{t:13,n:"style",f:"font-size: 1.2em;",g:1},{t:13,n:"class",f:"menu",g:1}],f:[{t:4,f:[{t:19,f:[{t:7,e:"a",m:[{t:13,n:"class",f:"item",g:1},{n:"href",f:[{t:2,r:".url"}],t:13}],f:[{t:7,e:"b",f:[{t:2,r:".title"}]},{t:4,f:[{t:7,e:"i",m:[{n:"class",f:["icon ",{t:2,r:".icon"}],t:13}]}],n:50,r:".icon"},{t:4,f:[{t:7,e:"i",m:[{t:13,n:"class",f:"code icon",g:1}]}],n:51,l:1}]},{t:4,f:[{t:7,e:"div",m:[{t:13,n:"class",f:"item",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"menu",g:1}],f:[{t:4,f:[{t:19,f:[{t:7,e:"a",m:[{t:13,n:"class",f:"item",g:1},{n:"href",f:[{t:2,rx:{r:"menu",m:[{t:30,n:"@index"},"url"]}},{t:2,r:".url"}],t:13}],f:[{t:2,r:".title"},{t:4,f:[{t:7,e:"i",m:[{n:"class",f:["icon ",{t:2,r:".icon"}],t:13}]}],n:50,r:".icon"}]}],n:54,z:[{n:"_tmp",x:{r:"@local"}}]}],n:52,r:".submenu"}]}]}],n:50,r:".submenu"}],n:54,z:[{n:"_tmp",x:{r:"@local"}}]}],n:52,r:"menu"}]}]}]},isolated:!1,onrender:function(){return $(this.find(".ui.sidebar")).sidebar()},computed:{menu:{get:function(){var x$,x;return(x$=x=[]).push({title:"Araçlar",url:"#/tools"}),x$.push({title:"İstatistikler",url:"#/stats"}),x$.push({title:"Hakkında",url:"#/about"}),compact(x)}}}})},{actors:65,"prelude-ls":330}],378:[function(require,module,exports){var sortBy;sortBy=require("prelude-ls").sortBy,Ractive.components.stats=Ractive.extend({template:{v:4,t:[{t:7,e:"h3",m:[{t:13,n:"class",f:"ui header block",g:1}],f:["Güncel Durum   ",{t:7,e:"a",m:[{n:"href",f:"https://twitter.com/hashtag/TR24Haziran2018?src=hash",t:13,g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui blue tag label",g:1}],f:["#TR24Haziran2018"]}]}]},{t:7,e:"p",f:["(Dakikada 1 kez güncellenir, son güncelleme: ",{t:2,x:{r:["unixToReadable","udate"],s:"_0(_1)"}},")"]},{t:7,e:"sync",m:[{n:"route",f:"@twitter-service.total2",t:13,g:1},{n:"value",f:[{t:2,r:"twitter.total2"}],t:13},{n:"date",f:[{t:2,r:"udate"}],t:13}]},{t:7,e:"ui-progress",m:[{t:13,n:"class",f:"green",g:1},{n:"min",f:"0",t:13,g:1},{n:"max",f:"10000",t:13,g:1},{n:"value",f:[{t:2,r:"twitter.total2.count"}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"label",g:1}],f:[{t:2,r:"value"},"/",{t:2,r:"max"}," Tutanak"]}]},{t:7,e:"anchor",f:["upload-graph"]},{t:7,e:"h4",m:[{t:13,n:"class",f:"ui header top attached inverted",g:1}],f:["Twitter'a Tutanak Yüklenme Adetleri ",{t:7,e:"a",m:[{n:"href",f:"#upload-graph",t:13,g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"linkify",g:1}]}]}]},{t:7,e:"async",f:[{t:7,e:"div",m:[{t:13,n:"style",f:"padding-top: 5em; background-color: rgb(54,54,54);",g:1},{t:13,n:"class",f:"ui segment bottom attached",g:1}],f:[{t:7,e:"time-series",m:[{n:"data",f:[{t:2,x:{r:["tweetsGraph","twitter.total2.tweets"],s:"_0(_1)"}}],t:13},{n:"y-format",f:"#",t:13,g:1},{n:"name",f:"Toplam",t:13,g:1}],f:[]}]}]},{t:7,e:"h4",m:[{t:13,n:"class",f:"ui header block top attached",g:1}],f:["Mevcut Tutanaklar"]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui segment bottom attached",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"ui message orange",g:1}],f:['Kırmızı ile işaretlenen tutanaklar "anlaşılamadı" demektir, anlaşılır formatta dökümü oluşturulup tweet\'in altına yorum olarak girilerek düzeltilebilir. ']},{t:7,e:"div",m:[{t:13,n:"style",f:"height: 300px; overflow: auto;",g:1},{t:13,n:"class",f:"ui list relaxed divided selection",g:1}],f:[" ",{t:4,f:[{t:19,f:[{t:19,f:[{t:7,e:"a",m:[{n:"class",f:["item ",{t:2,r:"state"}],t:13},{n:"href",f:[{t:2,r:"tweet.url"}],t:13}],f:[{t:7,e:"icon",m:[{n:"class",f:["large middle aligned twitter ",{t:2,r:"state"}],t:13}]},{t:7,e:"div",m:[{t:13,n:"class",f:"content",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"description",g:1}],f:[{t:7,e:"span",m:[{n:"class",f:["text ",{t:2,r:"state"}],t:13}],f:[{t:2,r:"tweet.text"}]}]}]}]}],n:54,z:[{n:"state",x:{x:{r:["checkFormat","tweet.text"],s:"_0(_1)"}}}]}],n:54,z:[{n:"_tmp",x:{r:"@local"}}]}],n:52,z:[{n:"tweet",x:{r:"."}}],r:"twitter.total2.tweets"}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"spacer",g:1}],f:[]}],e:{}},data:function(){return{checkFormat:function(text){return text.toLowerCase().match("sandık")?"green":"red"},tweetsGraph:function(tweets){var total,series,i$,x$,ref$,len$;for(total=0,series=[],i$=0,len$=(ref$=sortBy(function(it){return it.date})(tweets||[])).length;i$<len$;++i$)x$=ref$[i$],series.push({key:x$.date,value:++total});return series}}}})},{"prelude-ls":330}],379:[function(require,module,exports){var nestedCities,copyToClipboard;nestedCities=require("db/turkey-cities-json/nested"),copyToClipboard=require("aea").copyToClipboard,require("prelude-ls").sortBy,Ractive.components.tools=Ractive.extend({template:{v:4,t:[{t:7,e:"h2",m:[{t:13,n:"class",f:"ui top attached block header",g:1}],f:["Tutanak Metni Oluştur "]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui segment bottom attached",g:1}],f:[" ",{t:7,e:"h3",m:[{t:13,n:"class",f:"header ui",g:1}],f:["İzlenecek Adımlar"]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui list",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"item",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"content",g:1}],f:["1. Aşağıda istenen alanları tutanaktan okuyarak giriniz. (kalan dökümler 10 bin tutanak toplandıktan sonra girilecektir)"]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"item",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"content",g:1}],f:['2. "Tweet Metni Oluştur"un.']}]},{t:7,e:"div",m:[{t:13,n:"class",f:"item",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"content",g:1}],f:["3. Kopyalayıp yeni oluşturduğunuz (ya da mevcut olan) tweet'e yapıştırın."]}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui message",g:1}],f:[" ",{t:7,e:"h4",m:[{t:13,n:"class",f:"header ui",g:1}],f:["Hatalar ve çözümler"]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui accordion",g:1},{n:"accordion",t:71}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"title",g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"dropdown",g:1}],f:["Tweet formatı uygun değil"]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"content",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui p",g:1}],f:['Eğer gönderdiğiniz tutanağa otomatik servis tarafından "Tweet formatı uygun değil" şeklinde yorum yapıldıysa gönderdiğiniz tweet\'i silip buradaki yönergeye göre baştan yükleyiniz.']}]}]}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui segment",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"ui form",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"fields",g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[{t:7,e:"label",f:["İl "]},{t:7,e:"dropdown",m:[{n:"data",f:[{t:2,r:"cities"}],t:13},{n:"selected-key",f:[{t:2,r:"record.city"}],t:13},{n:"key",f:"city",t:13,g:1},{n:"name",f:"city",t:13,g:1},{n:["select"],t:70,f:"selectCity"}],f:[]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[" ",{t:7,e:"label",f:["İlçe "]},{t:7,e:"dropdown",m:[{n:"data",f:[{t:2,r:"districts"}],t:13},{n:"selected-key",f:[{t:2,r:"record.district"}],t:13}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"field",g:1}],f:[" ",{t:7,e:"label",f:["Sandık No "]},{t:7,e:"input",m:[{n:"value",f:[{t:2,r:"record.ballot"}],t:13},{n:"type",f:"number",t:13}]}]}]}]},{t:7,e:"ack-button",m:[{t:13,n:"class",f:"green",g:1},{n:["click"],t:70,f:"createTweet"}],f:["Tweet Metni Oluştur"]},{t:7,e:"a",m:[{n:"href",f:"https://github.com/ceremcem/vote-is-well/issues",t:13,g:1}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui button orange icon float right",g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"help",g:1}],f:["Sorun Bildir"]}]}]},{t:7,e:"modal",m:[{n:"title",f:"Tweet Metni",t:13,g:1},{n:"basedon",f:[{t:2,r:"mymodal1"}],t:13}],f:[{t:7,e:"div",m:[{t:13,n:"class",f:"ui p",g:1}],f:["Aşağıdaki Tweet'i ilgili tutanağa yorum olarak yapıştırın:"]},{t:7,e:"div",m:[{t:13,n:"class",f:"ui form",g:1}],f:[" ",{t:7,e:"div",m:[{t:13,n:"class",f:"fields",g:1}],f:[{t:7,e:"textarea",m:[{n:"value",f:[{t:2,r:"tweetText"}],t:13},{n:"rows",f:"2",t:13},{n:"readonly",f:0,t:13}],f:[" "]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"fields",g:1}],f:[" ",{t:7,e:"btn",m:[{t:13,n:"class",f:"icon blue",g:1},{n:["click"],t:70,f:"copyTweet"},{n:"tooltip",f:"Tweet'i panoya kopyala",t:13,g:1}],f:[{t:7,e:"icon",m:[{t:13,n:"class",f:"copy",g:1}],f:["Kopyala"]}]}]}]}]}]},{t:7,e:"div",m:[{t:13,n:"class",f:"spacer",g:1}],f:[]}]},onrender:function(){return this.set("cities",nestedCities),this.on({selectCity:function(ctx,item,proceed){return this.set("districts",function(){var i$,x$,ref$,len$,results$=[];for(i$=0,len$=(ref$=item.districts).length;i$<len$;++i$)x$=ref$[i$],results$.push({id:x$,name:x$});return results$}()),this.set("record.district",""),proceed()},createTweet:function(ctx){var btn,record;return btn=ctx.component,(record=this.get("record")).city?record.district?record.ballot?(this.set("tweetText","#TR24Haziran2018 Sandık: "+record.city+"/"+record.district+"/"+record.ballot),this.set("mymodal1",!0)):btn.error("Sandık numarası boş geçilemez."):btn.error("İlçe boş geçilemez."):btn.error("Şehir boş geçilemez.")},copyTweet:function(ctx){return copyToClipboard(this.get("tweetText")),PNotify.info({title:"Kopyalandı",text:"Tweet panoya kopyalandı."})}})}})},{aea:75,"db/turkey-cities-json/nested":1,"prelude-ls":330}]},{},[374]);