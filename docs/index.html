<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta http-equiv="pragma" content="no-cache">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="google" value="notranslate">
    <link rel="icon" href="favicon.ico">
    <link rel="icon" sizes="192x192" href="favicon.ico">
    <title>Açık Teyit</title>
    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
    <script src="js/vendor.js"></script>
    <script>if (window.module) module = window.module;</script>
    <link rel="stylesheet" href="css/vendor.css">
    <style>
      body {
          background: url(https://user-images.githubusercontent.com/6639874/42137638-82168cc8-7d78-11e8-9c3f-c78e61621d0e.png)
      }
    </style>
  </head>
  <body ontouchstart>
    <div class="pusher" id="main-output"> 
      <div class="ui centered grid">
        <div class="row">
          <div class="column" style="padding-top: 10%"><img class="ui small centered image" src="scadajs-logo-long.svg"></div>
        </div>
      </div>
      <div class="ui active big text loader" id="main-output">
        <p>Loading Application... (%<b id="percent"></b>)</p>
        <div class="ui progress teal" id="percentProgress">
          <div class="bar" style="min-width: 0 !important;"></div>
        </div>
        <div class="ui message red" id="loading-error">Something went wrong while loading. Try to reload the page.</div>
      </div>
    </div>
    <pre id="debugDiv"></pre>
    <script>var toString$ = {}.toString;
(function(){
  var old, logger;
  old = console.log;
  logger = document.getElementById('debugDiv');
  return console.log = function(){
    var i$, len$, arg, results$ = [];
    old.apply(console, arguments);
    try {
      for (i$ = 0, len$ = arguments.length; i$ < len$; ++i$) {
        arg = arguments[i$];
        results$.push(logger.innerHTML += toString$.call(arg).slice(8, -1) === 'Object'
          ? JSON && JSON.strigify ? JSON.stringify(arg, undefined, 2) : "Something we can not convert with JSON.stringify"
          : arg + "<br />");
      }
      return results$;
    } catch (e$) {}
  };
})();
    </script>
    <div id="dynamic-script"></div>
    <script>var addScript;
addScript = function(scriptData){
  var newdiv, script, e;
  newdiv = document.createElement('div');
  script = document.createElement('script');
  script.innerHTML = scriptData;
  newdiv.appendChild(script);
  try {
    return document.getElementById('dynamic-script').appendChild(newdiv);
  } catch (e$) {
    e = e$;
    return console.warn("This is a workaround in templates/load-app.ls because window.onload is not firing in electron.");
  }
};
$.ajax({
  url: 'app.js',
  type: 'GET',
  success: function(data){
    console.log("page loaded. data length: ", data.length);
    return addScript(data);
  },
  error: function(e){
    var msg;
    msg = "something went wrong while loading page: ";
    console.log(msg, e);
    return $('#loading-error').show();
  },
  xhr: function(){
    var xhr;
    $('#percentProgress').progress({
      showActivity: false
    });
    $('#loading-error').hide();
    xhr = new window.XMLHttpRequest();
    xhr.upload.addEventListener('progress', function(ev){
      var percentComplete;
      if (ev.lengthComputable) {
        percentComplete = ev.loaded / ev.total;
        return console.log("Upload complete % " + percentComplete * 100);
      }
    }, false);
    xhr.addEventListener('progress', function(ev){
      var percentComplete, percentInt;
      if (ev.lengthComputable) {
        percentComplete = ev.loaded / ev.total;
        percentInt = parseInt(percentComplete * 100);
        $('#percent').text(percentInt);
        return $('#percentProgress').progress("set progress", percentInt);
      }
    }, false);
    return xhr;
  }
});
    </script>
  </body>
</html>